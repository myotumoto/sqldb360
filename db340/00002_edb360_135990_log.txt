begin log

TOOL_EXEC_HOURS
---------------------------------------------------------------------
Tool Execution Hours so far: .002

1 linha selecionada.


DEFINE _DATE           = "2024-10-03T09:29:29" (CHAR)
DEFINE _CONNECT_IDENTIFIER = "db340" (CHAR)
DEFINE _USER           = "SYSTEM" (CHAR)
DEFINE _PRIVILEGE      = "" (CHAR)
DEFINE _SQLPLUS_RELEASE = "1903000000" (CHAR)
DEFINE _EDITOR         = "Notepad" (CHAR)
DEFINE _O_VERSION      = "Oracle Database 11g Release 11.2.0.4.0 - 64bit Production" (CHAR)
DEFINE _O_RELEASE      = "1102000400" (CHAR)
DEFINE ASH_VALIDATION  = "" (CHAR)
DEFINE V_DOLLAR        = "V$" (CHAR)
DEFINE MY_SID          = "209" (CHAR)
DEFINE LICENSE_PACK    = "N" (CHAR)
DEFINE DIAGNOSTICS_PACK = "N" (CHAR)
DEFINE SKIP_DIAGNOSTICS = "--" (CHAR)
DEFINE TUNING_PACK     = "N" (CHAR)
DEFINE SKIP_TUNING     = "--" (CHAR)
DEFINE CUSTOM_CONFIG_FILENAME = "null" (CHAR)
DEFINE EDB360_ESTIMATED_HRS = "0" (CHAR)
DEFINE _RC             = "1" (CHAR)
DEFINE EDB360_SECTIONS = "" (CHAR)
DEFINE SQL_TRACE_LEVEL = "1" (CHAR)
DEFINE EDB360_CONF_DAYS = "31" (CHAR)
DEFINE EDB360_CONF_DATE_FROM = "YYYY-MM-DD" (CHAR)
DEFINE EDB360_CONF_DATE_TO = "YYYY-MM-DD" (CHAR)
DEFINE EDB360_CONF_WORK_TIME_FROM = "0730" (CHAR)
DEFINE EDB360_CONF_WORK_TIME_TO = "1930" (CHAR)
DEFINE EDB360_CONF_WORK_DAY_FROM = "2" (CHAR)
DEFINE EDB360_CONF_WORK_DAY_TO = "6" (CHAR)
DEFINE EDB360_CONF_MAX_HOURS = "24" (CHAR)
DEFINE EDB360_CHART_WIDTH = "809px" (CHAR)
DEFINE EDB360_CONF_INCL_DBNAME_INDEX = "N" (CHAR)
DEFINE EDB360_CONF_INCL_DBNAME_FILE = "N" (CHAR)
DEFINE EDB360_CONF_INCL_ASH_MEM = "N" (CHAR)
DEFINE EDB360_CONF_INCL_SQL_MON = "N" (CHAR)
DEFINE EDB360_CONF_INCL_STAT_MEM = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_PX_MEM = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_SEGMENTS = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_SOURCE = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_METADATA = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_EADAM = "Y" (CHAR)
DEFINE EDB360_EADAM_ROW_LIMIT = "10000000" (CHAR)
DEFINE TOOL_REPO_USER  = "" (CHAR)
DEFINE EDB360_OUTPUT_DIRECTORY = "" (CHAR)
DEFINE EDB360_MOVE_DIRECTORY = "" (CHAR)
DEFINE SKIP_ESP_AND_ESCP = "" (CHAR)
DEFINE EDB360_CONFIG_DBID = "" (CHAR)
DEFINE EDB360_HOST_NAME_SEPARATOR = "" (CHAR)
DEFINE EDB360_HOST_NAME_POSITION = "" (CHAR)
DEFINE EDB360_HOST_NAME_OCCURRENCE = "" (CHAR)
DEFINE EDB360_CONF_INCL_HTML = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_XML = "N" (CHAR)
DEFINE EDB360_CONF_INCL_TEXT = "N" (CHAR)
DEFINE EDB360_CONF_INCL_CSV = "N" (CHAR)
DEFINE EDB360_CONF_INCL_LINE = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_PIE = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_BAR = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_PERFHUB = "N" (CHAR)
DEFINE EDB360_CONF_INCL_AWR_RPT = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_AWR_DIFF_RPT = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_AWR_RANGE_RPT = "N" (CHAR)
DEFINE EDB360_CONF_INCL_ADDM_RPT = "N" (CHAR)
DEFINE EDB360_CONF_INCL_ASH_RPT = "N" (CHAR)
DEFINE EDB360_CONF_INCL_ASH_ANALY_RPT = "N" (CHAR)
DEFINE EDB360_CONF_INCL_TKPROF = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_PLOT_AWR = "N" (CHAR)
DEFINE EDB360_CONF_SERIES_SELECTION = "N" (CHAR)
DEFINE EDB360_MAX_WORK_DAYS_PEAKS = "3" (CHAR)
DEFINE EDB360_MIN_WORK_DAYS_PEAKS = "1" (CHAR)
DEFINE EDB360_MAX_HISTORY_PEAKS = "3" (CHAR)
DEFINE EDB360_MED_HISTORY = "1" (CHAR)
DEFINE EDB360_MAX_5WD_PEAKS = "3" (CHAR)
DEFINE EDB360_MIN_5WD_PEAKS = "1" (CHAR)
DEFINE EDB360_MAX_7D_PEAKS = "3" (CHAR)
DEFINE EDB360_MED_7D   = "1" (CHAR)
DEFINE EDB360_CONF_TOP_SQL = "16" (CHAR)
DEFINE EDB360_CONF_TOP_CUR = "2" (CHAR)
DEFINE EDB360_CONF_TOP_SIG = "2" (CHAR)
DEFINE EDB360_CONF_PLANX_TOP = "16" (CHAR)
DEFINE EDB360_CONF_SQLMON_TOP = "0" (CHAR)
DEFINE EDB360_CONF_SQLASH_TOP = "0" (CHAR)
DEFINE EDB360_CONF_SQLHC_TOP = "0" (CHAR)
DEFINE EDB360_CONF_SQLD360_TOP = "8" (CHAR)
DEFINE EDB360_CONF_SQLD360_TOP_TC = "0" (CHAR)
DEFINE EDB360_CONF_DD_MODE = "AUTO" (CHAR)
DEFINE EDB360_CONF_CON_OPTION = "A" (CHAR)
DEFINE EDB360_CONF_IS_CDB = "A" (CHAR)
DEFINE TOOL_PREFIX_1   = "dba_hist#" (CHAR)
DEFINE TOOL_PREFIX_2   = "dba#" (CHAR)
DEFINE TOOL_PREFIX_3   = "gv#" (CHAR)
DEFINE TOOL_PREFIX_4   = "v#" (CHAR)
DEFINE EDB360_CONF_TOOL_PAGE = "<a href="http://carlos-sierra.net/edb360-an-oracle-database-360-degree-view/" target="_blank">" (CHAR)
DEFINE EDB360_CONF_ALL_PAGES_ICON = "<a href="http://carlos-sierra.net/edb360-an-oracle-database-360-degree-view/" target="_blank"><img src="database.jpg" alt="eDB360" height="33" width="52" /></a>" (CHAR)
DEFINE EDB360_CONF_ALL_PAGES_LOGO = "" (CHAR)
DEFINE EDB360_CONF_GOOGLE_CHARTS = "<script type="text/javascript" src="https://www.google.com/jsapi"></script>" (CHAR)
DEFINE EDB360_VYYNN    = "v241" (CHAR)
DEFINE EDB360_VRSN     = "v241 (2024-03-07)" (CHAR)
DEFINE EDB360_COPYRIGHT = "Enkitec (c) 2024" (CHAR)
DEFINE EDB360_BYPASS   = "" (CHAR)
DEFINE IS_VER_EQ_9_1   = "N" (CHAR)
DEFINE IS_VER_EQ_9_2   = "N" (CHAR)
DEFINE IS_VER_EQ_9     = "N" (CHAR)
DEFINE IS_VER_EQ_10_1  = "N" (CHAR)
DEFINE IS_VER_EQ_10_2  = "N" (CHAR)
DEFINE IS_VER_EQ_10    = "N" (CHAR)
DEFINE IS_VER_EQ_11_1  = "N" (CHAR)
DEFINE IS_VER_EQ_11_2  = "Y" (CHAR)
DEFINE IS_VER_EQ_11_201 = "N" (CHAR)
DEFINE IS_VER_EQ_11_203 = "N" (CHAR)
DEFINE IS_VER_EQ_11    = "Y" (CHAR)
DEFINE IS_VER_EQ_12_1  = "N" (CHAR)
DEFINE IS_VER_EQ_12_101 = "N" (CHAR)
DEFINE IS_VER_EQ_12_2  = "N" (CHAR)
DEFINE IS_VER_EQ_12    = "N" (CHAR)
DEFINE IS_VER_EQ_18    = "N" (CHAR)
DEFINE IS_VER_EQ_19    = "N" (CHAR)
DEFINE IS_VER_EQ_20    = "N" (CHAR)
DEFINE IS_VER_LE_9_1   = "N" (CHAR)
DEFINE IS_VER_LE_9_2   = "N" (CHAR)
DEFINE IS_VER_LE_9     = "N" (CHAR)
DEFINE IS_VER_LE_10_1  = "N" (CHAR)
DEFINE IS_VER_LE_10_2  = "N" (CHAR)
DEFINE IS_VER_LE_10    = "N" (CHAR)
DEFINE IS_VER_LE_11_1  = "N" (CHAR)
DEFINE IS_VER_LE_11_2  = "Y" (CHAR)
DEFINE IS_VER_LE_11_201 = "Y" (CHAR)
DEFINE IS_VER_LE_11_203 = "Y" (CHAR)
DEFINE IS_VER_LE_11    = "Y" (CHAR)
DEFINE IS_VER_LE_12_1  = "Y" (CHAR)
DEFINE IS_VER_LE_12_101 = "Y" (CHAR)
DEFINE IS_VER_LE_12_2  = "Y" (CHAR)
DEFINE IS_VER_LE_12    = "Y" (CHAR)
DEFINE IS_VER_LE_18    = "Y" (CHAR)
DEFINE IS_VER_LE_19    = "Y" (CHAR)
DEFINE IS_VER_LE_20    = "Y" (CHAR)
DEFINE IS_VER_GE_9_1   = "Y" (CHAR)
DEFINE IS_VER_GE_9_2   = "Y" (CHAR)
DEFINE IS_VER_GE_9     = "Y" (CHAR)
DEFINE IS_VER_GE_10_1  = "Y" (CHAR)
DEFINE IS_VER_GE_10_2  = "Y" (CHAR)
DEFINE IS_VER_GE_10    = "Y" (CHAR)
DEFINE IS_VER_GE_11_1  = "Y" (CHAR)
DEFINE IS_VER_GE_11_2  = "Y" (CHAR)
DEFINE IS_VER_GE_11    = "Y" (CHAR)
DEFINE IS_VER_GE_12_1  = "N" (CHAR)
DEFINE IS_VER_GE_12_2  = "N" (CHAR)
DEFINE IS_VER_GE_12    = "N" (CHAR)
DEFINE IS_VER_GE_18    = "N" (CHAR)
DEFINE IS_VER_GE_19    = "N" (CHAR)
DEFINE IS_VER_GE_20    = "N" (CHAR)
DEFINE SKIP_VER_EQ_9_1 = "" (CHAR)
DEFINE SKIP_VER_EQ_9_2 = "" (CHAR)
DEFINE SKIP_VER_EQ_9   = "" (CHAR)
DEFINE SKIP_VER_EQ_10_1 = "" (CHAR)
DEFINE SKIP_VER_EQ_10_2 = "" (CHAR)
DEFINE SKIP_VER_EQ_10  = "" (CHAR)
DEFINE SKIP_VER_EQ_11_1 = "" (CHAR)
DEFINE SKIP_VER_EQ_11_2 = "--" (CHAR)
DEFINE SKIP_VER_EQ_11_201 = "" (CHAR)
DEFINE SKIP_VER_EQ_11_203 = "" (CHAR)
DEFINE SKIP_VER_EQ_11  = "--" (CHAR)
DEFINE SKIP_VER_EQ_12_101 = "" (CHAR)
DEFINE SKIP_VER_EQ_12_1 = "" (CHAR)
DEFINE SKIP_VER_EQ_12_2 = "" (CHAR)
DEFINE SKIP_VER_EQ_12  = "" (CHAR)
DEFINE SKIP_VER_EQ_18  = "" (CHAR)
DEFINE SKIP_VER_EQ_19  = "" (CHAR)
DEFINE SKIP_VER_EQ_20  = "" (CHAR)
DEFINE SKIP_VER_LE_9_1 = "" (CHAR)
DEFINE SKIP_VER_LE_9_2 = "" (CHAR)
DEFINE SKIP_VER_LE_9   = "" (CHAR)
DEFINE SKIP_VER_LE_10_1 = "" (CHAR)
DEFINE SKIP_VER_LE_10_2 = "" (CHAR)
DEFINE SKIP_VER_LE_10  = "" (CHAR)
DEFINE SKIP_VER_LE_11_1 = "" (CHAR)
DEFINE SKIP_VER_LE_11_2 = "--" (CHAR)
DEFINE SKIP_VER_LE_11_201 = "--" (CHAR)
DEFINE SKIP_VER_LE_11_203 = "--" (CHAR)
DEFINE SKIP_VER_LE_11  = "--" (CHAR)
DEFINE SKIP_VER_LE_12_1 = "--" (CHAR)
DEFINE SKIP_VER_LE_12_101 = "--" (CHAR)
DEFINE SKIP_VER_LE_12_2 = "--" (CHAR)
DEFINE SKIP_VER_LE_12  = "--" (CHAR)
DEFINE SKIP_VER_LE_18  = "--" (CHAR)
DEFINE SKIP_VER_LE_19  = "--" (CHAR)
DEFINE SKIP_VER_LE_20  = "--" (CHAR)
DEFINE SKIP_VER_GE_9_1 = "--" (CHAR)
DEFINE SKIP_VER_GE_9_2 = "--" (CHAR)
DEFINE SKIP_VER_GE_9   = "--" (CHAR)
DEFINE SKIP_VER_GE_10_1 = "--" (CHAR)
DEFINE SKIP_VER_GE_10_2 = "--" (CHAR)
DEFINE SKIP_VER_GE_10  = "--" (CHAR)
DEFINE SKIP_VER_GE_11_1 = "--" (CHAR)
DEFINE SKIP_VER_GE_11_2 = "--" (CHAR)
DEFINE SKIP_VER_GE_11  = "--" (CHAR)
DEFINE SKIP_VER_GE_12_1 = "" (CHAR)
DEFINE SKIP_VER_GE_12_2 = "" (CHAR)
DEFINE SKIP_VER_GE_12  = "" (CHAR)
DEFINE SKIP_VER_GE_18  = "" (CHAR)
DEFINE SKIP_VER_GE_19  = "" (CHAR)
DEFINE SKIP_VER_GE_20  = "" (CHAR)
DEFINE IS_CDB          = "N" (CHAR)
DEFINE SKIP_NONCDB     = "--" (CHAR)
DEFINE SKIP_CDB        = "" (CHAR)
DEFINE ENV_DIAGNOSTICS_PACK = "N" (CHAR)
DEFINE ENV_CONF_DBID   = "" (CHAR)
DEFINE ENV_CONF_DATE_FROM = "YYYY-MM-DD" (CHAR)
DEFINE ENV_CONF_DATE_TO = "YYYY-MM-DD" (CHAR)
DEFINE ENV_CONF_DAYS   = "31" (CHAR)
DEFINE ENV_CONF_DD_MODE = "AUTO" (CHAR)
DEFINE ENV_CONF_CON_OPTION = "A" (CHAR)
DEFINE ENV_CONF_IS_CDB = "A" (CHAR)
DEFINE ENV_IS_CDB      = "N" (CHAR)
DEFINE ENV_CON_ID      = "-1" (CHAR)
DEFINE ENV_PDB_NAME    = "NONE" (CHAR)
DEFINE ENV_DD_MODE     = "DBA_HIST" (CHAR)
DEFINE ENV_AWR_CON_OPTION = "" (CHAR)
DEFINE ENV_AWR_HIST_PREFIX = "DBA_HIST_" (CHAR)
DEFINE ENV_AWR_OBJECT_PREFIX = "dba_" (CHAR)
DEFINE ENV_DBID        = "604135990" (CHAR)
DEFINE ENV_HISTORY_DAYS = "31" (CHAR)
DEFINE ENV_DATE_FORMAT = "YYYY-MM-DD"T"HH24:MI:SS" (CHAR)
DEFINE ENV_DATE_FROM   = "2024-09-02T09:29:23" (CHAR)
DEFINE ENV_DATE_TO     = "2024-10-03T09:29:23" (CHAR)
DEFINE ENV_MINIMUM_SNAP_ID = "0" (CHAR)
DEFINE ENV_MAXIMUM_SNAP_ID = "1" (CHAR)
DEFINE EDB360_CON_ID   = "-1" (CHAR)
DEFINE EDB360_PDB_NAME = "NONE" (CHAR)
DEFINE CDB_AWR_CON_OPTION = "" (CHAR)
DEFINE CDB_AWR_HIST_PREFIX = "DBA_HIST_" (CHAR)
DEFINE CDB_AWR_OBJECT_PREFIX = "dba_" (CHAR)
DEFINE EDB360_DBID     = "604135990" (CHAR)
DEFINE HISTORY_DAYS    = "31" (CHAR)
DEFINE EDB360_DATE_FORMAT = "YYYY-MM-DD"T"HH24:MI:SS" (CHAR)
DEFINE EDB360_DATE_FROM = "2024-09-02T09:29:23" (CHAR)
DEFINE EDB360_DATE_TO  = "2024-10-03T09:29:23" (CHAR)
DEFINE MINIMUM_SNAP_ID = "0" (CHAR)
DEFINE MAXIMUM_SNAP_ID = "1" (CHAR)
DEFINE EDB360_TIMESTAMP_FORMAT = "YYYY-MM-DD"T"HH24:MI:SS.FF" (CHAR)
DEFINE EDB360_TIMESTAMP_TZ_FORMAT = "YYYY-MM-DD"T"HH24:MI:SS.FFTZH:TZM" (CHAR)
DEFINE AWR_HIST_PREFIX = "DBA_HIST_" (CHAR)
DEFINE AWR_OBJECT_PREFIX = "dba_" (CHAR)
DEFINE DVA_VIEW_PREFIX = "DBA_" (CHAR)
DEFINE DVA_OBJECT_PREFIX = "dba_" (CHAR)
DEFINE GV_VIEW_PREFIX  = "GV$" (CHAR)
DEFINE GV_OBJECT_PREFIX = "gv$" (CHAR)
DEFINE V_VIEW_PREFIX   = "V$" (CHAR)
DEFINE V_OBJECT_PREFIX = "v$" (CHAR)
DEFINE CDB_VIEW_PREFIX = "DBA_" (CHAR)
DEFINE CDB_OBJECT_PREFIX = "dba_" (CHAR)
DEFINE EDB360_SYSMETRIC_HISTORY = "DBA_HIST_sysmetric_history" (CHAR)
DEFINE EDB360_SYSMETRIC_SUMMARY = "DBA_HIST_sysmetric_summary" (CHAR)
DEFINE EDB360_SYSMETRIC_GROUP =                    2 (NUMBER)
DEFINE TOOL_SYSDATE    = "20241003092923" (CHAR)
DEFINE BETWEEN_DATES   = ", between 2024-09-02T09:29:23 and 2024-10-03T09:29:23" (CHAR)
DEFINE HIST_WORK_DAYS  = "23" (CHAR)
DEFINE SKIP_EXTRAS     = "" (CHAR)
DEFINE EDB360_0G       = "edb360_0g_" (CHAR)
DEFINE EDB360_1A       = "edb360_1a_" (CHAR)
DEFINE EDB360_1B       = "edb360_1b_" (CHAR)
DEFINE EDB360_1C       = "edb360_1c_" (CHAR)
DEFINE EDB360_1D       = "edb360_1d_" (CHAR)
DEFINE EDB360_1E       = "edb360_1e_" (CHAR)
DEFINE EDB360_1F       = "edb360_1f_" (CHAR)
DEFINE EDB360_1G       = "edb360_1g_" (CHAR)
DEFINE EDB360_2A       = "edb360_2a_" (CHAR)
DEFINE EDB360_2B       = "edb360_2b_" (CHAR)
DEFINE EDB360_2C       = "edb360_2c_" (CHAR)
DEFINE EDB360_2D       = "edb360_2d_" (CHAR)
DEFINE EDB360_2E       = "edb360_2e_" (CHAR)
DEFINE EDB360_3A       = "edb360_3a_" (CHAR)
DEFINE EDB360_3B       = "edb360_3b_" (CHAR)
DEFINE EDB360_3C       = "edb360_3c_" (CHAR)
DEFINE EDB360_3D       = "edb360_3d_" (CHAR)
DEFINE EDB360_3E       = "edb360_3e_" (CHAR)
DEFINE EDB360_3F       = "edb360_3f_" (CHAR)
DEFINE EDB360_3G       = "edb360_3g_" (CHAR)
DEFINE EDB360_3H       = "edb360_3h_" (CHAR)
DEFINE EDB360_3I       = "edb360_3i_" (CHAR)
DEFINE EDB360_3J       = "edb360_3j_" (CHAR)
DEFINE EDB360_4A       = "edb360_4a_" (CHAR)
DEFINE EDB360_4B       = "edb360_4b_" (CHAR)
DEFINE EDB360_4C       = "edb360_4c_" (CHAR)
DEFINE EDB360_4D       = "edb360_4d_" (CHAR)
DEFINE EDB360_4E       = "edb360_4e_" (CHAR)
DEFINE EDB360_4F       = "edb360_4f_" (CHAR)
DEFINE EDB360_4G       = "edb360_4g_" (CHAR)
DEFINE EDB360_4H       = "edb360_4h_" (CHAR)
DEFINE EDB360_4I       = "edb360_4i_" (CHAR)
DEFINE EDB360_4J       = "edb360_4j_" (CHAR)
DEFINE EDB360_4K       = "edb360_4k_" (CHAR)
DEFINE EDB360_4L       = "edb360_4l_" (CHAR)
DEFINE EDB360_5A       = "edb360_5a_" (CHAR)
DEFINE EDB360_5B       = "edb360_5b_" (CHAR)
DEFINE EDB360_5C       = "edb360_5c_" (CHAR)
DEFINE EDB360_5D       = "edb360_5d_" (CHAR)
DEFINE EDB360_5E       = "edb360_5e_" (CHAR)
DEFINE EDB360_5F       = "edb360_5f_" (CHAR)
DEFINE EDB360_5G       = "edb360_5g_" (CHAR)
DEFINE EDB360_6A       = "edb360_6a_" (CHAR)
DEFINE EDB360_6B       = "edb360_6b_" (CHAR)
DEFINE EDB360_6C       = "edb360_6c_" (CHAR)
DEFINE EDB360_6D       = "edb360_6d_" (CHAR)
DEFINE EDB360_6E       = "edb360_6e_" (CHAR)
DEFINE EDB360_6F       = "edb360_6f_" (CHAR)
DEFINE EDB360_6G       = "edb360_6g_" (CHAR)
DEFINE EDB360_6H       = "edb360_6h_" (CHAR)
DEFINE EDB360_6I       = "edb360_6i_" (CHAR)
DEFINE EDB360_6J       = "edb360_6j_" (CHAR)
DEFINE EDB360_6K       = "edb360_6k_" (CHAR)
DEFINE EDB360_6L       = "edb360_6l_" (CHAR)
DEFINE EDB360_6M       = "edb360_6m_" (CHAR)
DEFINE EDB360_6N       = "edb360_6n_" (CHAR)
DEFINE EDB360_6O       = "edb360_6o_" (CHAR)
DEFINE EDB360_7A       = "edb360_7a_" (CHAR)
DEFINE EDB360_7B       = "edb360_7b_" (CHAR)
DEFINE EDB360_7C       = "edb360_7c_" (CHAR)
DEFINE EDB360_5W       = "edb360_5w_" (CHAR)
DEFINE EDB360_PREFIX   = "edb360" (CHAR)
DEFINE ECR_COLLECTION_KEY = "" (CHAR)
DEFINE SKIP_SCRIPT     = "sql/edb360_0f_skip_script.sql " (CHAR)
DEFINE EDB360_DBMOD    = "135990" (CHAR)
DEFINE CONNECT_INSTANCE_NUMBER = "1" (CHAR)
DEFINE DATABASE_NAME_SHORT = "db340" (CHAR)
DEFINE HOST_NAME_SHORT = "db340" (CHAR)
DEFINE HOST_NAME_SUFFIX = "" (CHAR)
DEFINE ESP_HOST_NAME_SHORT = "db340" (CHAR)
DEFINE HOST_HASH       = "269584" (CHAR)
DEFINE ESP_COLLECTION_YYYYMMDD = "20241003" (CHAR)
DEFINE MIN_WAIT_TIME_MILLI =         .00009765625 (NUMBER)
DEFINE MAX_WAIT_TIME_MILLI =             16777216 (NUMBER)
DEFINE MAIN_TABLE      = "" (CHAR)
DEFINE TITLE           = "" (CHAR)
DEFINE TITLE_NO_SPACES = "" (CHAR)
DEFINE TITLE_SUFFIX    = "" (CHAR)
DEFINE EDB360_FILE_TIME = "20241003_0929" (CHAR)
DEFINE COMMON_EDB360_PREFIX = "edb360_135990" (CHAR)
DEFINE EDB360_MAIN_REPORT = "00001_edb360_135990_index" (CHAR)
DEFINE EDB360_LOG      = "00002_edb360_135990_log" (CHAR)
DEFINE EDB360_LOG2     = "00003_edb360_135990_log2" (CHAR)
DEFINE EDB360_LOG3     = "00004_edb360_135990_log3" (CHAR)
DEFINE EDB360_TKPROF   = "00005_edb360_135990_tkprof" (CHAR)
DEFINE EDB360_MAIN_FILENAME = "edb360_135990_269584" (CHAR)
DEFINE EDB360_ZIP_FILENAME = "edb360_135990_269584_20241003_0929" (CHAR)
DEFINE EDB360_TRACEFILE_IDENTIFIER = "edb360_135990" (CHAR)
DEFINE EDB360_TAR_FILENAME = "00008_edb360_135990_269584_20241003_0929" (CHAR)
DEFINE EDB360_MV_HOST_COMMAND = "" (CHAR)
DEFINE DB_VERS_OFE     = "11.2.0.4" (CHAR)
DEFINE DB_VERSION      = "11.2.0.4.0" (CHAR)
DEFINE SKIP_NON_REPO_COLUMN = "" (CHAR)
DEFINE SKIP_NON_REPO_SCRIPT = "" (CHAR)
DEFINE AVG_CPU_COUNT   = "4" (CHAR)
DEFINE SUM_CPU_COUNT   = "4" (CHAR)
DEFINE AVG_CORE_COUNT  = "4" (CHAR)
DEFINE AVG_THREAD_COUNT = "4" (CHAR)
DEFINE CPU_LOAD_THRESHOLD = "8" (CHAR)
DEFINE HOSTS_COUNT     = "" (CHAR)
DEFINE CORES_THREADS_HOSTS = "cores:4(avg) threads:4(avg) hosts:(avg)" (CHAR)
DEFINE DATABASE_BLOCK_SIZE = "8192" (CHAR)
DEFINE INST1_PRESENT   = "" (CHAR)
DEFINE INST2_PRESENT   = "" (CHAR)
DEFINE INST3_PRESENT   = "" (CHAR)
DEFINE INST4_PRESENT   = "" (CHAR)
DEFINE INST5_PRESENT   = "" (CHAR)
DEFINE INST6_PRESENT   = "" (CHAR)
DEFINE INST7_PRESENT   = "" (CHAR)
DEFINE INST8_PRESENT   = "" (CHAR)
DEFINE IS_SINGLE_INSTANCE = "" (CHAR)
DEFINE SKIP_INST1      = "-- skip inst1" (CHAR)
DEFINE SKIP_INST2      = "-- skip inst2" (CHAR)
DEFINE SKIP_INST3      = "-- skip inst3" (CHAR)
DEFINE SKIP_INST4      = "-- skip inst4" (CHAR)
DEFINE SKIP_INST5      = "-- skip inst5" (CHAR)
DEFINE SKIP_INST6      = "-- skip inst6" (CHAR)
DEFINE SKIP_INST7      = "-- skip inst7" (CHAR)
DEFINE SKIP_INST8      = "-- skip inst8" (CHAR)
DEFINE CHART_SETUP_DRIVER = "99800_edb360_135990_chart_setup_driver1.sql" (CHAR)
DEFINE EDB360_EADAM_SNAPS = "-666" (CHAR)
DEFINE EBS_RELEASE     = "" (CHAR)
DEFINE EBS_SYSTEM_NAME = "" (CHAR)
DEFINE SIEBEL_SCHEMA   = "NOT_A_SIEBEL_DB" (CHAR)
DEFINE SIEBEL_APP_VER  = "" (CHAR)
DEFINE PSFT_SCHEMA     = "NOT_A_PSFT_DB" (CHAR)
DEFINE PSFT_TOOLS_REL  = "" (CHAR)
DEFINE PSFT_SKIP       = "" (CHAR)
DEFINE EDB360_SKIP_HTML = "" (CHAR)
DEFINE EDB360_SKIP_XML = " echo skip xml " (CHAR)
DEFINE EDB360_SKIP_TEXT = " echo skip text " (CHAR)
DEFINE EDB360_SKIP_CSV = " echo skip csv " (CHAR)
DEFINE EDB360_SKIP_LINE = "" (CHAR)
DEFINE EDB360_SKIP_PIE = "" (CHAR)
DEFINE EDB360_SKIP_BAR = "" (CHAR)
DEFINE EDB360_SKIP_METADATA = "" (CHAR)
DEFINE EDB360_SKIP_ASH_MEM = " echo skip ash mem " (CHAR)
DEFINE EDB360_SKIP_SQL_MON = " echo skip sql mon " (CHAR)
DEFINE EDB360_SKIP_STAT_MEM = "" (CHAR)
DEFINE EDB360_SKIP_PX_MEM = "" (CHAR)
DEFINE TOP_LEVEL_HINTS = " NO_MERGE " (CHAR)
DEFINE SQ_FACT_HINTS   = " MATERIALIZE NO_MERGE " (CHAR)
DEFINE DS_HINT         = " DYNAMIC_SAMPLING(4) " (CHAR)
DEFINE ASH_HINTS1      = " FULL(h.ash) FULL(h.evt) FULL(h.sn) USE_HASH(h.sn h.ash h.evt) " (CHAR)
DEFINE ASH_HINTS2      = " FULL(h.INT$DBA_HIST_ACT_SESS_HISTORY.sn) FULL(h.INT$DBA_HIST_ACT_SESS_HISTORY.ash) FULL(h.INT$DBA_HIST_ACT_SESS_HISTORY.evt) " (CHAR)
DEFINE ASH_HINTS3      = " USE_HASH(h.INT$DBA_HIST_ACT_SESS_HISTORY.sn h.INT$DBA_HIST_ACT_SESS_HISTORY.ash h.INT$DBA_HIST_ACT_SESS_HISTORY.evt) " (CHAR)
DEFINE DEF_MAX_ROWS    = "10000" (CHAR)
DEFINE MAX_ROWS        = "1e4" (CHAR)
DEFINE EXCLUSION_LIST  = "('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')" (CHAR)
DEFINE EXCLUSION_LIST2 = "('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')" (CHAR)
DEFINE SKIP_HTML       = "" (CHAR)
DEFINE SKIP_TEXT       = "" (CHAR)
DEFINE SKIP_CSV        = "" (CHAR)
DEFINE SKIP_LCH        = "Y" (CHAR)
DEFINE SKIP_LCH2       = "Y" (CHAR)
DEFINE SKIP_PCH        = "Y" (CHAR)
DEFINE SKIP_BCH        = "Y" (CHAR)
DEFINE SKIP_ALL        = "" (CHAR)
DEFINE ABSTRACT        = "" (CHAR)
DEFINE ABSTRACT2       = "" (CHAR)
DEFINE FOOT            = "" (CHAR)
DEFINE ABSTRACT_UOM    = "Memory is accounted as power of two (binary) while storage and network traffic as power of ten (decimal). <br />" (CHAR)
DEFINE CHARTYPE        = "" (CHAR)
DEFINE STACKED         = "" (CHAR)
DEFINE HAXIS           = " 11.2.0.4.0 cores:4(avg) threads:4(avg) hosts:(avg)" (CHAR)
DEFINE VAXIS           = "" (CHAR)
DEFINE VBASELINE       = "" (CHAR)
DEFINE BAR_HEIGHT      = "65%" (CHAR)
DEFINE TIT_01          = "" (CHAR)
DEFINE TIT_02          = "" (CHAR)
DEFINE TIT_03          = "" (CHAR)
DEFINE TIT_04          = "" (CHAR)
DEFINE TIT_05          = "" (CHAR)
DEFINE TIT_06          = "" (CHAR)
DEFINE TIT_07          = "" (CHAR)
DEFINE TIT_08          = "" (CHAR)
DEFINE TIT_09          = "" (CHAR)
DEFINE TIT_10          = "" (CHAR)
DEFINE TIT_11          = "" (CHAR)
DEFINE TIT_12          = "" (CHAR)
DEFINE TIT_13          = "" (CHAR)
DEFINE TIT_14          = "" (CHAR)
DEFINE TIT_15          = "" (CHAR)
DEFINE CONT_01         = "-1" (CHAR)
DEFINE CONT_02         = "-1" (CHAR)
DEFINE CONT_03         = "-1" (CHAR)
DEFINE CONT_04         = "-1" (CHAR)
DEFINE CONT_05         = "-1" (CHAR)
DEFINE CONT_06         = "-1" (CHAR)
DEFINE CONT_07         = "-1" (CHAR)
DEFINE CONT_08         = "-1" (CHAR)
DEFINE CONT_09         = "-1" (CHAR)
DEFINE CONT_10         = "-1" (CHAR)
DEFINE CONT_11         = "-1" (CHAR)
DEFINE CONT_12         = "-1" (CHAR)
DEFINE CONT_13         = "-1" (CHAR)
DEFINE CONT_14         = "-1" (CHAR)
DEFINE CONT_15         = "-1" (CHAR)
DEFINE WAIT_CLASS_01   = "" (CHAR)
DEFINE EVENT_NAME_01   = "" (CHAR)
DEFINE WAIT_CLASS_02   = "" (CHAR)
DEFINE EVENT_NAME_02   = "" (CHAR)
DEFINE WAIT_CLASS_03   = "" (CHAR)
DEFINE EVENT_NAME_03   = "" (CHAR)
DEFINE WAIT_CLASS_04   = "" (CHAR)
DEFINE EVENT_NAME_04   = "" (CHAR)
DEFINE WAIT_CLASS_05   = "" (CHAR)
DEFINE EVENT_NAME_05   = "" (CHAR)
DEFINE WAIT_CLASS_06   = "" (CHAR)
DEFINE EVENT_NAME_06   = "" (CHAR)
DEFINE WAIT_CLASS_07   = "" (CHAR)
DEFINE EVENT_NAME_07   = "" (CHAR)
DEFINE WAIT_CLASS_08   = "" (CHAR)
DEFINE EVENT_NAME_08   = "" (CHAR)
DEFINE WAIT_CLASS_09   = "" (CHAR)
DEFINE EVENT_NAME_09   = "" (CHAR)
DEFINE WAIT_CLASS_10   = "" (CHAR)
DEFINE EVENT_NAME_10   = "" (CHAR)
DEFINE WAIT_CLASS_11   = "" (CHAR)
DEFINE EVENT_NAME_11   = "" (CHAR)
DEFINE WAIT_CLASS_12   = "" (CHAR)
DEFINE EVENT_NAME_12   = "" (CHAR)
DEFINE EXADATA         = "" (CHAR)
DEFINE MAX_COL_NUMBER  = "1" (CHAR)
DEFINE COLUMN_NUMBER   = "1" (CHAR)
DEFINE RECOVERY        = "& recovery" (CHAR)
DEFINE TOTAL_HOURS     = "" (CHAR)
DEFINE EDB360_TIME_STAMP = "2024-10-03T09:29:28" (CHAR)
DEFINE REPORT_SEQUENCE = "1" (CHAR)
DEFINE CURRENT_TIME    = "" (CHAR)
DEFINE EXACT_MATCHING_SIGNATURE = "" (CHAR)
DEFINE FORCE_MATCHING_SIGNATURE = "" (CHAR)
DEFINE WAIT_CLASS_COLORS = " CASE wait_class WHEN 'ON CPU' THEN '34CF27' WHEN 'Scheduler' THEN '9FFA9D' WHEN 'User I/O' THEN '0252D7' WHEN 'System I/O' THEN '1E96DD' " (CHAR)
DEFINE WAIT_CLASS_COLORS2 = " WHEN 'Concurrency' THEN '871C12' WHEN 'Application' THEN 'C42A05' WHEN 'Commit' THEN 'EA6A05' WHEN 'Configuration' THEN '594611'  " (CHAR)
DEFINE WAIT_CLASS_COLORS3 = " WHEN 'Administrative' THEN '75763E'  WHEN 'Network' THEN '989779' WHEN 'Other' THEN 'F571A0' " (CHAR)
DEFINE WAIT_CLASS_COLORS4 = " WHEN 'Cluster' THEN 'CEC3B5' WHEN 'Queueing' THEN 'C6BAA5' ELSE '000000' END " (CHAR)
DEFINE SERIES_01       = "" (CHAR)
DEFINE SERIES_02       = "" (CHAR)
DEFINE SERIES_03       = "" (CHAR)
DEFINE SERIES_04       = "" (CHAR)
DEFINE SERIES_05       = "" (CHAR)
DEFINE SERIES_06       = "" (CHAR)
DEFINE SERIES_07       = "" (CHAR)
DEFINE SERIES_08       = "" (CHAR)
DEFINE SERIES_09       = "" (CHAR)
DEFINE SERIES_10       = "" (CHAR)
DEFINE SERIES_11       = "" (CHAR)
DEFINE SERIES_12       = "" (CHAR)
DEFINE SERIES_13       = "" (CHAR)
DEFINE SERIES_14       = "" (CHAR)
DEFINE SERIES_15       = "" (CHAR)
DEFINE SKIP_LCHP       = "--skip--" (CHAR)
DEFINE EDB360_UDUMP_PATH = "/fs3/app/oracle/diag/rdbms/db340/db340/trace/" (CHAR)
DEFINE EDB360_SPID     = "17699" (CHAR)
Parameters
antigo   2:   FROM &&v_object_prefix.spparameter
novo   2:   FROM v$spparameter
SID                                      NAME                                     TYPE        VALUE                                              DISPLAY_VALUE                                      ISSPEC              ORDINAL
---------------------------------------- ---------------------------------------- ----------- -------------------------------------------------- -------------------------------------------------- ------ --------------------
*                                        audit_file_dest                          string      /fs3/app/oracle/admin/db340/adump                  /fs3/app/oracle/admin/db340/adump                  TRUE                      1
*                                        audit_trail                              string      db                                                 db                                                 TRUE                      1
*                                        compatible                               string      11.2.0.4.0                                         11.2.0.4.0                                         TRUE                      1
*                                        control_files                            string      /fs200/oradata/db340/control01.ctl                 /fs200/oradata/db340/control01.ctl                 TRUE                      1
*                                        control_files                            string      /fs201/oradata/db340/control02.ctl                 /fs201/oradata/db340/control02.ctl                 TRUE                      2
*                                        control_files                            string      /fs205/oradata/db340/control03.ctl                 /fs205/oradata/db340/control03.ctl                 TRUE                      3
*                                        db_block_size                            integer     8192                                               8192                                               TRUE                      1
*                                        db_domain                                string      br-atacadao.corp                                   br-atacadao.corp                                   TRUE                      1
*                                        db_name                                  string      db340                                              db340                                              TRUE                      1
*                                        diagnostic_dest                          string      /fs3/app/oracle                                    /fs3/app/oracle                                    TRUE                      1
*                                        dispatchers                              string      (PROTOCOL=TCP) (SERVICE=db340XDB)                  (PROTOCOL=TCP) (SERVICE=db340XDB)                  TRUE                      1
*                                        local_listener                           string      (ADDRESS = (PROTOCOL = IPC)(KEY = db340))          (ADDRESS = (PROTOCOL = IPC)(KEY = db340))          TRUE                      1
*                                        log_archive_dest_1                       string      LOCATION=/fs205/oradata/db340/archive              LOCATION=/fs205/oradata/db340/archive              TRUE                      1
*                                        log_archive_format                       string      arch_%t_%s_%r.dbf                                  arch_%t_%s_%r.dbf                                  TRUE                      1
*                                        memory_max_target                        big integer 10737418240                                        10G                                                TRUE                      1
*                                        memory_target                            big integer 10737418240                                        10G                                                TRUE                      1
*                                        nls_language                             string      BRAZILIAN PORTUGUESE                               BRAZILIAN PORTUGUESE                               TRUE                      1
*                                        nls_territory                            string      BRAZIL                                             BRAZIL                                             TRUE                      1
*                                        open_cursors                             integer     300                                                300                                                TRUE                      1
*                                        processes                                integer     150                                                150                                                TRUE                      1
*                                        remote_login_passwordfile                string      EXCLUSIVE                                          EXCLUSIVE                                          TRUE                      1
*                                        sga_max_size                             big integer 0                                                  0                                                  TRUE                      1
*                                        undo_tablespace                          string      UNDOTBS1                                           UNDOTBS1                                           TRUE                      1

23 linhas selecionadas.

NAME                                 TYPE        VALUE
------------------------------------ ----------- ------------------------------
O7_DICTIONARY_ACCESSIBILITY          boolean     FALSE
_always_semi_join                    string      CHOOSE
_and_pruning_enabled                 boolean     TRUE
_gby_hash_aggregation_enabled        boolean     FALSE
_hash_join_enabled                   boolean     TRUE
_optim_peek_user_binds               boolean     TRUE
_optimizer_order_by_elimination_enab boolean     FALSE
led
_optimizer_skip_scan_enabled         boolean     TRUE
_optimizer_sortmerge_join_enabled    boolean     TRUE
_serial_direct_read                  string      ALWAYS
_small_table_threshold               integer     1001
_subquery_pruning_enabled            boolean     TRUE
active_instance_count                integer
aq_tm_processes                      integer     1
archive_lag_target                   integer     0
asm_diskgroups                       string
asm_diskstring                       string
asm_power_limit                      integer     1
asm_preferred_read_failure_groups    string
audit_file_dest                      string      /fs3/app/oracle/admin/db340/ad
                                                 ump
audit_sys_operations                 boolean     FALSE
audit_syslog_level                   string
audit_trail                          string      DB
awr_snapshot_time_offset             integer     0
background_core_dump                 string      partial
background_dump_dest                 string      /fs3/app/oracle/diag/rdbms/db3
                                                 40/db340/trace
backup_tape_io_slaves                boolean     FALSE
bitmap_merge_area_size               integer     1048576
blank_trimming                       boolean     FALSE
buffer_pool_keep                     string
buffer_pool_recycle                  string
cell_offload_compaction              string      ADAPTIVE
cell_offload_decryption              boolean     TRUE
cell_offload_parameters              string
cell_offload_plan_display            string      AUTO
cell_offload_processing              boolean     TRUE
cell_offloadgroup_name               string
circuits                             integer
client_result_cache_lag              big integer 3000
client_result_cache_size             big integer 0
clonedb                              boolean     FALSE
cluster_database                     boolean     FALSE
cluster_database_instances           integer     1
cluster_interconnects                string
commit_logging                       string
commit_point_strength                integer     1
commit_wait                          string
commit_write                         string
compatible                           string      11.2.0.4.0
control_file_record_keep_time        integer     7
control_files                        string      /fs200/oradata/db340/control01
                                                 .ctl, /fs201/oradata/db340/con
                                                 trol02.ctl, /fs205/oradata/db3
                                                 40/control03.ctl
control_management_pack_access       string      NONE
core_dump_dest                       string      /fs3/app/oracle/diag/rdbms/db3
                                                 40/db340/cdump
cpu_count                            integer     4
create_bitmap_area_size              integer     8388608
create_stored_outlines               string
cursor_bind_capture_destination      string      memory+disk
cursor_sharing                       string      EXACT
cursor_space_for_time                boolean     FALSE
db_16k_cache_size                    big integer 0
db_2k_cache_size                     big integer 0
db_32k_cache_size                    big integer 0
db_4k_cache_size                     big integer 0
db_8k_cache_size                     big integer 0
db_block_buffers                     integer     0
db_block_checking                    string      FALSE
db_block_checksum                    string      TYPICAL
db_block_size                        integer     8192
db_cache_advice                      string      ON
db_cache_size                        big integer 0
db_create_file_dest                  string
db_create_online_log_dest_1          string
db_create_online_log_dest_2          string
db_create_online_log_dest_3          string
db_create_online_log_dest_4          string
db_create_online_log_dest_5          string
db_domain                            string      br-atacadao.corp
db_file_multiblock_read_count        integer     128
db_file_name_convert                 string
db_files                             integer     200
db_flash_cache_file                  string
db_flash_cache_size                  big integer 0
db_flashback_retention_target        integer     1440
db_keep_cache_size                   big integer 0
db_lost_write_protect                string      NONE
db_name                              string      db340
db_recovery_file_dest                string
db_recovery_file_dest_size           big integer 0
db_recycle_cache_size                big integer 0
db_securefile                        string      PERMITTED
db_ultra_safe                        string      OFF
db_unique_name                       string      db340
db_unrecoverable_scn_tracking        boolean     TRUE
db_writer_processes                  integer     1
dbwr_io_slaves                       integer     0
ddl_lock_timeout                     integer     0
deferred_segment_creation            boolean     TRUE
dg_broker_config_file1               string      /fs3/app/oracle/product/11.2.0
                                                 /dbs/dr1db340.dat
dg_broker_config_file2               string      /fs3/app/oracle/product/11.2.0
                                                 /dbs/dr2db340.dat
dg_broker_start                      boolean     FALSE
diagnostic_dest                      string      /fs3/app/oracle
disk_asynch_io                       boolean     TRUE
dispatchers                          string      (PROTOCOL=TCP) (SERVICE=db340X
                                                 DB)
distributed_lock_timeout             integer     60
dml_locks                            integer     1088
dnfs_batch_size                      integer     4096
dst_upgrade_insert_conv              boolean     TRUE
enable_ddl_logging                   boolean     FALSE
enable_goldengate_replication        boolean     FALSE
event                                string
fal_client                           string
fal_server                           string
fast_start_io_target                 integer     0
fast_start_mttr_target               integer     0
fast_start_parallel_rollback         string      LOW
file_mapping                         boolean     FALSE
fileio_network_adapters              string
filesystemio_options                 string      none
fixed_date                           string
gcs_server_processes                 integer     0
global_context_pool_size             string
global_names                         boolean     FALSE
global_txn_processes                 integer     1
hash_area_size                       integer     131072
hi_shared_memory_address             integer     0
hs_autoregister                      boolean     TRUE
ifile                                file
instance_groups                      string
instance_name                        string      db340
instance_number                      integer     0
instance_type                        string      RDBMS
instant_restore                      boolean     FALSE
java_jit_enabled                     boolean     TRUE
java_max_sessionspace_size           integer     0
java_pool_size                       big integer 0
java_restrict                        string      none
java_soft_sessionspace_limit         integer     0
job_queue_processes                  integer     1000
large_pool_size                      big integer 0
ldap_directory_access                string      NONE
ldap_directory_sysauth               string      no
license_max_sessions                 integer     0
license_max_users                    integer     0
license_sessions_warning             integer     0
listener_networks                    string
local_listener                       string      (ADDRESS = (PROTOCOL = IPC)(KE
                                                 Y = db340))
lock_name_space                      string
lock_sga                             boolean     FALSE
log_archive_config                   string
log_archive_dest                     string
log_archive_dest_1                   string      LOCATION=/fs205/oradata/db340/
                                                 archive
log_archive_dest_10                  string
log_archive_dest_11                  string
log_archive_dest_12                  string
log_archive_dest_13                  string
log_archive_dest_14                  string
log_archive_dest_15                  string
log_archive_dest_16                  string
log_archive_dest_17                  string
log_archive_dest_18                  string
log_archive_dest_19                  string
log_archive_dest_2                   string
log_archive_dest_20                  string
log_archive_dest_21                  string
log_archive_dest_22                  string
log_archive_dest_23                  string
log_archive_dest_24                  string
log_archive_dest_25                  string
log_archive_dest_26                  string
log_archive_dest_27                  string
log_archive_dest_28                  string
log_archive_dest_29                  string
log_archive_dest_3                   string
log_archive_dest_30                  string
log_archive_dest_31                  string
log_archive_dest_4                   string
log_archive_dest_5                   string
log_archive_dest_6                   string
log_archive_dest_7                   string
log_archive_dest_8                   string
log_archive_dest_9                   string
log_archive_dest_state_1             string      enable
log_archive_dest_state_10            string      enable
log_archive_dest_state_11            string      enable
log_archive_dest_state_12            string      enable
log_archive_dest_state_13            string      enable
log_archive_dest_state_14            string      enable
log_archive_dest_state_15            string      enable
log_archive_dest_state_16            string      enable
log_archive_dest_state_17            string      enable
log_archive_dest_state_18            string      enable
log_archive_dest_state_19            string      enable
log_archive_dest_state_2             string      enable
log_archive_dest_state_20            string      enable
log_archive_dest_state_21            string      enable
log_archive_dest_state_22            string      enable
log_archive_dest_state_23            string      enable
log_archive_dest_state_24            string      enable
log_archive_dest_state_25            string      enable
log_archive_dest_state_26            string      enable
log_archive_dest_state_27            string      enable
log_archive_dest_state_28            string      enable
log_archive_dest_state_29            string      enable
log_archive_dest_state_3             string      enable
log_archive_dest_state_30            string      enable
log_archive_dest_state_31            string      enable
log_archive_dest_state_4             string      enable
log_archive_dest_state_5             string      enable
log_archive_dest_state_6             string      enable
log_archive_dest_state_7             string      enable
log_archive_dest_state_8             string      enable
log_archive_dest_state_9             string      enable
log_archive_duplex_dest              string
log_archive_format                   string      arch_%t_%s_%r.dbf
log_archive_local_first              boolean     TRUE
log_archive_max_processes            integer     4
log_archive_min_succeed_dest         integer     1
log_archive_start                    boolean     FALSE
log_archive_trace                    integer     0
log_buffer                           integer     5308416
log_checkpoint_interval              integer     0
log_checkpoint_timeout               integer     1800
log_checkpoints_to_alert             boolean     FALSE
log_file_name_convert                string
max_dispatchers                      integer
max_dump_file_size                   string      1G
max_enabled_roles                    integer     150
max_shared_servers                   integer
memory_max_target                    big integer 10G
memory_target                        big integer 10G
nls_calendar                         string      GREGORIAN
nls_comp                             string      BINARY
nls_currency                         string      R$
nls_date_format                      string      YYYY-MM-DD"T"HH24:MI:SS
nls_date_language                    string      BRAZILIAN PORTUGUESE
nls_dual_currency                    string      Cr$
nls_iso_currency                     string      BRAZIL
nls_language                         string      BRAZILIAN PORTUGUESE
nls_length_semantics                 string      BYTE
nls_nchar_conv_excp                  string      FALSE
nls_numeric_characters               string      .,
nls_sort                             string      BINARY
nls_territory                        string      BRAZIL
nls_time_format                      string      HH24:MI:SSXFF
nls_time_tz_format                   string      HH24:MI:SSXFF TZR
nls_timestamp_format                 string      YYYY-MM-DD"T"HH24:MI:SS.FF
nls_timestamp_tz_format              string      YYYY-MM-DD"T"HH24:MI:SS.FFTZH:
                                                 TZM
object_cache_max_size_percent        integer     10
object_cache_optimal_size            integer     102400
olap_page_pool_size                  big integer 0
open_cursors                         integer     300
open_links                           integer     4
open_links_per_instance              integer     4
optimizer_capture_sql_plan_baselines boolean     FALSE
optimizer_dynamic_sampling           integer     0
optimizer_features_enable            string      11.2.0.4
optimizer_index_caching              integer     0
optimizer_index_cost_adj             integer     100
optimizer_mode                       string      ALL_ROWS
optimizer_secure_view_merging        boolean     TRUE
optimizer_use_invisible_indexes      boolean     FALSE
optimizer_use_pending_statistics     boolean     FALSE
optimizer_use_sql_plan_baselines     boolean     TRUE
os_authent_prefix                    string      ops$
os_roles                             boolean     FALSE
parallel_adaptive_multi_user         boolean     TRUE
parallel_automatic_tuning            boolean     FALSE
parallel_degree_limit                string      CPU
parallel_degree_policy               string      MANUAL
parallel_execution_message_size      integer     16384
parallel_force_local                 boolean     FALSE
parallel_instance_group              string
parallel_io_cap_enabled              boolean     FALSE
parallel_max_servers                 integer     0
parallel_min_percent                 integer     0
parallel_min_servers                 integer     0
parallel_min_time_threshold          string      AUTO
parallel_server                      boolean     FALSE
parallel_server_instances            integer     1
parallel_servers_target              integer     64
parallel_threads_per_cpu             integer     2
permit_92_wrap_format                boolean     TRUE
pga_aggregate_target                 big integer 0
plscope_settings                     string      IDENTIFIERS:NONE
plsql_ccflags                        string
plsql_code_type                      string      INTERPRETED
plsql_debug                          boolean     FALSE
plsql_optimize_level                 integer     2
plsql_v2_compatibility               boolean     FALSE
plsql_warnings                       string      DISABLE:ALL
pre_page_sga                         boolean     FALSE
processes                            integer     150
processor_group_name                 string
query_rewrite_enabled                string      TRUE
query_rewrite_integrity              string      enforced
rdbms_server_dn                      string
read_only_open_delayed               boolean     FALSE
recovery_parallelism                 integer     0
recyclebin                           string      on
redo_transport_user                  string
remote_dependencies_mode             string      TIMESTAMP
remote_listener                      string
remote_login_passwordfile            string      EXCLUSIVE
remote_os_authent                    boolean     FALSE
remote_os_roles                      boolean     FALSE
replication_dependency_tracking      boolean     TRUE
resource_limit                       boolean     FALSE
resource_manager_cpu_allocation      integer     4
resource_manager_plan                string
result_cache_max_result              integer     5
result_cache_max_size                big integer 0
result_cache_mode                    string      MANUAL
result_cache_remote_expiration       integer     0
resumable_timeout                    integer     0
rollback_segments                    string
sec_case_sensitive_logon             boolean     TRUE
sec_max_failed_login_attempts        integer     10
sec_protocol_error_further_action    string      CONTINUE
sec_protocol_error_trace_action      string      TRACE
sec_return_server_release_banner     boolean     FALSE
serial_reuse                         string      disable
service_names                        string      db340.br-atacadao.corp
session_cached_cursors               integer     50
session_max_open_files               integer     10
sessions                             integer     248
sga_max_size                         big integer 1920M
sga_target                           big integer 0
shadow_core_dump                     string      partial
shared_memory_address                integer     0
shared_pool_reserved_size            big integer 21390950
shared_pool_size                     big integer 0
shared_server_sessions               integer
shared_servers                       integer     1
skip_unusable_indexes                boolean     TRUE
smtp_out_server                      string
sort_area_retained_size              integer     0
sort_area_size                       integer     65536
spfile                               string      /fs3/app/oracle/product/11.2.0
                                                 /dbs/spfiledb340.ora
sql92_security                       boolean     FALSE
sql_trace                            boolean     FALSE
sqltune_category                     string      DEFAULT
standby_archive_dest                 string      ?/dbs/arch
standby_file_management              string      MANUAL
star_transformation_enabled          string      FALSE
statistics_level                     string      TYPICAL
streams_pool_size                    big integer 0
tape_asynch_io                       boolean     TRUE
thread                               integer     0
timed_os_statistics                  integer     0
timed_statistics                     boolean     TRUE
trace_enabled                        boolean     TRUE
tracefile_identifier                 string      edb360_135990
transactions                         integer     272
transactions_per_rollback_segment    integer     5
undo_management                      string      AUTO
undo_retention                       integer     900
undo_tablespace                      string      UNDOTBS1
use_indirect_data_buffers            boolean     FALSE
use_large_pages                      string      TRUE
user_dump_dest                       string      /fs3/app/oracle/diag/rdbms/db3
                                                 40/db340/trace
utl_file_dir                         string
workarea_size_policy                 string      AUTO
xml_db_events                        string      enable
TOOL_EXEC_HOURS
---------------------------------------------------------------------
Tool Execution Hours so far: .002

1 linha selecionada.

Elapsed Hours so far:    0.003

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:29:31 1a "Database Configuration"
09:29:31 System Under Observation

WITH /* 1a.1 */
 rac AS (SELECT /*+  MATERIALIZE NO_MERGE  */ COUNT(*) instances, CASE COUNT(*) WHEN 1 THEN 'Single-
instance' ELSE COUNT(*)||'-node RAC cluster' END db_type FROM gv$instance),
hrac AS (SELECT /*+  MATERIALIZE NO_MERGE  */ CASE  WHEN 1 THEN ' (historically Single-instance in A
WR)' ELSE ' (historicly -node RAC cluster in AWR)' END db_type
           FROM rac WHERE TO_CHAR(RAC.instances)<>),
mem AS (SELECT /*+  MATERIALIZE NO_MERGE  */ SUM(value) target FROM gv$system_parameter2 WHERE name
= 'memory_target'),
sga AS (SELECT /*+  MATERIALIZE NO_MERGE  */ SUM(value) target FROM gv$system_parameter2 WHERE name
= 'sga_target'),
pga AS (SELECT /*+  MATERIALIZE NO_MERGE  */ SUM(value) target FROM gv$system_parameter2 WHERE name
= 'pga_aggregate_target'),
db_block AS (SELECT /*+  MATERIALIZE NO_MERGE  */ value bytes FROM v$system_parameter2 WHERE name =
'db_block_size'),
db AS (SELECT /*+  MATERIALIZE NO_MERGE  */ name, platform_name FROM v$database),
-- pdbs AS (SELECT /*+  MATERIALIZE NO_MERGE  */ * FROM v$pdbs), -- need 12c flag
inst AS (SELECT /*+  MATERIALIZE NO_MERGE  */ host_name, version db_version FROM v$instance),
data AS (SELECT /*+  MATERIALIZE NO_MERGE  */ SUM(bytes) bytes, COUNT(*) files, COUNT(DISTINCT ts#)
tablespaces FROM v$datafile),
temp AS (SELECT /*+  MATERIALIZE NO_MERGE  */ SUM(bytes) bytes FROM v$tempfile),
log AS (SELECT /*+  MATERIALIZE NO_MERGE  */ SUM(bytes) * MAX(members) bytes FROM v$log),
control AS (SELECT /*+  MATERIALIZE NO_MERGE  */ SUM(block_size * file_size_blks) bytes FROM v$contr
olfile),
core AS (SELECT /*+  MATERIALIZE NO_MERGE  */ SUM(value) cnt FROM gv$osstat WHERE stat_name = 'NUM_C
PU_CORES'),
cpu AS (SELECT /*+  MATERIALIZE NO_MERGE  */ SUM(value) cnt FROM gv$osstat WHERE stat_name = 'NUM_CP
US'),
pmem AS (SELECT /*+  MATERIALIZE NO_MERGE  */ SUM(value) bytes FROM gv$osstat WHERE stat_name = 'PHY
SICAL_MEMORY_BYTES')
SELECT /*+  NO_MERGE  */ /* 1a.1 */
       'Database name:' system_item, db.name system_value FROM db
UNION ALL
-- SELECT '    pdb:'||name, 'Open Mode:'||open_mode FROM pdbs -- need 12c flag
--  UNION ALL
SELECT 'Oracle Database version:', inst.db_version FROM inst
 UNION ALL
SELECT 'Database block size:', TRIM(TO_CHAR(db_block.bytes / POWER(2,10), '90'))||' KB' FROM db_bloc
k
 UNION ALL
SELECT 'Database size:', TRIM(TO_CHAR(ROUND((data.bytes + temp.bytes + log.bytes + control.bytes) /
POWER(10,12), 3), '999,999,990.000'))||' TB'
  FROM db, data, temp, log, control
 UNION ALL
SELECT 'Datafiles:', data.files||' (on '||data.tablespaces||' tablespaces)' FROM data
 UNION ALL
SELECT 'Instance configuration:', rac.db_type||(select hrac.db_type FROM hrac ) FROM rac
 UNION ALL
SELECT 'Database memory:',
CASE WHEN mem.target > 0 THEN 'MEMORY '||TRIM(TO_CHAR(ROUND(mem.target / POWER(2,30), 1), '999,990.0
'))||' GB, ' END||
CASE WHEN sga.target > 0 THEN 'SGA '   ||TRIM(TO_CHAR(ROUND(sga.target / POWER(2,30), 1), '999,990.0
'))||' GB, ' END||
CASE WHEN pga.target > 0 THEN 'PGA '   ||TRIM(TO_CHAR(ROUND(pga.target / POWER(2,30), 1), '999,990.0
'))||' GB, ' END||
CASE WHEN mem.target > 0 THEN 'AMM' ELSE CASE WHEN sga.target > 0 THEN 'ASMM' ELSE 'MANUAL' END END
  FROM mem, sga, pga
 UNION ALL
SELECT 'Hardware:', 'Unknown' FROM dual
 UNION ALL
SELECT 'Storage:','' FROM DUAL WHERE '' IS NOT NULL
 UNION ALL
SELECT 'Storage Version:','' FROM DUAL WHERE '' IS NOT NULL
 UNION ALL
SELECT 'Processor:', '' FROM DUAL
 UNION ALL
SELECT 'Physical CPUs:', core.cnt||' cores'||CASE WHEN rac.instances > 0 THEN ', on '||rac.db_type E
ND FROM rac, core
 UNION ALL
SELECT 'Oracle CPUs:', cpu.cnt||' CPUs (threads)'||CASE WHEN rac.instances > 0 THEN ', on '||rac.db_
type END FROM rac, cpu
 UNION ALL
SELECT 'Physical RAM:', TRIM(TO_CHAR(ROUND(pmem.bytes / POWER(2,30), 1), '999,990.0'))||' GB'||CASE
WHEN rac.instances > 0 THEN ', on '||rac.db_type END FROM rac, pmem
 UNION ALL
SELECT 'Operating system:', db.platform_name FROM db

09:29:31 1a.1
Elapsed Hours so far:    0.003
Elapsed Hours so far: .003

Decorrido: 00:00:00.02

09:29:32 1a "00009_edb360_135990_1a_1_system_under_observation.html"
Elapsed Hours so far:    0.003

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:29:33 1a "Database Configuration"
09:29:33 Identification

SELECT /*+  NO_MERGE  */ /* 1a.2 */
       d.dbid,
       d.name dbname,
       d.db_unique_name,
       d.platform_name,
       i.version,
       i.inst_id,
       i.instance_number,
       i.instance_name,
       LOWER(SUBSTR(i.host_name||'.', 1, INSTR(i.host_name||'.', '.') - 1)) host_name,
           LPAD(ORA_HASH(
       LOWER(SUBSTR(i.host_name||'.', 1, INSTR(i.host_name||'.', '.') - 1))
           ,999999),6,'6') host_hv,
       p.value cpu_count,
       '' ebs_release,
       '' ebs_system_name,
       'NOT_A_SIEBEL_DB' siebel_schema,
       '' siebel_app_ver,
       'NOT_A_PSFT_DB' psft_schema,
       '' psft_tools_rel
  FROM v$database d,
       gv$instance i,
       gv$system_parameter2 p
 WHERE p.inst_id = i.inst_id
   AND p.name = 'cpu_count'

09:29:33 1a.2
Elapsed Hours so far:    0.003
Elapsed Hours so far: .003

Decorrido: 00:00:00.02

09:29:34 1a "00010_edb360_135990_1a_2_identification.html"
Elapsed Hours so far:    0.003

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:29:34 1a "Database Configuration"
09:29:34 Version

SELECT /*+  NO_MERGE  */ /* 1a.3 */
       *
  FROM v$version

09:29:34 1a.3
Elapsed Hours so far:    0.003
Elapsed Hours so far: .003

Decorrido: 00:00:00.02

09:29:35 1a "00011_edb360_135990_1a_3_version.html"
Elapsed Hours so far:    0.004

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:29:36 1a "Database Configuration"
09:29:36 Options

SELECT /*+  NO_MERGE  */ /* 1a.4 */
       *
  FROM v$option

09:29:36 1a.4
Elapsed Hours so far:    0.004
Elapsed Hours so far: .004

Decorrido: 00:00:00.02

09:29:36 1a "00012_edb360_135990_1a_4_options.html"
Elapsed Hours so far:    0.004

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:29:37 1a "Database Configuration"
09:29:37 Database

SELECT /*+  NO_MERGE  */ /* 1a.5 */
       *
  FROM v$database

09:29:37 1a.5
Elapsed Hours so far:    0.004
Elapsed Hours so far: .004

Decorrido: 00:00:00.02

09:29:38 1a "00013_edb360_135990_1a_5_database.html"
Elapsed Hours so far:    0.004

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:29:38 1a "Database Configuration"
09:29:38 Instance

SELECT /*+  NO_MERGE  */ /* 1a.6 */
       *
  FROM gv$instance
 ORDER BY
       inst_id

09:29:38 1a.6
Elapsed Hours so far:    0.004
Elapsed Hours so far: .004

Decorrido: 00:00:00.01

09:29:39 1a "00014_edb360_135990_1a_6_instance.html"
Elapsed Hours so far:    0.005

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:29:40 1a "Database Configuration"
09:29:40 Instance Recovery

SELECT /*+  NO_MERGE  */ /* 1a.7 */
       *
  FROM gv$instance_recovery
 ORDER BY
       inst_id

09:29:40 1a.7
Elapsed Hours so far:    0.005
Elapsed Hours so far: .005

Decorrido: 00:00:00.02

09:29:40 1a "00015_edb360_135990_1a_7_instance_recovery.html"
Elapsed Hours so far:    0.005

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:29:41 1a "Database Configuration"
09:29:41 Database Properties

SELECT /*+  NO_MERGE  */ /* 1a.8 */
       *
  FROM database_properties

09:29:41 1a.8
Elapsed Hours so far:    0.005
Elapsed Hours so far: .005

Decorrido: 00:00:00.01

09:29:41 1a "00016_edb360_135990_1a_8_database_properties.html"
Elapsed Hours so far:    0.006

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:29:42 1a "Database Configuration"
09:29:42 Registry

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 1a.9 */
       x.*
	   --,c.name con_name
  FROM dba_registry x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
ORDER BY
       --x.con_id,
	   x.comp_id

09:29:42 1a.9
Elapsed Hours so far:    0.006
Elapsed Hours so far: .006

Decorrido: 00:00:00.03

09:29:43 1a "00017_edb360_135990_1a_9_registry.html"
Elapsed Hours so far:    0.006

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:29:44 1a "Database Configuration"
09:29:44 Registry History

SELECT /*+  NO_MERGE  */ /* 1a.10 */
       x.*
	   --,c.name con_name
  FROM dba_registry_history x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY 1
	   --,x.con_id

09:29:44 1a.10
Elapsed Hours so far:    0.006
Elapsed Hours so far: .006

Decorrido: 00:00:00.02

09:29:44 1a "00018_edb360_135990_1a_10_registry_history.html"
Elapsed Hours so far:    0.006

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:29:45 1a "Database Configuration"
09:29:45 Registry Hierarchy

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 1a.11 */
       x.*
	   --,c.name con_name
  FROM dba_registry_hierarchy x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       1, 2, 3

09:29:45 1a.11
Elapsed Hours so far:    0.006
Elapsed Hours so far: .006

Decorrido: 00:00:00.01

09:29:46 1a "00019_edb360_135990_1a_11_registry_hierarchy.html"
Elapsed Hours so far:    0.007

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:29:47 1a "Database Configuration"
09:29:47 Feature Usage Statistics

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 1a.12 */
       x.*
	   --,c.name con_name
  FROM dba_feature_usage_statistics x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.name,
       x.version

09:29:47 1a.12
Elapsed Hours so far:    0.007
Elapsed Hours so far: .007

Decorrido: 00:00:00.02

09:29:47 1a "00020_edb360_135990_1a_12_feature_usage_statistics.html"
Elapsed Hours so far:    0.008

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:29:50 1a "Database Configuration"
09:29:50 License

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 1a.13 */
       *
  FROM gv$license
 ORDER BY
       inst_id

09:29:50 1a.13
Elapsed Hours so far:    0.008
Elapsed Hours so far: .008

Decorrido: 00:00:00.02

09:29:50 1a "00021_edb360_135990_1a_13_license.html"
Elapsed Hours so far:    0.008

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:29:51 1a "Database Configuration"
09:29:51 Resource Limit

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 1a.14 */
       *
  FROM gv$resource_limit
 ORDER BY
       resource_name,
       inst_id

09:29:51 1a.14
Elapsed Hours so far:    0.008
Elapsed Hours so far: .008

Decorrido: 00:00:00.02

09:29:52 1a "00022_edb360_135990_1a_14_resource_limit.html"
Elapsed Hours so far:    0.008

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:29:53 1a "Database Configuration"
09:29:53 Database Links

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 1a.15 */
       x.*
	   --,c.name con_name
  FROM dba_db_links x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.owner,
       x.db_link

09:29:53 1a.15
Elapsed Hours so far:    0.008
Elapsed Hours so far: .008

Decorrido: 00:00:00.01

09:29:53 1a "00023_edb360_135990_1a_15_database_links.html"
Elapsed Hours so far:    0.009

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:29:54 1a "Database Configuration"
09:29:54 Application Schemas

SELECT /*+  NO_MERGE  */ /* 1a.16 */
       --x.con_id, c.name con_name,
	   x.owner, SUM(x.num_rows) num_rows, SUM(x.blocks) blocks, COUNT(*) tables
  FROM dba_tables x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 GROUP BY
       --x.con_id, c.name,
       x.owner
HAVING SUM(x.num_rows) > 0
 ORDER BY
       num_rows DESC

09:29:54 1a.16
Elapsed Hours so far:    0.009
Elapsed Hours so far: .009

Decorrido: 00:00:00.01

09:29:54 1a "00024_edb360_135990_1a_16_application_schemas.html"
Elapsed Hours so far:    0.010

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:29:56 1a "Database Configuration"
09:29:56 Application Schema Objects

WITH x AS (
SELECT /*+  NO_MERGE  */ /* 1a.17 */
       --x.con_id,
	   x.owner,
       SUM(CASE x.object_type WHEN 'TABLE' THEN 1 ELSE 0 END) tables,
       SUM(CASE x.object_type WHEN 'TABLE PARTITION' THEN 1 ELSE 0 END) table_partitions,
       SUM(CASE x.object_type WHEN 'TABLE SUBPARTITION' THEN 1 ELSE 0 END) table_subpartitions,
       SUM(CASE x.object_type WHEN 'INDEX' THEN 1 ELSE 0 END) indexes,
       SUM(CASE x.object_type WHEN 'INDEX PARTITION' THEN 1 ELSE 0 END) index_partitions,
       SUM(CASE x.object_type WHEN 'INDEX SUBPARTITION' THEN 1 ELSE 0 END) index_subpartitions,
       SUM(CASE x.object_type WHEN 'VIEW' THEN 1 ELSE 0 END) views,
       SUM(CASE x.object_type WHEN 'MATERIALIZED VIEW' THEN 1 ELSE 0 END) materialized_views,
       SUM(CASE x.object_type WHEN 'TRIGGER' THEN 1 ELSE 0 END) triggers,
       SUM(CASE x.object_type WHEN 'PACKAGE' THEN 1 ELSE 0 END) packages,
       SUM(CASE x.object_type WHEN 'PROCEDURE' THEN 1 ELSE 0 END) procedures,
       SUM(CASE x.object_type WHEN 'FUNCTION' THEN 1 ELSE 0 END) functions,
       SUM(CASE x.object_type WHEN 'LIBRARY' THEN 1 ELSE 0 END) libraries,
       SUM(CASE x.object_type WHEN 'SYNONYM' THEN 1 ELSE 0 END) synonyms,
       SUM(CASE x.object_type WHEN 'TYPE' THEN 1 ELSE 0 END) types,
       SUM(CASE x.object_type WHEN 'SEQUENCE' THEN 1 ELSE 0 END) sequences
  FROM dba_objects x
 WHERE x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND x.object_type IN ('TABLE', 'TABLE PARTITION', 'TABLE SUBPARTITION', 'INDEX', 'INDEX PARTITION
', 'INDEX SUBPARTITION', 'VIEW',
                       'MATERIALIZED VIEW', 'TRIGGER', 'PACKAGE', 'PROCEDURE', 'FUNCTION', 'LIBRARY'
, 'SYNONYM', 'TYPE', 'SEQUENCE')
 GROUP BY
       --x.con_id,
       x.owner
)
SELECT x.*
	   --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
	   x.owner

09:29:56 1a.17
Elapsed Hours so far:    0.010
Elapsed Hours so far: .01

Decorrido: 00:00:00.02

09:29:57 1a "00025_edb360_135990_1a_17_application_schema_objects.html"
Elapsed Hours so far:    0.010

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:29:58 1a "Database Configuration"
09:29:58 Modified Parameters

SELECT /*+  NO_MERGE  */ /* 1a.18 */
       x.*
	   --,c.name con_name
  FROM gv$system_parameter2 x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.ismodified = 'MODIFIED'
 ORDER BY
       --x.con_id,
       x.name,
       x.inst_id,
       x.ordinal

09:29:58 1a.18
Elapsed Hours so far:    0.010
Elapsed Hours so far: .01

Decorrido: 00:00:00.02

09:29:59 1a "00026_edb360_135990_1a_18_modified_parameters.html"
Elapsed Hours so far:    0.010

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:29:59 1a "Database Configuration"
09:29:59 Non-default Parameters

SELECT /*+  NO_MERGE  */ /* 1a.19 */
       x.*
	   --,c.name con_name
  FROM gv$system_parameter2 x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.name,
       x.inst_id,
       x.ordinal

09:29:59 1a.19
Elapsed Hours so far:    0.010
Elapsed Hours so far: .01

Decorrido: 00:00:00.02

09:30:00 1a "00027_edb360_135990_1a_19_nondefault_parameters.html"
Elapsed Hours so far:    0.011

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:01 1a "Database Configuration"
09:30:01 All Parameters

SELECT /*+  NO_MERGE  */ /* 1a.20 */
       x.*
	   --,c.name con_name
  FROM gv$system_parameter2 x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.name,
       x.inst_id,
       x.ordinal

09:30:01 1a.20
Elapsed Hours so far:    0.011
Elapsed Hours so far: .011

Decorrido: 00:00:00.02

09:30:02 1a "00028_edb360_135990_1a_20_all_parameters.html"
Elapsed Hours so far:    0.011

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:03 1a "Database Configuration"
09:30:03 Parameter File

SELECT /*+  NO_MERGE  */ /* 1a.21 */
       x.*
	   --,c.name con_name
  FROM v$spparameter x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.isspecified = 'TRUE'
 ORDER BY
       --x.con_id,
       x.name,
       x.sid,
       x.ordinal

09:30:03 1a.21
Elapsed Hours so far:    0.011
Elapsed Hours so far: .011

Decorrido: 00:00:00.01

09:30:04 1a "00029_edb360_135990_1a_21_parameter_file.html"
Elapsed Hours so far:    0.012

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:04 1a "Database Configuration"
09:30:04 Memory Configuration

WITH
system_parameter AS (
SELECT inst_id,
       name,
       value
  FROM gv$system_parameter2
 WHERE name IN
( 'memory_max_target'
, 'memory_target'
, 'pga_aggregate_target'
, 'sga_max_size'
, 'sga_target'
, 'db_cache_size'
, 'shared_pool_size'
, 'shared_pool_reserved_size'
, 'large_pool_size'
, 'java_pool_size'
, 'streams_pool_size'
, 'result_cache_max_size'
, 'db_keep_cache_size'
, 'db_recycle_cache_size'
, 'db_32k_cache_size'
, 'db_16k_cache_size'
, 'db_8k_cache_size'
, 'db_4k_cache_size'
, 'db_2k_cache_size'
)),
spparameter_inst AS (
SELECT i.inst_id,
       p.name,
       p.display_value
  FROM v$spparameter p,
       gv$instance i
 WHERE p.isspecified = 'TRUE'
   AND p.sid <> '*'
   AND i.instance_name = p.sid
),
spparameter_all AS (
SELECT p.name,
       p.display_value
  FROM v$spparameter p
 WHERE p.isspecified = 'TRUE'
   AND p.sid = '*'
)
SELECT s.name,
       s.inst_id,
       CASE WHEN i.name IS NOT NULL THEN TO_CHAR(i.inst_id) ELSE (CASE WHEN a.name IS NOT NULL THEN
'*' END) END spfile_sid,
       NVL(i.display_value, a.display_value) spfile_value,
       CASE s.value WHEN '0' THEN '0' ELSE TRIM(TO_CHAR(ROUND(TO_NUMBER(s.value)/POWER(2,30),3),'999
0.000'))||'G' END current_gb,
       NULL recommended_gb
  FROM system_parameter s,
       spparameter_inst i,
       spparameter_all  a
 WHERE i.inst_id(+) = s.inst_id
   AND i.name(+)    = s.name
   AND a.name(+)    = s.name
 ORDER BY
       CASE s.name
       WHEN 'memory_max_target'         THEN  1
       WHEN 'memory_target'             THEN  2
       WHEN 'pga_aggregate_target'      THEN  3
       WHEN 'sga_max_size'              THEN  4
       WHEN 'sga_target'                THEN  5
       WHEN 'db_cache_size'             THEN  6
       WHEN 'shared_pool_size'          THEN  7
       WHEN 'shared_pool_reserved_size' THEN  8
       WHEN 'large_pool_size'           THEN  9
       WHEN 'java_pool_size'            THEN 10
       WHEN 'streams_pool_size'         THEN 11
       WHEN 'result_cache_max_size'     THEN 12
       WHEN 'db_keep_cache_size'        THEN 13
       WHEN 'db_recycle_cache_size'     THEN 14
       WHEN 'db_32k_cache_size'         THEN 15
       WHEN 'db_16k_cache_size'         THEN 16
       WHEN 'db_8k_cache_size'          THEN 17
       WHEN 'db_4k_cache_size'          THEN 18
       WHEN 'db_2k_cache_size'          THEN 19
       END,
       s.inst_id

09:30:04 1a.22
Elapsed Hours so far:    0.012
Elapsed Hours so far: .012

Decorrido: 00:00:00.02

09:30:05 1a "00030_edb360_135990_1a_22_memory_configuration.html"
Elapsed Hours so far:    0.012

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:06 1b "Security"
09:30:06 Users

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 1b.23 */
       x.*
       --,c.name con_name
  FROM dba_users x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY x.username
          --,x.con_id

09:30:06 1b.23
Elapsed Hours so far:    0.012
Elapsed Hours so far: .012

Decorrido: 00:00:00.02

09:30:07 1b "00031_edb360_135990_1b_23_users.html"
Elapsed Hours so far:    0.013

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:08 1b "Security"
09:30:08 Profiles

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 1b.24 */
       x.*
       --,c.name con_name
  FROM dba_profiles x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY x.profile, x.resource_type, x.resource_name
          --,x.con_id

09:30:08 1b.24
Elapsed Hours so far:    0.013
Elapsed Hours so far: .013

Decorrido: 00:00:00.04

09:30:08 1b "00032_edb360_135990_1b_24_profiles.html"
Elapsed Hours so far:    0.013

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:09 1b "Security"
09:30:09 Users With Sensitive Roles Granted

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 1b.25 */
       x.*
       --,c.name con_name
  FROM dba_role_privs x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE (x.granted_role in
('AQ_ADMINISTRATOR_ROLE','DELETE_CATALOG_ROLE','DBA','DM_CATALOG_ROLE','EXECUTE_CATALOG_ROLE',
'EXP_FULL_DATABASE','GATHER_SYSTEM_STATISTICS','HS_ADMIN_ROLE','IMP_FULL_DATABASE',
   'JAVASYSPRIV','JAVA_ADMIN','JAVA_DEPLOY','LOGSTDBY_ADMINISTRATOR',
   'OEM_MONITOR','OLAP_DBA','RECOVERY_CATALOG_OWNER','SCHEDULER_ADMIN',
   'SELECT_CATALOG_ROLE','WM_ADMIN_ROLE','XDBADMIN','RESOURCE')
    or x.granted_role like '%ANY%')
   and x.grantee not in ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_S
SO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDA
TA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   and x.grantee not in ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRC
ANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   and (x.grantee
       --,x.con_id
	   ) IN (SELECT u.username
	              --, u.con_id
		     FROM dba_users u)
order by x.grantee, x.granted_role
--,x.con_id

09:30:09 1b.25
Elapsed Hours so far:    0.013
Elapsed Hours so far: .013

Decorrido: 00:00:00.02

09:30:10 1b "00033_edb360_135990_1b_25_users_with_sensitive_roles_granted.html"
Elapsed Hours so far:    0.013

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:10 1b "Security"
09:30:10 Users With Inappropriate Tablespaces Granted

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
--WITH c AS (SELECT value FROM V$system_parameter2 WHERE name = 'common_user_prefix')
SELECT /*+  NO_MERGE  */ /* 1b.26 */
       x.*
       --,c.name con_name
FROM   dba_users x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id, c
WHERE  (x.default_tablespace in ('SYSAUX','SYSTEM')
or (x.temporary_tablespace
   --,x.con_id
   ) not in
   (select t.tablespace_name
          --,t.con_id
   from dba_tablespaces t
   where t.contents = 'TEMPORARY'
   and t.status = 'ONLINE'))
and NVL((SELECT COUNT(*)
         FROM dba_tablespace_groups g, dba_tablespaces t
         WHERE g.group_name = x.temporary_tablespace
		 --AND g.con_id = x.con_id
		 --AND t.con_id = g.con_id
         AND t.tablespace_name = g.tablespace_name
         AND t.contents IN ('PERMANENT', 'UNDO')), 0) != 0
and x.username not in ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
and x.username not in ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 order by x.username
         --,x.con_id

09:30:10 1b.26
Elapsed Hours so far:    0.013
Elapsed Hours so far: .013

Decorrido: 00:00:00.02

09:30:11 1b "00034_edb360_135990_1b_26_users_with_inappropriate_tablespaces_granted.html"
Elapsed Hours so far:    0.014

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:12 1b "Security"
09:30:12 Proxy Users

-- provided by Simon Pane
SELECT /*+  NO_MERGE  */ /* 1b.27 */ *
  FROM proxy_users
 ORDER BY client

09:30:12 1b.27
Elapsed Hours so far:    0.014
Elapsed Hours so far: .014

Decorrido: 00:00:00.01

09:30:12 1b "00035_edb360_135990_1b_27_proxy_users.html"
Elapsed Hours so far:    0.014

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:13 1b "Security"
09:30:13 Profile Password Verification Functions

-- provided by Simon Pane
WITH p AS (
SELECT * FROM DBA_profiles
WHERE  resource_name = 'PASSWORD_VERIFY_FUNCTION'
), expanded_profiles AS (
SELECT /*+  NO_MERGE  */
       --con_id,
       profile,
       limit,
       CONNECT_BY_ROOT limit top_limit,
       level nest_level
  FROM p
CONNECT BY PRIOR profile = limit
--AND PRIOR con_id = con_id
),
users_with_profile AS (
SELECT /*+  NO_MERGE  */
       --con_id,
       profile,
       count(*) cnt
  FROM DBA_users
 GROUP BY
       --con_id,
       profile
)
SELECT /*+  NO_MERGE  */ /* 1b.28 */
       --x.con_id,
       x.profile,
       DECODE(x.nest_level,2,'DEFAULT ('||x.top_limit||')',x.top_limit) profile_limit_setting,
       DECODE(x.top_limit,'NULL',' ',NVL2(o.object_name,o.owner||'.'||o.object_name,'** FUNCTION NOT
 FOUND **')) verification_function,
       o.last_ddl_time,
       o.status,
       NVL(TO_CHAR(u.cnt),'<NONE>') assigned_users
       --,c.name con_name
  FROM
       expanded_profiles x
	   LEFT OUTER JOIN DBA_objects o ON x.top_limit = o.object_name --AND x.con_id = o.con_id
	   LEFT OUTER JOIN users_with_profile u ON x.profile = u.profile --AND x.con_id = u.con_id
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE NOT (x.limit = 'DEFAULT' AND x.top_limit = 'DEFAULT')
 ORDER BY 1,2,3

09:30:13 1b.28
Elapsed Hours so far:    0.014
Elapsed Hours so far: .014

Decorrido: 00:00:00.01

09:30:14 1b "00036_edb360_135990_1b_28_profile_password_verification_functions.html"
Elapsed Hours so far:    0.015

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:14 1b "Security"
09:30:14 Users with CREATE SESSION privilege

-- provided by Simon Pane
SELECT /*+  NO_MERGE  */ /* 1b.29 */ DISTINCT
       --d.con_id,
       d.username "SCHEMA", d.account_status
       --,c.name con_name
  FROM SYS.user$ u
     , dba_users d
       --LEFT OUTER JOIN v$containers c ON c.con_id = d.con_id
 WHERE u.NAME = d.username
   AND d.account_status NOT LIKE '%LOCKED%'
   AND u.type# = 1
   AND u.NAME != 'SYS'
   AND u.NAME != 'SYSTEM'
   AND u.user# IN (
              SELECT     grantee#
                    FROM SYS.sysauth$
              CONNECT BY PRIOR grantee# = privilege#
              START WITH privilege# =
                                     (SELECT PRIVILEGE
                                        FROM SYS.system_privilege_map
                                       WHERE NAME = 'CREATE SESSION'))
   AND (d.username
       --,d.con_id
       ) IN (SELECT DISTINCT owner
                           --, con_id
                        FROM   dba_objects
                        WHERE  object_type != 'SYNONYM')
ORDER BY d.username
       --, d.con_id

09:30:14 1b.29
Elapsed Hours so far:    0.015
Elapsed Hours so far: .015

Decorrido: 00:00:00.02

09:30:15 1b "00037_edb360_135990_1b_29_users_with_create_session_privilege.html"
Elapsed Hours so far:    0.015

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:17 1c "Auditing"
09:30:17 Default Object Auditing Options

SELECT /*+  NO_MERGE  */ /* 1c.30 */
       *
  FROM all_def_audit_opts

09:30:17 1c.30
Elapsed Hours so far:    0.015
Elapsed Hours so far: .015

Decorrido: 00:00:00.02

09:30:17 1c "00038_edb360_135990_1c_30_default_object_auditing_options.html"
Elapsed Hours so far:    0.016

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:18 1c "Auditing"
09:30:18 Object Auditing Options

SELECT /*+  NO_MERGE  */ /* 1c.31 */
       o.*
       --,c.name con_name
  FROM dba_obj_audit_opts o
       --LEFT OUTER JOIN v$containers c ON c.con_id = o.con_id
 --WHERE (o.alt,o.aud,o.com,o.del,o.gra,o.ind,o.ins,o.loc,o.ren,o.sel,o.upd,o.ref,o.exe,o.fbk,o.rea)
 NOT IN
 --      (SELECT d.alt,d.aud,d.com,d.del,d.gra,d.ind,d.ins,d.loc,d.ren,d.sel,d.upd,d.ref,d.exe,d.fbk
,d.rea FROM all_def_audit_opts d)
 ORDER BY
       1, 2
	   --,o.con_id

09:30:18 1c.31
Elapsed Hours so far:    0.016
Elapsed Hours so far: .016

Decorrido: 00:00:00.02

09:30:19 1c "00039_edb360_135990_1c_31_object_auditing_options.html"
Elapsed Hours so far:    0.016

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:21 1c "Auditing"
09:30:21 Statement Auditing Options

SELECT /*+  NO_MERGE  */ /* 1c.32 */
       x.*
	   --,c.name con_name
  FROM dba_stmt_audit_opts x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       1 NULLS FIRST, 2 NULLS FIRST, 3
	   --,x.con_id

09:30:21 1c.32
Elapsed Hours so far:    0.016
Elapsed Hours so far: .016

Decorrido: 00:00:00.02

09:30:22 1c "00040_edb360_135990_1c_32_statement_auditing_options.html"
Elapsed Hours so far:    0.017

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:22 1c "Auditing"
09:30:22 System Privileges Auditing Options

SELECT /*+  NO_MERGE  */ /* 1c.33 */
       x.*
	   --,c.name con_name
  FROM dba_priv_audit_opts x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       1 NULLS FIRST, 2 NULLS FIRST, 3
	   --,x.con_id

09:30:22 1c.33
Elapsed Hours so far:    0.017
Elapsed Hours so far: .017

Decorrido: 00:00:00.01

09:30:23 1c "00041_edb360_135990_1c_33_system_privileges_auditing_options.html"
Elapsed Hours so far:    0.017

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:24 1c "Auditing"
09:30:24 Audit related Initialization Parameters

-- provided by Simon Pane
SELECT /*+  NO_MERGE  */ /* 1c.34 */
       inst_id, name "PARAMETER", value, isdefault, ismodified
  FROM gv$system_parameter2
 WHERE name LIKE '%audit%'
 ORDER BY 2,1,3

09:30:24 1c.34
Elapsed Hours so far:    0.017
Elapsed Hours so far: .017

Decorrido: 00:00:00.01

09:30:24 1c "00042_edb360_135990_1c_34_audit_related_initialization_parameters.html"
Elapsed Hours so far:    0.017

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:25 1c "Auditing"
09:30:25 Unified Auditing

-- provided by Simon Pane
SELECT /*+  NO_MERGE  */ /* 1c.35 */
       value "Unified Auditing"
  FROM v$option
 WHERE parameter = 'Unified Auditing'

09:30:25 1c.35
Elapsed Hours so far:    0.017
Elapsed Hours so far: .017

Decorrido: 00:00:00.02

09:30:25 1c "00043_edb360_135990_1c_35_unified_auditing.html"
Elapsed Hours so far:    0.018

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:26 1c "Auditing"
09:30:26 Audit Configuration

-- provided by Simon Pane
SELECT /*+  NO_MERGE  */ /* 1c.36 */
       x.*
	   --,c.name con_name
  FROM dba_audit_mgmt_config_params x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY 1,2,3
          --,x.con_id

09:30:26 1c.36
Elapsed Hours so far:    0.018
Elapsed Hours so far: .018

Decorrido: 00:00:00.02

09:30:27 1c "00044_edb360_135990_1c_36_audit_configuration.html"
Elapsed Hours so far:    0.018

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:27 1c "Auditing"
09:30:27 Audit Trail Locations

-- provided by Simon Pane
SELECT /*+  NO_MERGE  */ /* 1c.37 */
       SUBSTR(owner||'.'||table_name,1,30) audit_trail, tablespace_name
	   --,x.con_id , c.name con_name
  FROM dba_tables x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 --WHERE x.table_name IN ('AUD$','AUDIT$','FGA$','FGA_LOG$')
 WHERE x.table_name IN ('AUD$','FGA_LOG$')
    OR x.table_name IN ('UNIFIED_AUDIT_TRAIL','CDB_UNIFIED_AUDIT_TRAIL','V_$UNIFIED_AUDIT_TRAIL','GV
_$UNIFIED_AUDIT_TRAIL') -- 12c UAT
 ORDER BY 1
          --,x.con_id

09:30:27 1c.37
Elapsed Hours so far:    0.018
Elapsed Hours so far: .018

Decorrido: 00:00:00.01

09:30:28 1c "00045_edb360_135990_1c_37_audit_trail_locations.html"
Elapsed Hours so far:    0.018

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:29 1c "Auditing"
09:30:29 Object Level Privileges (Audit Trail)

-- provided by Simon Pane
SELECT /*+  NO_MERGE  */ /* 1c.38 */
       x.owner || '.' || x.table_name "TABLE", x.grantee, x.privilege, x.grantable
	   --,x.con_id , c.name con_name
  FROM dba_tab_privs x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE (   x.table_name IN ('AUD$','AUDIT$','FGA$','FGA_LOG$')
        OR x.table_name IN ('UNIFIED_AUDIT_TRAIL','CDB_UNIFIED_AUDIT_TRAIL','V_$UNIFIED_AUDIT_TRAIL'
,'GV_$UNIFIED_AUDIT_TRAIL') -- 12c UAT
       )
   AND x.grantee NOT IN ('SYS','SYSTEM','DBA','AUDIT_ADMIN','AUDIT_VIEWER')
   AND x.owner IN ('SYS','SYSTEM')
 ORDER BY x.table_name, x.owner, x.grantee, x.privilege
          --,x.con_id

09:30:29 1c.38
Elapsed Hours so far:    0.018
Elapsed Hours so far: .018

Decorrido: 00:00:00.02

09:30:29 1c "00046_edb360_135990_1c_38_object_level_privileges_audit_trail.html"
Elapsed Hours so far:    0.019

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:30 1d "Memory"
09:30:30 SGA

SELECT /*+ RESULT_CACHE */
       inst_id,
       name,
       value,
       CASE
       WHEN value > POWER(2,50) THEN ROUND(value/POWER(2,50),1)||' P'
       WHEN value > POWER(2,40) THEN ROUND(value/POWER(2,40),1)||' T'
       WHEN value > POWER(2,30) THEN ROUND(value/POWER(2,30),1)||' G'
       WHEN value > POWER(2,20) THEN ROUND(value/POWER(2,20),1)||' M'
       WHEN value > POWER(2,10) THEN ROUND(value/POWER(2,10),1)||' K'
       ELSE value||' B' END approx
  FROM gv$sga
 ORDER BY
       name,
       inst_id

09:30:30 1d.39
Elapsed Hours so far:    0.019
Elapsed Hours so far: .019

Decorrido: 00:00:00.02

09:30:31 1d "00047_edb360_135990_1d_39_sga.html"
Elapsed Hours so far:    0.019

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:32 1d "Memory"
09:30:32 SGA Info

SELECT /*+  NO_MERGE  */ /* 1d.40 */
       inst_id,
       name,
       bytes,
       CASE
       WHEN bytes > POWER(2,50) THEN ROUND(bytes/POWER(2,50),1)||' P'
       WHEN bytes > POWER(2,40) THEN ROUND(bytes/POWER(2,40),1)||' T'
       WHEN bytes > POWER(2,30) THEN ROUND(bytes/POWER(2,30),1)||' G'
       WHEN bytes > POWER(2,20) THEN ROUND(bytes/POWER(2,20),1)||' M'
       WHEN bytes > POWER(2,10) THEN ROUND(bytes/POWER(2,10),1)||' K'
       ELSE bytes||' B' END approx,
       resizeable
  FROM gv$sgainfo
 ORDER BY
       name,
       inst_id

09:30:32 1d.40
Elapsed Hours so far:    0.019
Elapsed Hours so far: .019

Decorrido: 00:00:00.01

09:30:32 1d "00048_edb360_135990_1d_40_sga_info.html"
Elapsed Hours so far:    0.020

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:33 1d "Memory"
09:30:33 SGA Stat

SELECT /*+  NO_MERGE  */ /* 1d.41 */
       x.pool,
       x.name,
       x.inst_id,
       x.bytes,
       CASE
       WHEN x.bytes > POWER(2,50) THEN ROUND(x.bytes/POWER(2,50),1)||' P'
       WHEN x.bytes > POWER(2,40) THEN ROUND(x.bytes/POWER(2,40),1)||' T'
       WHEN x.bytes > POWER(2,30) THEN ROUND(x.bytes/POWER(2,30),1)||' G'
       WHEN x.bytes > POWER(2,20) THEN ROUND(x.bytes/POWER(2,20),1)||' M'
       WHEN x.bytes > POWER(2,10) THEN ROUND(x.bytes/POWER(2,10),1)||' K'
       ELSE x.bytes||' B' END approx
	   --,x.con_id,c.name con_name
  FROM gv$sgastat x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       x.pool NULLS FIRST,
       x.name,
	   --x.con_id,
       x.inst_id

09:30:33 1d.41
Elapsed Hours so far:    0.020
Elapsed Hours so far: .02

Decorrido: 00:00:00.02

09:30:33 1d "00049_edb360_135990_1d_41_sga_stat.html"
Elapsed Hours so far:    0.020

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:35 1d "Memory"
09:30:35 PGA Stat

SELECT /*+  NO_MERGE  */ /* 1d.42 */
       x.inst_id,
       x.name,
       x.value,
       x.unit,
       CASE x.unit WHEN 'bytes' THEN
       CASE
       WHEN x.value > POWER(2,50) THEN ROUND(x.value/POWER(2,50),1)||' P'
       WHEN x.value > POWER(2,40) THEN ROUND(x.value/POWER(2,40),1)||' T'
       WHEN x.value > POWER(2,30) THEN ROUND(x.value/POWER(2,30),1)||' G'
       WHEN x.value > POWER(2,20) THEN ROUND(x.value/POWER(2,20),1)||' M'
       WHEN x.value > POWER(2,10) THEN ROUND(x.value/POWER(2,10),1)||' K'
       ELSE x.value||' B' END
       END approx
  FROM gv$pgastat x
ORDER BY
       x.name,
       x.inst_id

09:30:35 1d.42
Elapsed Hours so far:    0.020
Elapsed Hours so far: .02

Decorrido: 00:00:00.01

09:30:36 1d "00050_edb360_135990_1d_42_pga_stat.html"
Elapsed Hours so far:    0.021

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:36 1d "Memory"
09:30:36 Memory Dynamic Components

-- requested by Rodrigo Righetti
SELECT /*+  NO_MERGE  */ /* 1d.43 */
       *
  FROM gv$memory_dynamic_components

09:30:36 1d.43
Elapsed Hours so far:    0.021
Elapsed Hours so far: .021

Decorrido: 00:00:00.02

09:30:37 1d "00051_edb360_135990_1d_43_memory_dynamic_components.html"
Elapsed Hours so far:    0.021

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:38 1d "Memory"
09:30:38 Memory Target Advice

-- requested by Rodrigo Righetti
SELECT /*+  NO_MERGE  */ /* 1d.44 */
       *
  FROM gv$memory_target_advice


09:30:38 1d.44
Elapsed Hours so far:    0.021
Elapsed Hours so far: .021

Decorrido: 00:00:00.01

09:30:38 1d "00052_edb360_135990_1d_44_memory_target_advice.html"
Elapsed Hours so far:    0.021

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:39 1d "Memory"
09:30:39 SGA Target Advice

-- requested by Rodrigo Righetti
SELECT /*+  NO_MERGE  */ /* 1d.45 */
       *
  FROM gv$sga_target_advice


09:30:39 1d.45
Elapsed Hours so far:    0.021
Elapsed Hours so far: .021

Decorrido: 00:00:00.02

09:30:40 1d "00053_edb360_135990_1d_45_sga_target_advice.html"
Elapsed Hours so far:    0.022

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:40 1d "Memory"
09:30:40 PGA Target Advice

-- requested by Rodrigo Righetti
SELECT /*+  NO_MERGE  */ /* 1d.46 */
       *
  FROM gv$pga_target_advice


09:30:40 1d.46
Elapsed Hours so far:    0.022
Elapsed Hours so far: .022

Decorrido: 00:00:00.02

09:30:41 1d "00054_edb360_135990_1d_46_pga_target_advice.html"
Elapsed Hours so far:    0.022

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:42 1d "Memory"
09:30:42 SQL Workarea Histogram

-- requested by Dimas Chbane, expanded by Abel Macias
-- replaced V dollar view with historic
WITH
totals AS (
  SELECT /*+  MATERIALIZE NO_MERGE   DYNAMIC_SAMPLING(4)  */
         /* 1d.47 */
        --con_id,
        INSTANCE_NUMBER,
        LOW_OPTIMAL_SIZE lnum,
        HIGH_OPTIMAL_SIZE+1 hnum,
        SUM(OPTIMAL_EXECUTIONS) optimal ,
        SUM(ONEPASS_EXECUTIONS) onepass ,
        SUM(MULTIPASSES_EXECUTIONS) multipasses,
        SUM(TOTAL_EXECUTIONS) totex
   FROM DBA_HIST_SQL_WORKAREA_HSTGRM
  WHERE snap_id BETWEEN 0 AND 1
    AND dbid = 604135990
  GROUP BY
        --con_id,
        INSTANCE_NUMBER,
        LOW_OPTIMAL_SIZE,
        HIGH_OPTIMAL_SIZE
    )
SELECT /*+  NO_MERGE  */ /* 1d.47 */
  --con_id,
  INSTANCE_NUMBER,
  (case when lnum between 1024           and 1024*1024-1                then to_char(round(lnum /102
4),'9999') ||' Kb'
        when lnum between 1024*1024      and 1024*1024*1024-1           then to_char(round(lnum /102
4/1024),'9999') ||' Mb'
        when lnum between 1024*1024*1024 and 1024*1024*1024*1024-1      then to_char(round(lnum /102
4/1024/1024),'9999') ||' Gb'
        when lnum between 1024*1024*1024 and 1024*1024*1024*1024*1024-1 then to_char(round(lnum /102
4/1024/1024/1024),'9999') ||' Tb'
   else to_char(lnum) end) LOW_OPTIMAL_SIZE,
  (case when hnum between 1024           and 1024*1024-1                then to_char(round(hnum /102
4),'9999') ||' Kb'
        when hnum between 1024*1024      and 1024*1024*1024-1           then to_char(round(hnum /102
4/1024),'9999') ||' Mb'
        when hnum between 1024*1024*1024 and 1024*1024*1024*1024-1      then to_char(round(hnum /102
4/1024/1024),'9999') ||' Gb'
        when hnum between 1024*1024*1024 and 1024*1024*1024*1024*1024-1 then to_char(round(hnum /102
4/1024/1024/1024),'9999') ||' Tb'
   else to_char(hnum) end) HIGH_OPTIMAL_SIZE,
  optimal OPTIMAL_EXECUTIONS,
  onepass ONEPASS_EXECUTIONS,
  multipasses MULTIPASSES_EXECUTIONS,
  totex TOTAL_EXECUTIONS
FROM totals
ORDER BY --con_id,
         INSTANCE_NUMBER,
         lnum

09:30:42 1d.47
Elapsed Hours so far:    0.022
Elapsed Hours so far: .022

Decorrido: 00:00:00.01

09:30:42 1d "00055_edb360_135990_1d_47_sql_workarea_histogram.html"
Elapsed Hours so far:    0.022

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:43 1d "Memory"
09:30:43 Memory Resize Operations

-- requested by Rodrigo Righetti
SELECT /*+  NO_MERGE  */ /* 1d.48 */
       *
  FROM gv$memory_resize_ops
 ORDER BY
       inst_id,
       start_time DESC,
       component

09:30:43 1d.48
Elapsed Hours so far:    0.022
Elapsed Hours so far: .022

Decorrido: 00:00:00.02

09:30:44 1d "00056_edb360_135990_1d_48_memory_resize_operations.html"
Elapsed Hours so far:    0.023

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:44 1d "Memory"
09:30:44 Memory Current Resize Operations

-- requested by Rodrigo Righetti
SELECT /*+  NO_MERGE  */ /* 1d.49 */
       *
  FROM gv$memory_current_resize_ops
 ORDER BY
       inst_id,
       start_time DESC,
       component

09:30:44 1d.49
Elapsed Hours so far:    0.023
Elapsed Hours so far: .023

Decorrido: 00:00:00.01

09:30:45 1d "00057_edb360_135990_1d_49_memory_current_resize_operations.html"
Elapsed Hours so far:    0.023

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:46 1e "Resources (as per AWR and MEM)"
09:30:46 Memory Size (MEM)

WITH
par AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 1e.50 */
       d.dbid,
       d.name db_name,
       i.inst_id,
       /* LOWER(SUBSTR(i.host_name||'.', 1, INSTR(i.host_name||'.', '.') - 1)) */
       LPAD(ORA_HASH(SYS_CONTEXT('USERENV', 'SERVER_HOST'),999999),6,'6') host_name,
       i.instance_number,
       i.instance_name,
       SUM(CASE p.name WHEN 'memory_target' THEN TO_NUMBER(value) END) memory_target,
       SUM(CASE p.name WHEN 'memory_max_target' THEN TO_NUMBER(value) END) memory_max_target,
       SUM(CASE p.name WHEN 'sga_target' THEN TO_NUMBER(value) END) sga_target,
       SUM(CASE p.name WHEN 'sga_max_size' THEN TO_NUMBER(value) END) sga_max_size,
       SUM(CASE p.name WHEN 'pga_aggregate_target' THEN TO_NUMBER(value) END) pga_aggregate_target
  FROM gv$instance i,
       gv$database d,
       gv$system_parameter2 p
 WHERE d.inst_id = i.inst_id
   AND p.inst_id = i.inst_id
   AND p.name IN ('memory_target', 'memory_max_target', 'sga_target', 'sga_max_size', 'pga_aggregate
_target')
 GROUP BY
       d.dbid,
       d.name,
       i.inst_id,
       i.host_name,
       i.instance_number,
       i.instance_name
),
sga_max AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 1e.50 */
       inst_id,
       bytes
  FROM gv$sgainfo
 WHERE name = 'Maximum SGA Size'
),
pga_max AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 1e.50 */
       inst_id,
       value bytes
  FROM gv$pgastat
 WHERE name = 'maximum PGA allocated'
),
pga AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 1e.50 */
       par.dbid,
       par.db_name,
       par.inst_id,
       par.host_name,
       par.instance_number,
       par.instance_name,
       par.pga_aggregate_target,
       pga_max.bytes max_bytes,
       GREATEST(NVL(par.pga_aggregate_target, 0), NVL(pga_max.bytes, 0)) bytes
  FROM par,
       pga_max
 WHERE par.inst_id = pga_max.inst_id
),
amm AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 1e.50 */
       par.dbid,
       par.db_name,
       par.inst_id,
       par.host_name,
       par.instance_number,
       par.instance_name,
       par.memory_target,
       par.memory_max_target,
       GREATEST(NVL(par.memory_target, 0), NVL(par.memory_max_target, 0)) + (6 * POWER(2,20)) bytes
  FROM par
),
asmm AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 1e.50 */
       par.dbid,
       par.db_name,
       par.inst_id,
       par.host_name,
       par.instance_number,
       par.instance_name,
       par.sga_target,
       par.sga_max_size,
       pga.bytes pga_bytes,
       GREATEST(NVL(sga_target, 0), NVL(sga_max_size, 0)) + NVL(pga.bytes, 0) + (6 * POWER(2,20)) by
tes
  FROM par,
       pga
 WHERE par.inst_id = pga.inst_id
),
no_mm AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 1e.50 */
       pga.dbid,
       pga.db_name,
       pga.inst_id,
       pga.host_name,
       pga.instance_number,
       pga.instance_name,
       sga_max.bytes max_sga,
       pga.bytes max_pga,
       pga.pga_aggregate_target,
       sga_max.bytes + pga.bytes + (5 * POWER(2,20)) bytes
  FROM sga_max,
       pga
 WHERE sga_max.inst_id = pga.inst_id
),
them_all AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 1e.50 */
       amm.dbid,
       amm.db_name,
       amm.inst_id,
       amm.host_name,
       amm.instance_number,
       amm.instance_name,
       GREATEST(NVL(amm.bytes, 0), NVL(asmm.bytes, 0), NVL(no_mm.bytes, 0)) bytes,
       amm.memory_target,
       amm.memory_max_target,
       asmm.sga_target,
       asmm.sga_max_size,
       no_mm.max_sga,
       no_mm.pga_aggregate_target,
       no_mm.max_pga
  FROM amm,
       asmm,
       no_mm
 WHERE asmm.inst_id = amm.inst_id
   AND no_mm.inst_id = amm.inst_id
 ORDER BY
       amm.inst_id
)
SELECT dbid,
       db_name,
       host_name,
       instance_number,
       instance_name,
       bytes total_required,
       ROUND(bytes/POWER(2,30),3) total_required_gb,
       memory_target,
       ROUND(memory_target/POWER(2,30),3) memory_target_gb,
       memory_max_target,
       ROUND(memory_max_target/POWER(2,30),3) memory_max_target_gb,
       sga_target,
       ROUND(sga_target/POWER(2,30),3) sga_target_gb,
       sga_max_size,
       ROUND(sga_max_size/POWER(2,30),3) sga_max_size_gb,
       max_sga max_sga_alloc,
       ROUND(max_sga/POWER(2,30),3) max_sga_alloc_gb,
       pga_aggregate_target,
       ROUND(pga_aggregate_target/POWER(2,30),3) pga_aggregate_target_gb,
       max_pga max_pga_alloc,
       ROUND(max_pga/POWER(2,30),3) max_pga_alloc_gb
  FROM them_all
 UNION ALL
SELECT TO_NUMBER(NULL) dbid,
       NULL db_name,
       NULL host_name,
       -1 instance_number,
       NULL instance_name,
       SUM(bytes) total_required,
       ROUND(SUM(bytes)/POWER(2,30),3) total_required_gb,
       SUM(memory_target) memory_target,
       ROUND(SUM(memory_target)/POWER(2,30),3) memory_target_gb,
       SUM(memory_max_target) memory_max_target,
       ROUND(SUM(memory_max_target)/POWER(2,30),3) memory_max_target_gb,
       SUM(sga_target) sga_target,
       ROUND(SUM(sga_target)/POWER(2,30),3) sga_target_gb,
       SUM(sga_max_size) sga_max_size,
       ROUND(SUM(sga_max_size)/POWER(2,30),3) sga_max_size_gb,
       SUM(max_sga) max_sga_alloc,
       ROUND(SUM(max_sga)/POWER(2,30),3) max_sga_alloc_gb,
       SUM(pga_aggregate_target) pga_aggregate_target,
       ROUND(SUM(pga_aggregate_target)/POWER(2,30),3) pga_aggregate_target_gb,
       SUM(max_pga) max_pga_alloc,
       ROUND(SUM(max_pga)/POWER(2,30),3) max_pga_alloc_gb
  FROM them_all

09:30:46 1e.50
Elapsed Hours so far:    0.023
Elapsed Hours so far: .023

Decorrido: 00:00:00.02

09:30:47 1e "00058_edb360_135990_1e_50_memory_size_mem.html"
Elapsed Hours so far:    0.024

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:48 1e "Resources (as per AWR and MEM)"
09:30:48 Database Size on Disk

WITH
sizes AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 1e.51 */
       'Data' file_type,
       SUM(bytes) bytes
  FROM v$datafile
 UNION ALL
SELECT 'Temp' file_type,
       SUM(bytes) bytes
  FROM v$tempfile
 UNION ALL
SELECT 'Log' file_type,
       SUM(bytes) * MAX(members) bytes
  FROM v$log
 UNION ALL
SELECT 'Control' file_type,
       SUM(block_size * file_size_blks) bytes
  FROM v$controlfile
),
dbsize AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 1e.51 */
       'Total' file_type,
       SUM(bytes) bytes
  FROM sizes
)
SELECT d.dbid,
       d.name db_name,
       s.file_type,
       s.bytes,
       ROUND(s.bytes/POWER(10,9),3) gb,
       CASE
       WHEN s.bytes > POWER(10,15) THEN ROUND(s.bytes/POWER(10,15),3)||' P'
       WHEN s.bytes > POWER(10,12) THEN ROUND(s.bytes/POWER(10,12),3)||' T'
       WHEN s.bytes > POWER(10,9) THEN ROUND(s.bytes/POWER(10,9),3)||' G'
       WHEN s.bytes > POWER(10,6) THEN ROUND(s.bytes/POWER(10,6),3)||' M'
       WHEN s.bytes > POWER(10,3) THEN ROUND(s.bytes/POWER(10,3),3)||' K'
       WHEN s.bytes > 0 THEN s.bytes||' B' END display
  FROM v$database d,
       sizes s
 UNION ALL
SELECT d.dbid,
       d.name db_name,
       s.file_type,
       s.bytes,
       ROUND(s.bytes/POWER(10,9),3) gb,
       CASE
       WHEN s.bytes > POWER(10,15) THEN ROUND(s.bytes/POWER(10,15),3)||' P'
       WHEN s.bytes > POWER(10,12) THEN ROUND(s.bytes/POWER(10,12),3)||' T'
       WHEN s.bytes > POWER(10,9) THEN ROUND(s.bytes/POWER(10,9),3)||' G'
       WHEN s.bytes > POWER(10,6) THEN ROUND(s.bytes/POWER(10,6),3)||' M'
       WHEN s.bytes > POWER(10,3) THEN ROUND(s.bytes/POWER(10,3),3)||' K'
       WHEN s.bytes > 0 THEN s.bytes||' B' END display
  FROM v$database d,
       dbsize s

09:30:48 1e.51
Elapsed Hours so far:    0.024
Elapsed Hours so far: .024

Decorrido: 00:00:00.02

09:30:49 1e "00059_edb360_135990_1e_51_database_size_on_disk.html"
Elapsed Hours so far:    0.025

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:52 1f "Resources (as per Statspack)"
09:30:52 Memory Size (MEM)

WITH
par AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 1f.52 */
       d.dbid,
       d.name,
       i.inst_id,
       /* LOWER(SUBSTR(i.host_name||'.', 1, INSTR(i.host_name||'.', '.') - 1)) */
       LPAD(ORA_HASH(SYS_CONTEXT('USERENV', 'SERVER_HOST'),999999),6,'6') host_name,
       i.instance_number,
       i.instance_name,
       SUM(CASE p.name WHEN 'memory_target' THEN TO_NUMBER(value) END) memory_target,
       SUM(CASE p.name WHEN 'memory_max_target' THEN TO_NUMBER(value) END) memory_max_target,
       SUM(CASE p.name WHEN 'sga_target' THEN TO_NUMBER(value) END) sga_target,
       SUM(CASE p.name WHEN 'sga_max_size' THEN TO_NUMBER(value) END) sga_max_size,
       SUM(CASE p.name WHEN 'pga_aggregate_target' THEN TO_NUMBER(value) END) pga_aggregate_target
  FROM gv$instance i,
       gv$database d,
       gv$system_parameter2 p
 WHERE d.inst_id = i.inst_id
   AND p.inst_id = i.inst_id
   AND p.name IN ('memory_target', 'memory_max_target', 'sga_target', 'sga_max_size', 'pga_aggregate
_target')
 GROUP BY
       d.dbid,
       d.name,
       i.inst_id,
       i.host_name,
       i.instance_number,
       i.instance_name
),
sga_max AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 1f.52 */
       inst_id,
       bytes
  FROM gv$sgainfo
 WHERE name = 'Maximum SGA Size'
),
pga_max AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 1f.52 */
       inst_id,
       value bytes
  FROM gv$pgastat
 WHERE name = 'maximum PGA allocated'
),
pga AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 1f.52 */
       par.dbid,
       par.name,
       par.inst_id,
       par.host_name,
       par.instance_number,
       par.instance_name,
       par.pga_aggregate_target,
       pga_max.bytes max_bytes,
       GREATEST(par.pga_aggregate_target, pga_max.bytes) bytes
  FROM par,
       pga_max
 WHERE par.inst_id = pga_max.inst_id
),
amm AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 1f.52 */
       par.dbid,
       par.name,
       par.inst_id,
       par.host_name,
       par.instance_number,
       par.instance_name,
       par.memory_target,
       par.memory_max_target,
       GREATEST(par.memory_target, par.memory_max_target) + (6 * POWER(2,20)) bytes
  FROM par
),
asmm AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 1f.52 */
       par.dbid,
       par.name,
       par.inst_id,
       par.host_name,
       par.instance_number,
       par.instance_name,
       par.sga_target,
       par.sga_max_size,
       pga.bytes pga_bytes,
       GREATEST(sga_target, sga_max_size) + pga.bytes + (6 * POWER(2,20)) bytes
  FROM par,
       pga
 WHERE par.inst_id = pga.inst_id
),
no_mm AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 1f.52 */
       pga.dbid,
       pga.name,
       pga.inst_id,
       pga.host_name,
       pga.instance_number,
       pga.instance_name,
       sga_max.bytes max_sga,
       pga.bytes max_pga,
       pga.pga_aggregate_target,
       sga_max.bytes + pga.bytes + (5 * POWER(2,20)) bytes
  FROM sga_max,
       pga
 WHERE sga_max.inst_id = pga.inst_id
),
them_all AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 1f.52 */
       amm.dbid,
       amm.name,
       amm.inst_id,
       amm.host_name,
       amm.instance_number,
       amm.instance_name,
       GREATEST(amm.bytes, asmm.bytes, no_mm.bytes) bytes,
       amm.memory_target,
       amm.memory_max_target,
       asmm.sga_target,
       asmm.sga_max_size,
       no_mm.max_sga,
       no_mm.pga_aggregate_target,
       no_mm.max_pga
  FROM amm,
       asmm,
       no_mm
 WHERE asmm.inst_id = amm.inst_id
   AND no_mm.inst_id = amm.inst_id
 ORDER BY
       amm.inst_id
)
SELECT dbid,
       name,
       host_name,
       instance_number,
       instance_name,
       bytes required,
       CASE
       WHEN bytes > POWER(2,50) THEN ROUND(bytes/POWER(2,50),3)||' P'
       WHEN bytes > POWER(2,40) THEN ROUND(bytes/POWER(2,40),3)||' T'
       WHEN bytes > POWER(2,30) THEN ROUND(bytes/POWER(2,30),3)||' G'
       WHEN bytes > POWER(2,20) THEN ROUND(bytes/POWER(2,20),3)||' M'
       WHEN bytes > POWER(2,10) THEN ROUND(bytes/POWER(2,10),3)||' K'
       WHEN bytes > 0 THEN bytes||' B' END approx1,
       memory_target,
       CASE
       WHEN memory_target > POWER(2,50) THEN ROUND(memory_target/POWER(2,50),3)||' P'
       WHEN memory_target > POWER(2,40) THEN ROUND(memory_target/POWER(2,40),3)||' T'
       WHEN memory_target > POWER(2,30) THEN ROUND(memory_target/POWER(2,30),3)||' G'
       WHEN memory_target > POWER(2,20) THEN ROUND(memory_target/POWER(2,20),3)||' M'
       WHEN memory_target > POWER(2,10) THEN ROUND(memory_target/POWER(2,10),3)||' K'
       WHEN memory_target > 0 THEN memory_target||' B' END approx2,
       memory_max_target,
       CASE
       WHEN memory_max_target > POWER(2,50) THEN ROUND(memory_max_target/POWER(2,50),3)||' P'
       WHEN memory_max_target > POWER(2,40) THEN ROUND(memory_max_target/POWER(2,40),3)||' T'
       WHEN memory_max_target > POWER(2,30) THEN ROUND(memory_max_target/POWER(2,30),3)||' G'
       WHEN memory_max_target > POWER(2,20) THEN ROUND(memory_max_target/POWER(2,20),3)||' M'
       WHEN memory_max_target > POWER(2,10) THEN ROUND(memory_max_target/POWER(2,10),3)||' K'
       WHEN memory_max_target > 0 THEN memory_max_target||' B' END approx3,
       sga_target,
       CASE
       WHEN sga_target > POWER(2,50) THEN ROUND(sga_target/POWER(2,50),3)||' P'
       WHEN sga_target > POWER(2,40) THEN ROUND(sga_target/POWER(2,40),3)||' T'
       WHEN sga_target > POWER(2,30) THEN ROUND(sga_target/POWER(2,30),3)||' G'
       WHEN sga_target > POWER(2,20) THEN ROUND(sga_target/POWER(2,20),3)||' M'
       WHEN sga_target > POWER(2,10) THEN ROUND(sga_target/POWER(2,10),3)||' K'
       WHEN sga_target > 0 THEN sga_target||' B' END approx4,
       sga_max_size,
       CASE
       WHEN sga_max_size > POWER(2,50) THEN ROUND(sga_max_size/POWER(2,50),3)||' P'
       WHEN sga_max_size > POWER(2,40) THEN ROUND(sga_max_size/POWER(2,40),3)||' T'
       WHEN sga_max_size > POWER(2,30) THEN ROUND(sga_max_size/POWER(2,30),3)||' G'
       WHEN sga_max_size > POWER(2,20) THEN ROUND(sga_max_size/POWER(2,20),3)||' M'
       WHEN sga_max_size > POWER(2,10) THEN ROUND(sga_max_size/POWER(2,10),3)||' K'
       WHEN sga_max_size > 0 THEN sga_max_size||' B' END approx5,
       max_sga,
       CASE
       WHEN max_sga > POWER(2,50) THEN ROUND(max_sga/POWER(2,50),3)||' P'
       WHEN max_sga > POWER(2,40) THEN ROUND(max_sga/POWER(2,40),3)||' T'
       WHEN max_sga > POWER(2,30) THEN ROUND(max_sga/POWER(2,30),3)||' G'
       WHEN max_sga > POWER(2,20) THEN ROUND(max_sga/POWER(2,20),3)||' M'
       WHEN max_sga > POWER(2,10) THEN ROUND(max_sga/POWER(2,10),3)||' K'
       WHEN max_sga > 0 THEN max_sga||' B' END approx6,
       pga_aggregate_target,
       CASE
       WHEN pga_aggregate_target > POWER(2,50) THEN ROUND(pga_aggregate_target/POWER(2,50),3)||' P'
       WHEN pga_aggregate_target > POWER(2,40) THEN ROUND(pga_aggregate_target/POWER(2,40),3)||' T'
       WHEN pga_aggregate_target > POWER(2,30) THEN ROUND(pga_aggregate_target/POWER(2,30),3)||' G'
       WHEN pga_aggregate_target > POWER(2,20) THEN ROUND(pga_aggregate_target/POWER(2,20),3)||' M'
       WHEN pga_aggregate_target > POWER(2,10) THEN ROUND(pga_aggregate_target/POWER(2,10),3)||' K'
       WHEN pga_aggregate_target > 0 THEN pga_aggregate_target||' B' END approx7,
       max_pga,
       CASE
       WHEN max_pga > POWER(2,50) THEN ROUND(max_pga/POWER(2,50),3)||' P'
       WHEN max_pga > POWER(2,40) THEN ROUND(max_pga/POWER(2,40),3)||' T'
       WHEN max_pga > POWER(2,30) THEN ROUND(max_pga/POWER(2,30),3)||' G'
       WHEN max_pga > POWER(2,20) THEN ROUND(max_pga/POWER(2,20),3)||' M'
       WHEN max_pga > POWER(2,10) THEN ROUND(max_pga/POWER(2,10),3)||' K'
       WHEN max_pga > 0 THEN max_pga||' B' END approx8
  FROM them_all
 UNION ALL
SELECT TO_NUMBER(NULL) dbid,
       NULL name,
       NULL host_name,
       TO_NUMBER(NULL) instance_number,
       NULL instance_name,
       SUM(bytes) required,
       CASE
       WHEN SUM(bytes) > POWER(2,50) THEN ROUND(SUM(bytes)/POWER(2,50),3)||' P'
       WHEN SUM(bytes) > POWER(2,40) THEN ROUND(SUM(bytes)/POWER(2,40),3)||' T'
       WHEN SUM(bytes) > POWER(2,30) THEN ROUND(SUM(bytes)/POWER(2,30),3)||' G'
       WHEN SUM(bytes) > POWER(2,20) THEN ROUND(SUM(bytes)/POWER(2,20),3)||' M'
       WHEN SUM(bytes) > POWER(2,10) THEN ROUND(SUM(bytes)/POWER(2,10),3)||' K'
       WHEN SUM(bytes) > 0 THEN SUM(bytes)||' B' END approx1,
       SUM(memory_target) memory_target,
       CASE
       WHEN SUM(memory_target) > POWER(2,50) THEN ROUND(SUM(memory_target)/POWER(2,50),3)||' P'
       WHEN SUM(memory_target) > POWER(2,40) THEN ROUND(SUM(memory_target)/POWER(2,40),3)||' T'
       WHEN SUM(memory_target) > POWER(2,30) THEN ROUND(SUM(memory_target)/POWER(2,30),3)||' G'
       WHEN SUM(memory_target) > POWER(2,20) THEN ROUND(SUM(memory_target)/POWER(2,20),3)||' M'
       WHEN SUM(memory_target) > POWER(2,10) THEN ROUND(SUM(memory_target)/POWER(2,10),3)||' K'
       WHEN SUM(memory_target) > 0 THEN SUM(memory_target)||' B' END approx2,
       SUM(memory_max_target) memory_max_target,
       CASE
       WHEN SUM(memory_max_target) > POWER(2,50) THEN ROUND(SUM(memory_max_target)/POWER(2,50),3)||'
 P'
       WHEN SUM(memory_max_target) > POWER(2,40) THEN ROUND(SUM(memory_max_target)/POWER(2,40),3)||'
 T'
       WHEN SUM(memory_max_target) > POWER(2,30) THEN ROUND(SUM(memory_max_target)/POWER(2,30),3)||'
 G'
       WHEN SUM(memory_max_target) > POWER(2,20) THEN ROUND(SUM(memory_max_target)/POWER(2,20),3)||'
 M'
       WHEN SUM(memory_max_target) > POWER(2,10) THEN ROUND(SUM(memory_max_target)/POWER(2,10),3)||'
 K'
       WHEN SUM(memory_max_target) > 0 THEN SUM(memory_max_target)||' B' END approx3,
       SUM(sga_target) sga_target,
       CASE
       WHEN SUM(sga_target) > POWER(2,50) THEN ROUND(SUM(sga_target)/POWER(2,50),3)||' P'
       WHEN SUM(sga_target) > POWER(2,40) THEN ROUND(SUM(sga_target)/POWER(2,40),3)||' T'
       WHEN SUM(sga_target) > POWER(2,30) THEN ROUND(SUM(sga_target)/POWER(2,30),3)||' G'
       WHEN SUM(sga_target) > POWER(2,20) THEN ROUND(SUM(sga_target)/POWER(2,20),3)||' M'
       WHEN SUM(sga_target) > POWER(2,10) THEN ROUND(SUM(sga_target)/POWER(2,10),3)||' K'
       WHEN SUM(sga_target) > 0 THEN SUM(sga_target)||' B' END approx4,
       SUM(sga_max_size) sga_max_size,
       CASE
       WHEN SUM(sga_max_size) > POWER(2,50) THEN ROUND(SUM(sga_max_size)/POWER(2,50),3)||' P'
       WHEN SUM(sga_max_size) > POWER(2,40) THEN ROUND(SUM(sga_max_size)/POWER(2,40),3)||' T'
       WHEN SUM(sga_max_size) > POWER(2,30) THEN ROUND(SUM(sga_max_size)/POWER(2,30),3)||' G'
       WHEN SUM(sga_max_size) > POWER(2,20) THEN ROUND(SUM(sga_max_size)/POWER(2,20),3)||' M'
       WHEN SUM(sga_max_size) > POWER(2,10) THEN ROUND(SUM(sga_max_size)/POWER(2,10),3)||' K'
       WHEN SUM(sga_max_size) > 0 THEN SUM(sga_max_size)||' B' END approx5,
       SUM(max_sga) max_sga,
       CASE
       WHEN SUM(max_sga) > POWER(2,50) THEN ROUND(SUM(max_sga)/POWER(2,50),3)||' P'
       WHEN SUM(max_sga) > POWER(2,40) THEN ROUND(SUM(max_sga)/POWER(2,40),3)||' T'
       WHEN SUM(max_sga) > POWER(2,30) THEN ROUND(SUM(max_sga)/POWER(2,30),3)||' G'
       WHEN SUM(max_sga) > POWER(2,20) THEN ROUND(SUM(max_sga)/POWER(2,20),3)||' M'
       WHEN SUM(max_sga) > POWER(2,10) THEN ROUND(SUM(max_sga)/POWER(2,10),3)||' K'
       WHEN SUM(max_sga) > 0 THEN SUM(max_sga)||' B' END approx6,
       SUM(pga_aggregate_target) pga_aggregate_target,
       CASE
       WHEN SUM(pga_aggregate_target) > POWER(2,50) THEN ROUND(SUM(pga_aggregate_target)/POWER(2,50)
,3)||' P'
       WHEN SUM(pga_aggregate_target) > POWER(2,40) THEN ROUND(SUM(pga_aggregate_target)/POWER(2,40)
,3)||' T'
       WHEN SUM(pga_aggregate_target) > POWER(2,30) THEN ROUND(SUM(pga_aggregate_target)/POWER(2,30)
,3)||' G'
       WHEN SUM(pga_aggregate_target) > POWER(2,20) THEN ROUND(SUM(pga_aggregate_target)/POWER(2,20)
,3)||' M'
       WHEN SUM(pga_aggregate_target) > POWER(2,10) THEN ROUND(SUM(pga_aggregate_target)/POWER(2,10)
,3)||' K'
       WHEN SUM(pga_aggregate_target) > 0 THEN SUM(pga_aggregate_target)||' B' END approx7,
       SUM(max_pga) max_pga,
       CASE
       WHEN SUM(max_pga) > POWER(2,50) THEN ROUND(SUM(max_pga)/POWER(2,50),3)||' P'
       WHEN SUM(max_pga) > POWER(2,40) THEN ROUND(SUM(max_pga)/POWER(2,40),3)||' T'
       WHEN SUM(max_pga) > POWER(2,30) THEN ROUND(SUM(max_pga)/POWER(2,30),3)||' G'
       WHEN SUM(max_pga) > POWER(2,20) THEN ROUND(SUM(max_pga)/POWER(2,20),3)||' M'
       WHEN SUM(max_pga) > POWER(2,10) THEN ROUND(SUM(max_pga)/POWER(2,10),3)||' K'
       WHEN SUM(max_pga) > 0 THEN SUM(max_pga)||' B' END approx8
  FROM them_all

09:30:52 1f.52
Elapsed Hours so far:    0.025
Elapsed Hours so far: .025

Decorrido: 00:00:00.02

09:30:53 1f "00060_edb360_135990_1f_52_memory_size_mem.html"
Elapsed Hours so far:    0.025

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:54 1f "Resources (as per Statspack)"
09:30:54 Database Size on Disk

WITH
sizes AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 1f.53 */
       'Data' file_type,
       SUM(bytes) bytes
  FROM v$datafile
 UNION ALL
SELECT 'Temp' file_type,
       SUM(bytes) bytes
  FROM v$tempfile
 UNION ALL
SELECT 'Log' file_type,
       SUM(bytes) * MAX(members) bytes
  FROM v$log
 UNION ALL
SELECT 'Control' file_type,
       SUM(block_size * file_size_blks) bytes
  FROM v$controlfile
),
dbsize AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 1f.53 */
       'Total' file_type,
       SUM(bytes) bytes
  FROM sizes
)
SELECT d.dbid,
       d.name db_name,
       s.file_type,
       s.bytes,
       CASE
       WHEN s.bytes > POWER(10,15) THEN ROUND(s.bytes/POWER(10,15),3)||' P'
       WHEN s.bytes > POWER(10,12) THEN ROUND(s.bytes/POWER(10,12),3)||' T'
       WHEN s.bytes > POWER(10,9) THEN ROUND(s.bytes/POWER(10,9),3)||' G'
       WHEN s.bytes > POWER(10,6) THEN ROUND(s.bytes/POWER(10,6),3)||' M'
       WHEN s.bytes > POWER(10,3) THEN ROUND(s.bytes/POWER(10,3),3)||' K'
       WHEN s.bytes > 0 THEN s.bytes||' B' END approx
  FROM v$database d,
       sizes s
 UNION ALL
SELECT d.dbid,
       d.name db_name,
       s.file_type,
       s.bytes,
       CASE
       WHEN s.bytes > POWER(10,15) THEN ROUND(s.bytes/POWER(10,15),3)||' P'
       WHEN s.bytes > POWER(10,12) THEN ROUND(s.bytes/POWER(10,12),3)||' T'
       WHEN s.bytes > POWER(10,9) THEN ROUND(s.bytes/POWER(10,9),3)||' G'
       WHEN s.bytes > POWER(10,6) THEN ROUND(s.bytes/POWER(10,6),3)||' M'
       WHEN s.bytes > POWER(10,3) THEN ROUND(s.bytes/POWER(10,3),3)||' K'
       WHEN s.bytes > 0 THEN s.bytes||' B' END approx
  FROM v$database d,
       dbsize s

09:30:54 1f.53
Elapsed Hours so far:    0.025
Elapsed Hours so far: .026

Decorrido: 00:00:00.02

09:30:54 1f "00061_edb360_135990_1f_53_database_size_on_disk.html"
Elapsed Hours so far:    0.026

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:56 2a "Database Administration"
09:30:56 Latches

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
select v.*
from
  (select
      latch#, name, addr, inst_id,
      gets,
      misses,
      round(misses*100/(gets+1), 3) misses_gets_pct,
      spin_gets,
      sleep1,
      sleep2,
      sleep3,
      wait_time,
      round(wait_time/1000000) wait_time_seconds,
   rank () over
     (order by wait_time desc) as misses_rank
   from
      gv$latch
   where gets + misses + sleep1 + wait_time > 0
   order by
      wait_time desc
  ) v
where
   misses_rank <= 25

09:30:56 2a.54
Elapsed Hours so far:    0.026
Elapsed Hours so far: .026

Decorrido: 00:00:00.01

09:30:56 2a "00062_edb360_135990_2a_54_latches.html"
Elapsed Hours so far:    0.026

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:57 2a "Database Administration"
09:30:57 Invalid Objects

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 2a.55 */
       x.*
       --,c.name con_name
  FROM dba_objects x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.status = 'INVALID'
 ORDER BY
       --x.con_id,
       x.owner,
       x.object_name

09:30:57 2a.55
Elapsed Hours so far:    0.026
Elapsed Hours so far: .026

Decorrido: 00:00:00.02

09:30:58 2a "00063_edb360_135990_2a_55_invalid_objects.html"
Elapsed Hours so far:    0.027

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:30:59 2a "Database Administration"
09:30:59 Disabled Constraints

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 2a.56 */
       x.*
       --,c.name con_name
  FROM dba_constraints x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.status = 'DISABLED'
   AND NOT (x.owner = 'SYSTEM' AND x.constraint_name LIKE 'LOGMNR%')
   AND x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 ORDER BY
       --x.con_id,
       x.owner,
       x.constraint_name

09:30:59 2a.56
Elapsed Hours so far:    0.027
Elapsed Hours so far: .027

Decorrido: 00:00:00.01

09:30:59 2a "00064_edb360_135990_2a_56_disabled_constraints.html"
Elapsed Hours so far:    0.027

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:01 2a "Database Administration"
09:31:01 Enabled and not Validated Constraints

SELECT /*+  NO_MERGE  */ /* 2a.57 */
       x.*
       --,c.name con_name
  FROM dba_constraints x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.status = 'ENABLED'
   AND x.validated = 'NOT VALIDATED'
   AND x.constraint_type != 'O'
   AND NOT (x.owner = 'SYSTEM' AND x.constraint_name LIKE 'LOGMNR%')
   AND x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 ORDER BY
       --x.con_id,
       x.owner,
       x.constraint_name

09:31:01 2a.57
Elapsed Hours so far:    0.027
Elapsed Hours so far: .027

Decorrido: 00:00:00.02

09:31:01 2a "00065_edb360_135990_2a_57_enabled_and_not_validated_constraints.html"
Elapsed Hours so far:    0.028

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:02 2a "Database Administration"
09:31:02 Non-indexed FK Constraints

-- based on "Oracle Database Transactions and Locking Revealed" book by Thomas Kyte
WITH
ref_int_constraints AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2a.58 */
       --col.con_id,
       col.owner,
       col.table_name,
       col.constraint_name,
       con.status,
       con.r_owner,
       con.r_constraint_name,
       COUNT(*) col_cnt,
       MAX(CASE col.position WHEN 01 THEN col.column_name END) col_01,
       MAX(CASE col.position WHEN 02 THEN col.column_name END) col_02,
       MAX(CASE col.position WHEN 03 THEN col.column_name END) col_03,
       MAX(CASE col.position WHEN 04 THEN col.column_name END) col_04,
       MAX(CASE col.position WHEN 05 THEN col.column_name END) col_05,
       MAX(CASE col.position WHEN 06 THEN col.column_name END) col_06,
       MAX(CASE col.position WHEN 07 THEN col.column_name END) col_07,
       MAX(CASE col.position WHEN 08 THEN col.column_name END) col_08,
       MAX(CASE col.position WHEN 09 THEN col.column_name END) col_09,
       MAX(CASE col.position WHEN 10 THEN col.column_name END) col_10,
       MAX(CASE col.position WHEN 11 THEN col.column_name END) col_11,
       MAX(CASE col.position WHEN 12 THEN col.column_name END) col_12,
       MAX(CASE col.position WHEN 13 THEN col.column_name END) col_13,
       MAX(CASE col.position WHEN 14 THEN col.column_name END) col_14,
       MAX(CASE col.position WHEN 15 THEN col.column_name END) col_15,
       MAX(CASE col.position WHEN 16 THEN col.column_name END) col_16,
       par.owner parent_owner,
       par.table_name parent_table_name,
       par.constraint_name parent_constraint_name
  FROM dba_constraints  con,
       dba_cons_columns col,
       dba_constraints  par
 WHERE con.constraint_type = 'R'
   AND con.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_S
SO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDA
TA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND con.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRC
ANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   --AND col.con_id = con.con_id
   AND col.owner = con.owner
   AND col.constraint_name = con.constraint_name
   AND col.table_name = con.table_name
   --AND par.con_id(+) = con.con_id
   AND par.owner(+) = con.r_owner
   AND par.constraint_name(+) = con.r_constraint_name
 GROUP BY
       --col.con_id,
       col.owner,
       col.constraint_name,
       col.table_name,
       con.status,
       con.r_owner,
       con.r_constraint_name,
       par.owner,
       par.constraint_name,
       par.table_name
),
ref_int_indexes AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2a.58 */
       --r.con_id,
       r.owner,
       r.constraint_name,
       c.table_owner,
       c.table_name,
       c.index_owner,
       c.index_name,
       r.col_cnt
  FROM ref_int_constraints r,
       dba_ind_columns c,
       dba_indexes i
 WHERE c.table_owner = r.owner
   AND c.table_name = r.table_name
   --AND c.con_id = r.con_id
   AND c.column_position <= r.col_cnt
   AND c.column_name IN (r.col_01, r.col_02, r.col_03, r.col_04, r.col_05, r.col_06, r.col_07, r.col
_08,
                         r.col_09, r.col_10, r.col_11, r.col_12, r.col_13, r.col_14, r.col_15, r.col
_16)
   --AND i.con_id = c.con_id
   AND i.owner = c.index_owner
   AND i.index_name = c.index_name
   AND i.table_owner = c.table_owner
   AND i.table_name = c.table_name
   AND i.index_type != 'BITMAP'
 GROUP BY
       --r.con_id,
       r.owner,
       r.constraint_name,
       c.table_owner,
       c.table_name,
       c.index_owner,
       c.index_name,
       r.col_cnt
HAVING COUNT(*) = r.col_cnt
)
SELECT /*+  NO_MERGE  */ /* 2a.58 */
       x.*
       --,c.name con_name
  FROM ref_int_constraints x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE NOT EXISTS (
SELECT NULL
  FROM ref_int_indexes i
 WHERE i.owner = x.owner
   --AND i.con_id = x.con_id
   AND i.constraint_name = x.constraint_name)
 ORDER BY
       1, 2, 3
       --, x.con_id

09:31:02 2a.58
Elapsed Hours so far:    0.028
Elapsed Hours so far: .028

Decorrido: 00:00:00.02

09:31:03 2a "00066_edb360_135990_2a_58_nonindexed_fk_constraints.html"
Elapsed Hours so far:    0.028

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:05 2a "Database Administration"
09:31:05 Unusable Indexes

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin) Expanded by Abel Macias
WITH x as (
SELECT /*+  NO_MERGE  */ /* 2a.59 */
       --con_id,
       index_owner,index_name, 'SUBPARTITIONED' INDEX_TYPE ,partition_name,subpartition_name
  FROM dba_ind_subpartitions
 WHERE status = 'UNUSABLE'
   AND index_owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX
_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORD
DATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND index_owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','T
RCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
UNION ALL
SELECT --con_id,
       index_owner,index_name,'PARTITIONED',partition_name,null
  FROM dba_ind_partitions
 WHERE status = 'UNUSABLE'
   AND index_owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX
_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORD
DATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND index_owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','T
RCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
UNION ALL
SELECT --con_id,
       owner,index_name,index_type,null,null
  FROM dba_indexes
 WHERE status = 'UNUSABLE'
   AND owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO',
'APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA',
'ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZ
R','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 )
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.index_owner, x.index_name, x.partition_name nulls first, x.subpartition_name nulls first

09:31:05 2a.59
Elapsed Hours so far:    0.028
Elapsed Hours so far: .028

Decorrido: 00:00:00.01

09:31:05 2a "00067_edb360_135990_2a_59_unusable_indexes.html"
Elapsed Hours so far:    0.029

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:06 2a "Database Administration"
09:31:06 Invisible Indexes

SELECT /*+  NO_MERGE  */ /* 2a.60 */
       x.*
       --,c.name con_name
  FROM dba_indexes x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.visibility = 'INVISIBLE'
   AND x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 ORDER BY
       --x.con_id,
       x.owner,
       x.index_name

09:31:06 2a.60
Elapsed Hours so far:    0.029
Elapsed Hours so far: .029

Decorrido: 00:00:00.01

09:31:07 2a "00068_edb360_135990_2a_60_invisible_indexes.html"
Elapsed Hours so far:    0.029

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:07 2a "Database Administration"
09:31:07 Function-based Indexes

SELECT /*+  NO_MERGE  */ /* 2a.61 */
       x.*
       --,c.name con_name
  FROM dba_indexes x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.index_type LIKE 'FUNCTION-BASED%'
   AND x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 ORDER BY
       --x.con_id,
       x.owner,
       x.index_name

09:31:07 2a.61
Elapsed Hours so far:    0.029
Elapsed Hours so far: .029

Decorrido: 00:00:00.01

09:31:08 2a "00069_edb360_135990_2a_61_functionbased_indexes.html"
Elapsed Hours so far:    0.030

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:09 2a "Database Administration"
09:31:09 Bitmap Indexes

SELECT /*+  NO_MERGE  */ /* 2a.62 */
       x.*
       --,c.name con_name
  FROM dba_indexes x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.index_type LIKE '%BITMAP'
   AND x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 ORDER BY
       --x.con_id,
       x.owner,
       x.index_name

09:31:09 2a.62
Elapsed Hours so far:    0.030
Elapsed Hours so far: .03

Decorrido: 00:00:00.02

09:31:09 2a "00070_edb360_135990_2a_62_bitmap_indexes.html"
Elapsed Hours so far:    0.030

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:10 2a "Database Administration"
09:31:10 Reversed Indexes

SELECT /*+  NO_MERGE  */ /* 2a.63 */
       x.*
       --,c.name con_name
  FROM dba_indexes x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.index_type LIKE '%REV'
   AND x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 ORDER BY
       --x.con_id,
       x.owner,
       x.index_name

09:31:10 2a.63
Elapsed Hours so far:    0.030
Elapsed Hours so far: .03

Decorrido: 00:00:00.02

09:31:11 2a "00071_edb360_135990_2a_63_reversed_indexes.html"
Elapsed Hours so far:    0.030

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:12 2a "Database Administration"
09:31:12 Fat Indexes

WITH
indexes_list AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2a.64 */
       --con_id,
       index_owner owner, /*index_name,*/ COUNT(*) columns
  FROM dba_ind_columns
 WHERE index_owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX
_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORD
DATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND index_owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','T
RCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 GROUP BY
       --con_id,
       index_owner, index_name
), x as (
SELECT /*+  NO_MERGE  */ /* 2a.64 */
       --con_id,
       owner,
       SUM(CASE columns WHEN  1 THEN 1 ELSE 0 END) "1 Col",
       SUM(CASE columns WHEN  2 THEN 1 ELSE 0 END) "2 Cols",
       SUM(CASE columns WHEN  3 THEN 1 ELSE 0 END) "3 Cols",
       SUM(CASE columns WHEN  4 THEN 1 ELSE 0 END) "4 Cols",
       SUM(CASE columns WHEN  5 THEN 1 ELSE 0 END) "5 Cols",
       SUM(CASE columns WHEN  6 THEN 1 ELSE 0 END) "6 Cols",
       SUM(CASE columns WHEN  7 THEN 1 ELSE 0 END) "7 Cols",
       SUM(CASE columns WHEN  8 THEN 1 ELSE 0 END) "8 Cols",
       SUM(CASE columns WHEN  9 THEN 1 ELSE 0 END) "9 Cols",
       SUM(CASE columns WHEN 10 THEN 1 ELSE 0 END) "10 Cols",
       SUM(CASE columns WHEN 11 THEN 1 ELSE 0 END) "11 Cols",
       SUM(CASE columns WHEN 12 THEN 1 ELSE 0 END) "12 Cols",
       SUM(CASE columns WHEN 13 THEN 1 ELSE 0 END) "13 Cols",
       SUM(CASE columns WHEN 14 THEN 1 ELSE 0 END) "14 Cols",
       SUM(CASE columns WHEN 15 THEN 1 ELSE 0 END) "15 Cols",
       SUM(CASE columns WHEN 16 THEN 1 ELSE 0 END) "16 Cols",
       SUM(CASE columns WHEN 17 THEN 1 ELSE 0 END) "17 Cols",
       SUM(CASE columns WHEN 18 THEN 1 ELSE 0 END) "18 Cols",
       SUM(CASE columns WHEN 19 THEN 1 ELSE 0 END) "19 Cols",
       SUM(CASE columns WHEN 20 THEN 1 ELSE 0 END) "20 Cols",
       SUM(CASE columns WHEN 21 THEN 1 ELSE 0 END) "21 Cols",
       SUM(CASE columns WHEN 22 THEN 1 ELSE 0 END) "22 Cols",
       SUM(CASE columns WHEN 23 THEN 1 ELSE 0 END) "23 Cols",
       SUM(CASE columns WHEN 24 THEN 1 ELSE 0 END) "24 Cols",
       SUM(CASE columns WHEN 25 THEN 1 ELSE 0 END) "25 Cols",
       SUM(CASE columns WHEN 26 THEN 1 ELSE 0 END) "26 Cols",
       SUM(CASE columns WHEN 27 THEN 1 ELSE 0 END) "27 Cols",
       SUM(CASE columns WHEN 28 THEN 1 ELSE 0 END) "28 Cols",
       SUM(CASE columns WHEN 29 THEN 1 ELSE 0 END) "29 Cols",
       SUM(CASE columns WHEN 30 THEN 1 ELSE 0 END) "30 Cols",
       SUM(CASE columns WHEN 31 THEN 1 ELSE 0 END) "31 Cols",
       SUM(CASE columns WHEN 32 THEN 1 ELSE 0 END) "32 Cols",
       SUM(CASE columns WHEN 33 THEN 1 ELSE 0 END) "33 Cols",
       SUM(CASE columns WHEN 34 THEN 1 ELSE 0 END) "34 Cols",
       SUM(CASE columns WHEN 35 THEN 1 ELSE 0 END) "35 Cols",
       SUM(CASE columns WHEN 36 THEN 1 ELSE 0 END) "36 Cols",
       SUM(CASE columns WHEN 37 THEN 1 ELSE 0 END) "37 Cols",
       SUM(CASE columns WHEN 38 THEN 1 ELSE 0 END) "38 Cols",
       SUM(CASE columns WHEN 39 THEN 1 ELSE 0 END) "39 Cols",
       SUM(CASE columns WHEN 40 THEN 1 ELSE 0 END) "40 Cols",
       SUM(CASE WHEN columns > 40 THEN 1 ELSE 0 END) "Over 40 Cols"
  FROM indexes_list
 GROUP BY
       --con_id,
       owner
)
SELECT x.*
       --,c.name con_name
FROM   x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.owner

09:31:12 2a.64
Elapsed Hours so far:    0.030
Elapsed Hours so far: .03

Decorrido: 00:00:00.01

09:31:12 2a "00072_edb360_135990_2a_64_fat_indexes.html"
Elapsed Hours so far:    0.031

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:13 2a "Database Administration"
09:31:13 Columns with Histogram on Long String

SELECT /*+  NO_MERGE  */ /* 2a.65 */
       x.*
       --,c.name con_name
  FROM dba_tab_cols x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.num_buckets BETWEEN 2 AND 253
   AND x.data_type LIKE '%CHAR%'
   AND x.char_length > 32
   AND x.avg_col_len > 6
   AND x.data_length > 32
 ORDER BY
       --x.con_id,
       x.owner, x.table_name, x.column_id

09:31:13 2a.65
Elapsed Hours so far:    0.031
Elapsed Hours so far: .031

Decorrido: 00:00:00.02

09:31:14 2a "00073_edb360_135990_2a_65_columns_with_histogram_on_long_string.html"
Elapsed Hours so far:    0.032

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:16 2a "Database Administration"
09:31:16 Hidden Columns

SELECT /*+  NO_MERGE  */ /* 2a.66 */
       x.*
       --,c.name con_name
  FROM dba_tab_cols x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.hidden_column = 'YES'
   AND x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 ORDER BY
       --x.con_id,
       x.owner,
       x.table_name,
       x.column_name

09:31:16 2a.66
Elapsed Hours so far:    0.032
Elapsed Hours so far: .032

Decorrido: 00:00:00.02

09:31:17 2a "00074_edb360_135990_2a_66_hidden_columns.html"
Elapsed Hours so far:    0.033

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:20 2a "Database Administration"
09:31:20 Virtual Columns

SELECT /*+  NO_MERGE  */ /* 2a.67 */
       x.*
       --,c.name con_name
  FROM dba_tab_cols x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.virtual_column = 'YES'
   AND x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 ORDER BY
       --x.con_id,
       x.owner,
       x.table_name,
       x.column_name

09:31:20 2a.67
Elapsed Hours so far:    0.033
Elapsed Hours so far: .033

Decorrido: 00:00:00.02

09:31:21 2a "00075_edb360_135990_2a_67_virtual_columns.html"
Elapsed Hours so far:    0.033

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:22 2a "Database Administration"
09:31:22 Redundant Indexes(1)

WITH i0 AS (
SELECT /*+ QB_NAME(i0)  MATERIALIZE NO_MERGE  */ /* 2a.68 */ *
  FROM dba_indexes
 WHERE table_owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX
_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORD
DATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND table_owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','T
RCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND index_type like '%NORMAL'
),c0 AS (
SELECT /*+ QB_NAME(c0) MATERIALIZE NO_MERGE */ /* 2a.68 */ *
  FROM dba_ind_columns
 WHERE table_owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX
_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORD
DATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND table_owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','T
RCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 ),
indexed_columns AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2a.68 */
       --col.con_id,
       col.index_owner,
       col.index_name,
       col.table_owner,
       col.table_name,
       idx.index_type,
       idx.uniqueness,
       MAX(CASE col.column_position WHEN 01 THEN      col.column_name END)||
       MAX(CASE col.column_position WHEN 02 THEN ':'||col.column_name END)||
       MAX(CASE col.column_position WHEN 03 THEN ':'||col.column_name END)||
       MAX(CASE col.column_position WHEN 04 THEN ':'||col.column_name END)||
       MAX(CASE col.column_position WHEN 05 THEN ':'||col.column_name END)||
       MAX(CASE col.column_position WHEN 06 THEN ':'||col.column_name END)||
       MAX(CASE col.column_position WHEN 07 THEN ':'||col.column_name END)||
       MAX(CASE col.column_position WHEN 08 THEN ':'||col.column_name END)||
       MAX(CASE col.column_position WHEN 09 THEN ':'||col.column_name END)||
       MAX(CASE col.column_position WHEN 10 THEN ':'||col.column_name END)||
       MAX(CASE col.column_position WHEN 11 THEN ':'||col.column_name END)||
       MAX(CASE col.column_position WHEN 12 THEN ':'||col.column_name END)||
       MAX(CASE col.column_position WHEN 13 THEN ':'||col.column_name END)||
       MAX(CASE col.column_position WHEN 14 THEN ':'||col.column_name END)||
       MAX(CASE col.column_position WHEN 15 THEN ':'||col.column_name END)||
       MAX(CASE col.column_position WHEN 16 THEN ':'||col.column_name END)
       indexed_columns
  FROM c0 col,
       i0 idx
 WHERE idx.table_owner = col.table_owner
   AND idx.owner = col.index_owner
   AND idx.index_name = col.index_name
   --AND idx.con_id = col.con_id
 GROUP BY
       --col.con_id,
       col.index_owner,
       col.index_name,
       col.table_owner,
       col.table_name,
       idx.index_type,
       idx.uniqueness
)
SELECT /*+  NO_MERGE  */ /* 2a.68 */
       --r.con_id,
       r.table_owner,
       r.table_name,
       r.index_type,
       r.index_name||' ('||r.indexed_columns||')' redundant_index,
       i.index_name||' ('||i.indexed_columns||')' superset_index
       --,c.name con_name
  FROM indexed_columns r,
       indexed_columns i
       --LEFT OUTER JOIN v$containers c ON c.con_id = i.con_id
 WHERE i.table_owner = r.table_owner
   --AND i.con_id = r.con_id
   AND i.table_name = r.table_name
   AND i.index_type = r.index_type
   AND i.index_name != r.index_name
   AND i.indexed_columns LIKE r.indexed_columns||':%'
   AND r.uniqueness = 'NONUNIQUE'
 ORDER BY
       --r.con_id,
       r.table_owner,
       r.table_name,
       r.index_name,
       i.index_name

09:31:22 2a.68
Elapsed Hours so far:    0.033
Elapsed Hours so far: .033

Decorrido: 00:00:00.01

09:31:22 2a "00076_edb360_135990_2a_68_redundant_indexes1.html"
Elapsed Hours so far:    0.034

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:24 2a "Database Administration"
09:31:24 Redundant Indexes(2)

-- requested by David Kurtz
WITH i0 AS (
SELECT /*+ QB_NAME(i0)  MATERIALIZE NO_MERGE  */ /* 2a.69 */ *
  FROM dba_indexes
 WHERE table_owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX
_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORD
DATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND table_owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','T
RCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND index_type like '%NORMAL'
), c0 AS (
SELECT /*+ QB_NAME(c0)  MATERIALIZE NO_MERGE  */ /* 2a.69 */ *
  FROM dba_ind_columns
 WHERE table_owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX
_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORD
DATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND table_owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','T
RCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 ),f AS ( /*function expressions*/
SELECT /*+ QB_NAME(f)  MATERIALIZE NO_MERGE  */ /* 2a.69 */
       --con_id,
       owner, table_name, extension, extension_name
  FROM dba_stat_extensions
 WHERE owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO',
'APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA',
'ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZ
R','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND creator = 'SYSTEM' /*exclude extended stats*/
), ic AS ( /*list indexed columns getting expressions FROM stat_extensions*/
SELECT /*+ QB_NAME(ic) LEADING(i c) USE_HASH(i c f)  MATERIALIZE NO_MERGE  */ /* 2a.69 */
       --i.con_id,
       i.table_owner, i.table_name,
       i.owner index_owner, i.index_name,
       i.index_type, i.uniqueness, i.visibility,
       c.column_position,
       CASE WHEN f.extension IS NULL THEN c.column_name
            ELSE CAST(SUBSTR(REPLACE(SUBSTR(f.extension,2,LENGTH(f.extension)-2),'"',''),1,256) AS V
ARCHAR2(256))
       END column_name
  FROM i0 i
     , c0 c
       LEFT OUTER JOIN f
       ON f.owner = c.table_owner
       AND f.table_name = c.table_name
       AND f.extension_name = c.column_name
	   --AND f.con_id = c.con_id
 WHERE i.table_owner = c.table_owner
   AND i.table_name = c.table_name
   --AND i.con_id = c.con_id
   AND i.owner = c.index_owner
   AND i.index_name = c.index_name
), i AS ( /*construct column list*/
SELECT /*+ QB_NAME(i)  MATERIALIZE NO_MERGE  */ /* 2a.69 */
       --ic.con_id,
       ic.table_owner, ic.table_name,
       ic.index_owner, ic.index_name,
       ic.index_type, ic.uniqueness, ic.visibility,
       listagg(ic.column_name,',') within group (ORDER BY ic.column_position) AS column_list,
       '('||listagg('"'||ic.column_name||'"',',') within group (ORDER BY ic.column_position)||')' AS
 extension,
       count(*) num_columns
  FROM ic
GROUP BY
       --ic.con_id,
       ic.table_owner, ic.table_name,
       ic.index_owner, ic.index_name,
       ic.index_type, ic.uniqueness, ic.visibility
), e AS ( /*extended stats*/
SELECT /*+ QB_NAME(e)  MATERIALIZE NO_MERGE  */ /* 2a.69 */
       --con_id,
       owner, table_name, CAST(SUBSTR(extension,1,256) AS VARCHAR2(256)) extension, extension_name
  FROM dba_stat_extensions
 WHERE owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO',
'APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA',
'ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZ
R','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND creator = 'USER' /*extended stats not function based indexes*/
), cn0 as ( /*constraints*/
SELECT /*+ QB_NAME(cn0)  MATERIALIZE NO_MERGE  */ /* 2a.69 */ *
  FROM dba_constraints
 WHERE owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO',
'APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA',
'ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZ
R','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND constraint_type IN('P','U')
)
SELECT /*+LEADING(i r)*/
       --r.con_id,
       r.table_owner, r.table_name,
       i.index_name||' ('||i.column_list||')' superset_index,
       r.index_name||' ('||r.column_list||')' redundant_index,
       c.constraint_type, c.constraint_name,
       r.index_type, r.visibility, e.extension_name
       --,c.name con_name
  FROM i r
       LEFT OUTER JOIN e
         ON  e.owner = r.table_owner
		 --AND e.con_id = r.con_id
         AND e.table_name = r.table_name
         AND e.extension = r.extension
       LEFT OUTER JOIN cn0 c
         ON c.table_name = r.table_name
		 --AND c.con_id = r.con_id
         AND c.index_owner = r.index_owner
         AND c.index_name = r.index_name
         AND c.owner = r.table_owner
     , i
       --LEFT OUTER JOIN v$containers c ON c.con_id = i.con_id
 WHERE i.table_owner = r.table_owner
   --AND i.con_id = r.con_id
   AND i.table_name = r.table_name
   AND i.index_name != r.index_name
   AND i.column_list LIKE r.column_list||',%'
   AND i.num_columns > r.num_columns
   AND i.num_columns >=2 /*must have at least 2 columns*/
 ORDER BY --r.con_id,
          r.table_owner, r.table_name, r.index_name, i.index_name

09:31:24 2a.69
Elapsed Hours so far:    0.034
Elapsed Hours so far: .034

Decorrido: 00:00:00.01

09:31:24 2a "00077_edb360_135990_2a_69_redundant_indexes2.html"
Elapsed Hours so far:    0.034

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:26 2a "Database Administration"
09:31:26 Tables with more than 5 Indexes

WITH x AS (
SELECT /*+  NO_MERGE  */ /* 2a.70 */
       COUNT(*) indexes,
       --con_id,
       table_owner,
       table_name,
       SUM(CASE WHEN index_type LIKE 'NORMAL%' THEN 1 ELSE 0 END) type_normal,
       SUM(CASE WHEN index_type LIKE 'BITMAP%' THEN 1 ELSE 0 END) type_bitmap,
       SUM(CASE WHEN index_type LIKE 'FUNCTION-BASED%' THEN 1 ELSE 0 END) type_fbi,
       SUM(CASE WHEN index_type LIKE 'CLUSTER%' THEN 1 ELSE 0 END) type_cluster,
       SUM(CASE WHEN index_type LIKE 'IOT%' THEN 1 ELSE 0 END) type_iot,
       SUM(CASE WHEN index_type LIKE 'DOMAIN%' THEN 1 ELSE 0 END) type_domain,
       SUM(CASE WHEN index_type LIKE 'LOB%' THEN 1 ELSE 0 END) type_lob,
       SUM(CASE WHEN partitioned LIKE 'YES%' THEN 1 ELSE 0 END) partitioned,
       SUM(CASE WHEN temporary LIKE 'Y%' THEN 1 ELSE 0 END) temporary,
       SUM(CASE WHEN uniqueness LIKE 'UNIQUE%' THEN 1 ELSE 0 END) is_unique,
       SUM(CASE WHEN uniqueness LIKE 'NONUNIQUE%' THEN 1 ELSE 0 END) non_unique,
       SUM(CASE WHEN status LIKE 'VALID%' THEN 1 ELSE 0 END) valid,
       SUM(CASE WHEN status LIKE 'N/A%' THEN 1 ELSE 0 END) status_na,
       SUM(CASE WHEN visibility LIKE 'VISIBLE%' THEN 1 ELSE 0 END) visible,
       SUM(CASE WHEN visibility LIKE 'INVISIBLE%' THEN 1 ELSE 0 END) invisible,
       SUM(CASE WHEN status LIKE 'UNUSABLE%' THEN 1 ELSE 0 END) unusable
  FROM dba_indexes
 WHERE table_owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX
_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORD
DATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND table_owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','T
RCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 GROUP BY
       --con_id,
       table_owner,
       table_name
HAVING COUNT(*) > 5
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       x.indexes DESC,
       --x.con_id,
       x.table_owner, x.table_name

09:31:26 2a.70
Elapsed Hours so far:    0.034
Elapsed Hours so far: .034

Decorrido: 00:00:00.01

09:31:26 2a "00078_edb360_135990_2a_70_tables_with_more_than_5_indexes.html"
Elapsed Hours so far:    0.035

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:27 2a "Database Administration"
09:31:27 Tables on KEEP Buffer Pool

SELECT /*+  NO_MERGE  */ /* 2a.71 */
       --x.con_id,
       x.owner,
       x.table_name,
       x.num_rows,
       x.blocks
       --,c.name con_name
  FROM dba_tables x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND x.buffer_pool = 'KEEP'
 ORDER BY
       --x.con_id,
       x.owner,
       x.table_name

09:31:27 2a.71
Elapsed Hours so far:    0.035
Elapsed Hours so far: .035

Decorrido: 00:00:00.03

09:31:28 2a "00079_edb360_135990_2a_71_tables_on_keep_buffer_pool.html"
Elapsed Hours so far:    0.035

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:29 2a "Database Administration"
09:31:29 Tables on RECYCLE Buffer Pool

SELECT /*+  NO_MERGE  */ /* 2a.72 */
       --x.con_id,
       x.owner,
       x.table_name,
       x.num_rows,
       x.blocks
       --,c.name con_name
  FROM dba_tables x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND x.buffer_pool = 'RECYCLE'
 ORDER BY
       --x.con_id,
       x.owner,
       x.table_name

09:31:29 2a.72
Elapsed Hours so far:    0.035
Elapsed Hours so far: .035

Decorrido: 00:00:00.02

09:31:29 2a "00080_edb360_135990_2a_72_tables_on_recycle_buffer_pool.html"
Elapsed Hours so far:    0.036

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:30 2a "Database Administration"
09:31:30 Tables to be CACHED in Buffer Cache

-- requested by Milton Quinteros
SELECT /*+  NO_MERGE  */ /* 2a.73 */
       --x.con_id,
       x.owner,
       x.table_name,
       x.num_rows,
       x.blocks
       --,c.name con_name
  FROM dba_tables x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND TRIM(x.cache) = 'Y'
 ORDER BY
       --x.con_id,
       x.owner,
       x.table_name

09:31:30 2a.73
Elapsed Hours so far:    0.036
Elapsed Hours so far: .036

Decorrido: 00:00:00.02

09:31:31 2a "00081_edb360_135990_2a_73_tables_to_be_cached_in_buffer_cache.html"
Elapsed Hours so far:    0.036

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:32 2a "Database Administration"
09:31:32 Tables on KEEP Flash Cache

SELECT /*+  NO_MERGE  */ /* 2a.74 */
       --x.con_id,
       x.owner,
       x.table_name,
       x.num_rows,
       x.blocks
       --,c.name con_name
  FROM dba_tables x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND x.flash_cache = 'KEEP'
 ORDER BY
       --x.con_id,
       x.owner,
       x.table_name

09:31:32 2a.74
Elapsed Hours so far:    0.036
Elapsed Hours so far: .036

Decorrido: 00:00:00.02

09:31:32 2a "00082_edb360_135990_2a_74_tables_on_keep_flash_cache.html"
Elapsed Hours so far:    0.036

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:33 2a "Database Administration"
09:31:33 Tables on KEEP Cell Flash Cache

SELECT /*+  NO_MERGE  */ /* 2a.75 */
       --x.con_id,
       x.owner,
       x.table_name,
       x.num_rows,
       x.blocks
       --,c.name con_name
  FROM dba_tables x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND x.cell_flash_cache = 'KEEP'
 ORDER BY
       --x.con_id,
       x.owner,
       x.table_name

09:31:33 2a.75
Elapsed Hours so far:    0.036
Elapsed Hours so far: .036

Decorrido: 00:00:00.02

09:31:34 2a "00083_edb360_135990_2a_75_tables_on_keep_cell_flash_cache.html"
Elapsed Hours so far:    0.037

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:35 2a "Database Administration"
09:31:35 Tables set for Compression

SELECT /*+  NO_MERGE  */ /* 2a.76 */
       --x.con_id,
       x.owner,
       x.table_name,
       x.compress_for,
       x.num_rows,
       x.blocks
       --,c.name con_name
  FROM dba_tables x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND x.compression = 'ENABLED'
 ORDER BY
       --x.con_id,
       x.owner,
       x.table_name

09:31:35 2a.76
Elapsed Hours so far:    0.037
Elapsed Hours so far: .037

Decorrido: 00:00:00.01

09:31:35 2a "00084_edb360_135990_2a_76_tables_set_for_compression.html"
Elapsed Hours so far:    0.037

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:36 2a "Database Administration"
09:31:36 Partitions set for Compression

WITH x AS (
SELECT /*+  NO_MERGE  */ /* 2a.77 */
       --con_id,
       table_owner,
       table_name,
       compress_for,
       COUNT(*),
       MIN(partition_position) min_part_pos,
       MAX(partition_position) max_part_pos
  FROM dba_tab_partitions x
 WHERE table_owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX
_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORD
DATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND table_owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','T
RCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND compression = 'ENABLED'
 GROUP BY
       --con_id,
       table_owner,
       table_name,
       compress_for
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.table_owner,
       x.table_name,
       x.compress_for

09:31:36 2a.77
Elapsed Hours so far:    0.037
Elapsed Hours so far: .037

Decorrido: 00:00:00.02

09:31:36 2a "00085_edb360_135990_2a_77_partitions_set_for_compression.html"
Elapsed Hours so far:    0.038

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:37 2a "Database Administration"
09:31:37 Unindexed Partition Key Columns

WITH k as (
SELECT k.*, 'Partition' part_level
FROM   dba_part_key_columns k
union all
SELECT k.*, 'Subpartition'
FROM   dba_subpart_key_columns k
)
SELECT /*+  NO_MERGE  */ /* 2a.78 */
       --i.con_id,
       i.table_owner, i.table_name
,      i.owner index_owner
,      i.index_name
,      i.index_type
,      'Partition' part_level
,      pi.locality
,      pi.partitioning_type
,      pi.partition_count
,      k.column_position part_column_position
,      k.column_name part_column_name
,	  (SELECT LISTAGG(NVL(ie.extension,ic.column_name),',') WITHIN GROUP (ORDER BY ic.column_position)

       FROM	  dba_ind_columns ic
       LEFT OUTER JOIN dba_stat_extensions ie
       ON    ie.owner = ic.table_owner
       --AND  ie.con_id = ic.con_id
       AND   ie.table_name = ic.table_name
       AND   ie.extension_name = ic.column_name
       WHERE i.owner = ic.index_owner
       --AND   i.con_id = ic.con_id
       AND 	 i.index_name = ic.index_name
       AND	 i.table_owner = ic.table_owner
       AND	 i.table_name = ic.table_name
       ) column_list
       --,c.name con_name
FROM   dba_indexes i
,      dba_part_indexes pi
,      k
       --LEFT OUTER JOIN v$containers c ON c.con_id = k.con_id
WHERE  i.table_owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','AP
EX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','O
RDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
AND    i.table_owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM',
'TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
AND    i.index_type NOT IN('LOB')
--AND    k.con_id = i.con_id
AND    k.owner = i.owner
AND    k.name = i.index_name
AND    k.object_type = 'INDEX'
AND    i.partitioned = 'YES'
--AND    pi.con_id = i.con_id
AND    pi.owner = i.owner
AND    pi.index_name = i.index_name
AND    pi.table_name = i.table_name
AND    not exists (
	SELECT  'x'
	FROM 	dba_ind_columns ic
	WHERE	ic.index_owner = i.owner
	--AND     ic.con_id      = i.con_id
	AND 	ic.index_name  = i.index_name
	AND     ic.table_owner = i.table_owner
	AND     ic.table_name  = i.table_name
	AND     ic.column_name = k.column_name)
ORDER BY
       --i.con_id,
       i.table_owner, i.table_name
,      i.owner
,      i.index_name
,      i.index_type

09:31:37 2a.78
Elapsed Hours so far:    0.038
Elapsed Hours so far: .038

Decorrido: 00:00:00.01

09:31:38 2a "00086_edb360_135990_2a_78_unindexed_partition_key_columns.html"
Elapsed Hours so far:    0.038

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:39 2a "Database Administration"
09:31:39 Subpartitions set for Compression

WITH x AS (
SELECT /*+  NO_MERGE  */ /* 2a.79 */
       --con_id,
       table_owner,
       table_name,
       compress_for,
       COUNT(*),
       MIN(subpartition_position) min_part_pos,
       MAX(subpartition_position) max_part_pos
  FROM dba_tab_subpartitions
 WHERE table_owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX
_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORD
DATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND table_owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','T
RCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND compression = 'ENABLED'
 GROUP BY
       --con_id,
       table_owner,
       table_name,
       compress_for
)
SELECT x.*
       --,c.name con_name
FROM   x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.table_owner,
       x.table_name,
       x.compress_for

09:31:39 2a.79
Elapsed Hours so far:    0.038
Elapsed Hours so far: .038

Decorrido: 00:00:00.01

09:31:40 2a "00087_edb360_135990_2a_79_subpartitions_set_for_compression.html"
Elapsed Hours so far:    0.038

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:40 2a "Database Administration"
09:31:40 Segments with non-default Buffer Pool

-- requested by Milton Quinteros
SELECT /*+  NO_MERGE  */ /* 2a.80 */
       --x.con_id,
       x.buffer_pool, x.owner, x.segment_name, x.partition_name, x.segment_type, x.blocks
       --,c.name con_name
  FROM dba_segments x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE 'Y' = 'Y'
   AND x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND TRIM(x.buffer_pool) != 'DEFAULT'
 ORDER BY
       --x.con_id,
       x.buffer_pool,
       x.owner,
       x.segment_name,
       x.partition_name

09:31:40 2a.80
Elapsed Hours so far:    0.038
Elapsed Hours so far: .038

Decorrido: 00:00:00.02

09:31:41 2a "00088_edb360_135990_2a_80_segments_with_nondefault_buffer_pool.html"
Elapsed Hours so far:    0.039

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:42 2a "Database Administration"
09:31:42 Segments with non-default Flash Cache

-- requested by Milton Quinteros
SELECT /*+  NO_MERGE  */ /* 2a.81 */
       --x.con_id,
       x.flash_cache, x.owner, x.segment_name, x.partition_name, x.segment_type, x.blocks
       --,c.name con_name
  FROM dba_segments x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE 'Y' = 'Y'
   AND x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND TRIM(x.flash_cache) != 'DEFAULT'
 ORDER BY
       --x.con_id,
       x.flash_cache,
       x.owner,
       x.segment_name,
       x.partition_name

09:31:42 2a.81
Elapsed Hours so far:    0.039
Elapsed Hours so far: .039

Decorrido: 00:00:00.01

09:31:42 2a "00089_edb360_135990_2a_81_segments_with_nondefault_flash_cache.html"
Elapsed Hours so far:    0.039

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:43 2a "Database Administration"
09:31:43 Segments with non-default Cell Flash Cache

-- requested by Milton Quinteros
SELECT /*+  NO_MERGE  */ /* 2a.82 */
       --x.con_id,
       x.cell_flash_cache, x.owner, x.segment_name, x.partition_name, x.segment_type, x.blocks
         --,c.name con_name
  FROM dba_segments x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE 'Y' = 'Y'
   AND x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND TRIM(x.cell_flash_cache) != 'DEFAULT'
 ORDER BY
       --x.con_id,
       x.cell_flash_cache,
       x.owner,
       x.segment_name,
       x.partition_name

09:31:43 2a.82
Elapsed Hours so far:    0.039
Elapsed Hours so far: .039

Decorrido: 00:00:00.02

09:31:44 2a "00090_edb360_135990_2a_82_segments_with_nondefault_cell_flash_cache.html"
Elapsed Hours so far:    0.039

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:44 2a "Database Administration"
09:31:44 Degree of Parallelism DOP on Tables

WITH x AS (
SELECT /*+  NO_MERGE  */ /* 2a.83 */
       --con_id,
       owner,
       SUM(CASE WHEN TRIM(degree) = 'DEFAULT' THEN 1 ELSE 0 END) "DEFAULT",
       SUM(CASE WHEN TRIM(degree) = '0' THEN 1 ELSE 0 END) "0",
       SUM(CASE WHEN TRIM(degree) = '1' THEN 1 ELSE 0 END) "1",
       SUM(CASE WHEN TRIM(degree) = '2' THEN 1 ELSE 0 END) "2",
       SUM(CASE WHEN TRIM(degree) IN ('3', '4') THEN 1 ELSE 0 END) "3-4",
       SUM(CASE WHEN TRIM(degree) IN ('5', '6', '7', '8') THEN 1 ELSE 0 END) "5-8",
       SUM(CASE WHEN TRIM(degree) IN ('9', '10', '11', '12', '13', '14', '15', '16') THEN 1 ELSE 0 E
ND) "9-16",
       SUM(CASE WHEN LENGTH(TRIM(degree)) = 2 AND TRIM(degree) BETWEEN '17' AND '32' THEN 1 ELSE 0 E
ND) "17-32",
       SUM(CASE WHEN LENGTH(TRIM(degree)) = 2 AND TRIM(degree) BETWEEN '33' AND '64' THEN 1 ELSE 0 E
ND) "33-64",
       SUM(CASE WHEN (LENGTH(TRIM(degree)) = 2 AND TRIM(degree) BETWEEN '65' AND '99') OR
                     (LENGTH(TRIM(degree)) = 3 AND TRIM(degree) BETWEEN '100' AND '128') THEN 1 ELSE
 0 END) "65-128",
       SUM(CASE WHEN LENGTH(TRIM(degree)) = 3 AND TRIM(degree) BETWEEN '129' AND '256' THEN 1 ELSE 0
 END) "129-256",
       SUM(CASE WHEN LENGTH(TRIM(degree)) = 3 AND TRIM(degree) BETWEEN '257' AND '512' THEN 1 ELSE 0
 END) "257-512",
       SUM(CASE WHEN (LENGTH(TRIM(degree)) = 3 AND TRIM(degree) > '512') OR
                     (LENGTH(TRIM(degree)) > 3 AND TRIM(degree) != 'DEFAULT') THEN 1 ELSE 0 END) "HI
GHER"
  FROM dba_tables x
 WHERE owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO',
'APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA',
'ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZ
R','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
HAVING COUNT(*) > SUM(CASE WHEN TRIM(degree) IN ('0', '1') THEN 1 ELSE 0 END)
 GROUP BY
       --con_id,
       owner
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.owner

09:31:44 2a.83
Elapsed Hours so far:    0.040
Elapsed Hours so far: .04

Decorrido: 00:00:00.02

09:31:45 2a "00091_edb360_135990_2a_83_degree_of_parallelism_dop_on_tables.html"
Elapsed Hours so far:    0.040

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:46 2a "Database Administration"
09:31:46 Tables with DOP Set

SELECT /*+  NO_MERGE  */ /* 2a.84 */
       --x.con_id,
       x.degree,
       x.owner,
       x.table_name,
       x.blocks,
       x.partitioned
       --,c.name con_name
  FROM dba_tables x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND TRIM(x.degree) NOT IN ('0', '1')
 ORDER BY
       LENGTH(TRIM(x.degree)) DESC,
       x.degree DESC,
       --x.con_id,
       x.owner,
       x.table_name

09:31:46 2a.84
Elapsed Hours so far:    0.040
Elapsed Hours so far: .04

Decorrido: 00:00:00.02

09:31:46 2a "00092_edb360_135990_2a_84_tables_with_dop_set.html"
Elapsed Hours so far:    0.040

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:47 2a "Database Administration"
09:31:47 Degree of Parallelism DOP on Indexes

WITH x as (
SELECT /*+  NO_MERGE  */ /* 2a.85 */
       --con_id,
       owner,
       SUM(CASE WHEN TRIM(degree) = 'DEFAULT' THEN 1 ELSE 0 END) "DEFAULT",
       SUM(CASE WHEN TRIM(degree) = '0' THEN 1 ELSE 0 END) "0",
       SUM(CASE WHEN TRIM(degree) = '1' THEN 1 ELSE 0 END) "1",
       SUM(CASE WHEN TRIM(degree) = '2' THEN 1 ELSE 0 END) "2",
       SUM(CASE WHEN TRIM(degree) IN ('3', '4') THEN 1 ELSE 0 END) "3-4",
       SUM(CASE WHEN TRIM(degree) IN ('5', '6', '7', '8') THEN 1 ELSE 0 END) "5-8",
       SUM(CASE WHEN TRIM(degree) IN ('9', '10', '11', '12', '13', '14', '15', '16') THEN 1 ELSE 0 E
ND) "9-16",
       SUM(CASE WHEN LENGTH(TRIM(degree)) = 2 AND TRIM(degree) BETWEEN '17' AND '32' THEN 1 ELSE 0 E
ND) "17-32",
       SUM(CASE WHEN LENGTH(TRIM(degree)) = 2 AND TRIM(degree) BETWEEN '33' AND '64' THEN 1 ELSE 0 E
ND) "33-64",
       SUM(CASE WHEN (LENGTH(TRIM(degree)) = 2 AND TRIM(degree) BETWEEN '65' AND '99') OR
                     (LENGTH(TRIM(degree)) = 3 AND TRIM(degree) BETWEEN '100' AND '128') THEN 1 ELSE
 0 END) "65-128",
       SUM(CASE WHEN LENGTH(TRIM(degree)) = 3 AND TRIM(degree) BETWEEN '129' AND '256' THEN 1 ELSE 0
 END) "129-256",
       SUM(CASE WHEN LENGTH(TRIM(degree)) = 3 AND TRIM(degree) BETWEEN '257' AND '512' THEN 1 ELSE 0
 END) "257-512",
       SUM(CASE WHEN (LENGTH(TRIM(degree)) = 3 AND TRIM(degree) > '512') OR
                     (LENGTH(TRIM(degree)) > 3 AND TRIM(degree) != 'DEFAULT') THEN 1 ELSE 0 END) "HI
GHER"
  FROM dba_indexes
 WHERE owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO',
'APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA',
'ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZ
R','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND index_type != 'LOB'
 GROUP BY
       --con_id,
       owner
HAVING COUNT(*) > SUM(CASE WHEN TRIM(degree) IN ('0', '1') THEN 1 ELSE 0 END)
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.owner

09:31:47 2a.85
Elapsed Hours so far:    0.040
Elapsed Hours so far: .04

Decorrido: 00:00:00.02

09:31:48 2a "00093_edb360_135990_2a_85_degree_of_parallelism_dop_on_indexes.html"
Elapsed Hours so far:    0.041

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:49 2a "Database Administration"
09:31:49 Indexes with DOP Set

SELECT /*+  NO_MERGE  */ /* 2a.86 */
       x.degree,
       --x.con_id,
       x.owner,
       x.index_name,
       x.leaf_blocks,
       x.partitioned
       --,c.name con_name
  FROM dba_indexes x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND x.index_type != 'LOB'
   AND TRIM(x.degree) NOT IN ('0', '1')
 ORDER BY
       LENGTH(TRIM(x.degree)) DESC,
       x.degree DESC,
       --x.con_id,
       x.owner,
       x.index_name

09:31:49 2a.86
Elapsed Hours so far:    0.041
Elapsed Hours so far: .041

Decorrido: 00:00:00.02

09:31:49 2a "00094_edb360_135990_2a_86_indexes_with_dop_set.html"
Elapsed Hours so far:    0.041

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:50 2a "Database Administration"
09:31:50 Unused Columns

-- requested by Mike Moehlman
SELECT /*+  NO_MERGE  */ /* 2a.87 */
       x.*
       --,c.name con_name
  FROM dba_unused_col_tabs x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 ORDER BY
       --x.con_id,
       x.owner, x.table_name

09:31:50 2a.87
Elapsed Hours so far:    0.041
Elapsed Hours so far: .041

Decorrido: 00:00:00.01

09:31:51 2a "00095_edb360_135990_2a_87_unused_columns.html"
Elapsed Hours so far:    0.041

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:51 2a "Database Administration"
09:31:51 Columns with multiple Data Types

WITH
tables AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2a.88 */
       --t.con_id,
       t.owner,
       t.table_name
  FROM dba_tables t
 WHERE t.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND t.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND t.table_name NOT LIKE 'BIN%'
), columns AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2a.88 */
       --c.con_id,
       c.owner,
       c.table_name,
       c.column_name,
       c.data_type
  FROM dba_tab_columns c
 WHERE c.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND c.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND c.data_type != 'UNDEFINED'
   AND c.table_name NOT LIKE 'BIN%'
   AND c.data_type != 'UNDEFINED'
), table_columns AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2a.88 */
       --c.con_id,
       c.column_name, COUNT(*) typ_cnt, c.data_type,
       MIN(c.owner||'.'||c.table_name) min_table_name,
       MAX(c.owner||'.'||c.table_name) max_table_name
  FROM columns c,
       tables t
 WHERE t.owner = c.owner -- this to filter out views
   --AND t.con_id = c.con_id
   AND t.table_name = c.table_name -- this to filter out views
 GROUP BY
       --c.con_id,
       c.column_name, c.data_type
), more_than_one_type AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2a.88 */
       --con_id,
       column_name, SUM(typ_cnt) col_cnt
  FROM table_columns
 GROUP BY
       --con_id,
       column_name
HAVING COUNT(*) > 1
)
SELECT /*+  NO_MERGE  */ /* 2a.88 */
       m.col_cnt, x.*
       --,c.name con_name
  FROM table_columns x,
       more_than_one_type m
       --LEFT OUTER JOIN v$containers c ON c.con_id = m.con_id
 WHERE m.column_name = x.column_name
       --AND m.con_id = x.con_id
 ORDER BY
       m.col_cnt DESC,
       --m.con_id,
       x.column_name,
       x.typ_cnt DESC,
       x.data_type

09:31:51 2a.88
Elapsed Hours so far:    0.041
Elapsed Hours so far: .041

Decorrido: 00:00:00.02

09:31:52 2a "00096_edb360_135990_2a_88_columns_with_multiple_data_types.html"
Elapsed Hours so far:    0.042

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:54 2a "Database Administration"
09:31:54 Jobs

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 2a.89 */
       x.*
       --,c.name con_name
  FROM dba_jobs x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.job

09:31:54 2a.89
Elapsed Hours so far:    0.042
Elapsed Hours so far: .042

Decorrido: 00:00:00.02

09:31:54 2a "00097_edb360_135990_2a_89_jobs.html"
Elapsed Hours so far:    0.042

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:55 2a "Database Administration"
09:31:55 Jobs Running

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 2a.90 */
       x.*
       --,c.name con_name
  FROM dba_jobs_running x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.job

09:31:55 2a.90
Elapsed Hours so far:    0.042
Elapsed Hours so far: .042

Decorrido: 00:00:00.02

09:31:56 2a "00098_edb360_135990_2a_90_jobs_running.html"
Elapsed Hours so far:    0.043

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:56 2a "Database Administration"
09:31:56 Scheduler Jobs

SELECT /*+  NO_MERGE  */ /* 2a.91 */
       x.*
       --,c.name con_name
  FROM dba_scheduler_jobs x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.owner,
       x.job_name

09:31:56 2a.91
Elapsed Hours so far:    0.043
Elapsed Hours so far: .043

Decorrido: 00:00:00.02

09:31:57 2a "00099_edb360_135990_2a_91_scheduler_jobs.html"
Elapsed Hours so far:    0.043

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:31:58 2a "Database Administration"
09:31:58 Scheduler Job Log for past 7 days

SELECT /*+  NO_MERGE  */ /* 2a.92 */
       x.*
       --,c.name con_name
  FROM dba_scheduler_job_log x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.log_date > SYSDATE - 7
 ORDER BY
       --x.con_id,
       x.log_id DESC,
       x.log_date DESC

09:31:58 2a.92
Elapsed Hours so far:    0.043
Elapsed Hours so far: .043

Decorrido: 00:00:00.01

09:31:58 2a "00100_edb360_135990_2a_92_scheduler_job_log_for_past_7_days.html"
Elapsed Hours so far:    0.046

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:08 2a "Database Administration"
09:32:08 Scheduler Windows

SELECT /*+  NO_MERGE  */ /* 2a.93 */
       x.*
       --,c.name con_name
  FROM dba_scheduler_windows x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.window_name

09:32:08 2a.93
Elapsed Hours so far:    0.046
Elapsed Hours so far: .046

Decorrido: 00:00:00.01

09:32:08 2a "00101_edb360_135990_2a_93_scheduler_windows.html"
Elapsed Hours so far:    0.046

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:09 2a "Database Administration"
09:32:09 Scheduler Window Group Members

SELECT /*+  NO_MERGE  */ /* 2a.94 */
       x.*
       --,c.name con_name
  FROM dba_scheduler_wingroup_members x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.window_group_name, x.window_name

09:32:09 2a.94
Elapsed Hours so far:    0.046
Elapsed Hours so far: .046

Decorrido: 00:00:00.02

09:32:09 2a "00102_edb360_135990_2a_94_scheduler_window_group_members.html"
Elapsed Hours so far:    0.047

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:10 2a "Database Administration"
09:32:10 Advisor Parameters

SELECT /*+  NO_MERGE  */ /* 2a.95 */
       x.*
       --,c.name con_name
  FROM dba_advisor_parameters x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
ORDER BY
       --x.con_id,
       x.owner, x.task_id

09:32:10 2a.95
Elapsed Hours so far:    0.047
Elapsed Hours so far: .047

Decorrido: 00:00:00.01

09:32:11 2a "00103_edb360_135990_2a_95_advisor_parameters.html"
Elapsed Hours so far:    0.048

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:14 2a "Database Administration"
09:32:14 Advisor Execution Types

SELECT /*+  NO_MERGE  */ /* 2a.96 */
       x.*
       --,c.name con_name
  FROM dba_advisor_execution_types x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
ORDER BY
       --x.con_id,
       x.advisor_name, x.execution_type

09:32:14 2a.96
Elapsed Hours so far:    0.048
Elapsed Hours so far: .048

Decorrido: 00:00:00.01

09:32:15 2a "00104_edb360_135990_2a_96_advisor_execution_types.html"
Elapsed Hours so far:    0.048

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:15 2a "Database Administration"
09:32:15 Advisor Tasks

SELECT /*+  NO_MERGE  */ /* 2a.97 */
       x.*
       --,c.name con_name
  FROM dba_advisor_tasks x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
ORDER BY
       --x.con_id,
       x.owner, x.task_id

09:32:15 2a.97
Elapsed Hours so far:    0.048
Elapsed Hours so far: .048

Decorrido: 00:00:00.02

09:32:16 2a "00105_edb360_135990_2a_97_advisor_tasks.html"
Elapsed Hours so far:    0.049

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:17 2a "Database Administration"
09:32:17 Advisor Executions

SELECT /*+  NO_MERGE  */ /* 2a.98 */
       x.*
       --,c.name con_name
  FROM dba_advisor_executions x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
ORDER BY
       --x.con_id,
       x.owner, x.task_id

09:32:17 2a.98
Elapsed Hours so far:    0.049
Elapsed Hours so far: .049

Decorrido: 00:00:00.02

09:32:18 2a "00106_edb360_135990_2a_98_advisor_executions.html"
Elapsed Hours so far:    0.049

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:18 2a "Database Administration"
09:32:18 Automated Maintenance Tasks

SELECT /*+  NO_MERGE  */ /* 2a.99 */
       x.*
       --,c.name con_name
  FROM dba_autotask_client x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.client_name

09:32:18 2a.99
Elapsed Hours so far:    0.049
Elapsed Hours so far: .049

Decorrido: 00:00:00.02

09:32:19 2a "00107_edb360_135990_2a_99_automated_maintenance_tasks.html"
Elapsed Hours so far:    0.050

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:24 2a "Database Administration"
09:32:24 Automated Maintenance Task Tasks

SELECT /*+  NO_MERGE  */ /* 2a.100 */
       x.*
       --,c.name con_name
  FROM dba_autotask_task x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.client_name

09:32:24 2a.100
Elapsed Hours so far:    0.050
Elapsed Hours so far: .051

Decorrido: 00:00:00.01

09:32:25 2a "00108_edb360_135990_2a_100_automated_maintenance_task_tasks.html"
Elapsed Hours so far:    0.051

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:26 2a "Database Administration"
09:32:26 Automated Maintenance Tasks History

SELECT /*+  NO_MERGE  */ /* 2a.101 */
       x.*
       --,c.name con_name
  FROM dba_autotask_client_history x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.window_start_time DESC

09:32:26 2a.101
Elapsed Hours so far:    0.051
Elapsed Hours so far: .051

Decorrido: 00:00:00.02

09:32:26 2a "00109_edb360_135990_2a_101_automated_maintenance_tasks_history.html"
Elapsed Hours so far:    0.052

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:28 2a "Database Administration"
09:32:28 Auto Task Job History

SELECT /*+  NO_MERGE  */ /* 2a.102 */
       x.*
       --,c.name con_name
  FROM dba_autotask_job_history x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.window_start_time DESC

09:32:28 2a.102
Elapsed Hours so far:    0.052
Elapsed Hours so far: .052

Decorrido: 00:00:00.02

09:32:29 2a "00110_edb360_135990_2a_102_auto_task_job_history.html"
Elapsed Hours so far:    0.052

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:30 2a "Database Administration"
09:32:30 Current Blocking Activity

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 2a.103 */
       a.inst_id, a.sid, a.sql_id sql_id_a, a.state, a.blocking_session, b.sql_id sql_id_b, b.prev_s
ql_id,
       a.blocking_session_status, a.seconds_in_wait
	   --,a.con_id
	   --,c.name con_name
  FROM gv$session a
       --LEFT OUTER JOIN v$containers c ON c.con_id = a.con_id
     , gv$session b
 WHERE a.blocking_session is not null
   AND a.blocking_session = b.sid
   AND a.blocking_instance = b.inst_id

09:32:30 2a.103
Elapsed Hours so far:    0.052
Elapsed Hours so far: .052

Decorrido: 00:00:00.02

09:32:31 2a "00111_edb360_135990_2a_103_current_blocking_activity.html"
Elapsed Hours so far:    0.053

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:32 2a "Database Administration"
09:32:32 Sequences

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 2a.104 */
       s.*,
       ROUND(100 * (s.last_number - s.min_value) / GREATEST((s.max_value - s.min_value), 1), 1) perc
ent_used /* requested by Mike Moehlman */
       --,c.name con_name
  FROM dba_sequences s
       --LEFT OUTER JOIN v$containers c ON c.con_id = s.con_id
 WHERE s.sequence_owner not in ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200',
'APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM'
,'ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND s.sequence_owner not in ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTE
M','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')

   AND s.max_value > 0
ORDER BY
       --s.con_id,
       s.sequence_owner, s.sequence_name

09:32:32 2a.104
Elapsed Hours so far:    0.053
Elapsed Hours so far: .053

Decorrido: 00:00:00.02

09:32:32 2a "00112_edb360_135990_2a_104_sequences.html"
Elapsed Hours so far:    0.053

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:34 2a "Database Administration"
09:32:34 Sequences used over 20%

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 2a.105 */
       ROUND(100 * (s.last_number - s.min_value) / GREATEST((s.max_value - s.min_value), 1), 1) perc
ent_used, /* requested by Mike Moehlman */
       s.*
       --,c.name con_name
  FROM dba_sequences s
       --LEFT OUTER JOIN v$containers c ON c.con_id = s.con_id
 WHERE s.sequence_owner not in ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200',
'APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM'
,'ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND s.sequence_owner not in ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTE
M','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')

   AND s.max_value > 0
   AND ROUND(100 * (s.last_number - s.min_value) / GREATEST((s.max_value - s.min_value), 1), 1) > 20

ORDER BY
       ROUND(100 * (s.last_number - s.min_value) / GREATEST((s.max_value - s.min_value), 1), 1) DESC
, /* requested by Mike Moehlman */
       --s.con_id,
s.sequence_owner, s.sequence_name

09:32:34 2a.105
Elapsed Hours so far:    0.053
Elapsed Hours so far: .053

Decorrido: 00:00:00.02

09:32:34 2a "00113_edb360_135990_2a_105_sequences_used_over_20.html"
Elapsed Hours so far:    0.053

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:35 2a "Database Administration"
09:32:35 Sequences prone to contention

SELECT /*+  NO_MERGE  */ /* 2a.106 */
       (s.last_number - CASE WHEN s.increment_by > 0 THEN s.min_value ELSE s.max_value END) / s.incr
ement_by times_used,
       s.*
       --,c.name con_name
  FROM dba_sequences s
       --LEFT OUTER JOIN v$containers c ON c.con_id = s.con_id
 WHERE s.sequence_owner not in ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200',
'APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM'
,'ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND s.sequence_owner not in ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTE
M','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')

   AND (s.cache_size <= 1000 OR s.order_flag = 'Y')
   AND s.min_value != s.last_number
   AND s.max_value != s.last_number
   AND (s.last_number - CASE WHEN s.increment_by > 0 THEN s.min_value ELSE s.max_value END) / s.incr
ement_by >= 10000
 ORDER BY 1 DESC

09:32:35 2a.106
Elapsed Hours so far:    0.053
Elapsed Hours so far: .054

Decorrido: 00:00:00.01

09:32:35 2a "00114_edb360_135990_2a_106_sequences_prone_to_contention.html"
Elapsed Hours so far:    0.054

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:36 2a "Database Administration"
09:32:36 Tables with more than 255 Columns

WITH x AS (
SELECT /*+  NO_MERGE  */ /* 2a.107 */
       MAX(c.column_id) columns,
       --c.con_id,
       c.owner,
       c.table_name,
       t.avg_row_len
  FROM dba_tab_columns c,
       dba_tables t
 WHERE t.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND t.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND t.table_name NOT LIKE 'BIN%'
   --AND t.con_id = c.con_id
   AND t.owner = c.owner
   AND t.table_name = c.table_name
   AND c.column_id > 255
   AND NOT EXISTS
       (SELECT NULL
        FROM dba_views v
        WHERE v.owner = t.owner
        --AND   v.con_id = t.con_id
		AND   v.view_name = t.table_name)
 GROUP BY
       --c.con_id,
       c.owner, c.table_name, t.avg_row_len
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       x.columns DESC,
       --x.con_id,
       x.owner,
       x.table_name

09:32:36 2a.107
Elapsed Hours so far:    0.054
Elapsed Hours so far: .054

Decorrido: 00:00:00.02

09:32:37 2a "00115_edb360_135990_2a_107_tables_with_more_than_255_columns.html"
Elapsed Hours so far:    0.054

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:38 2a "Database Administration"
09:32:38 SQL using Literals or many children (by COUNT)

WITH
lit AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2a.108 */
       --con_id,
       force_matching_signature, COUNT(*) cnt, MIN(sql_id) min_sql_id, MAX(sql_id) max_sql_id
  FROM gv$sql
 WHERE force_matching_signature > 0
   AND UPPER(sql_text) NOT LIKE '%EDB360%'
 GROUP BY
       --con_id,
       force_matching_signature
HAVING COUNT(*) > 99
)
SELECT /*+  NO_MERGE  */ /* 2a.108 */
       DISTINCT lit.cnt, s.force_matching_signature,
       --s.con_id,
       s.parsing_schema_name owner,
       CASE WHEN o.object_name IS NOT NULL THEN o.object_name||'('||s.program_line#||')' END source,

       lit.min_sql_id,
       lit.max_sql_id,
       s.sql_text
	   --,c.name con_name
  FROM lit
       --LEFT OUTER JOIN v$containers c ON c.con_id = lit.con_id
      ,gv$sql s
       LEFT OUTER JOIN dba_objects o
                    ON o.object_id = s.program_id
                    --AND o.con_id = s.con_id
 WHERE s.force_matching_signature = lit.force_matching_signature
   AND s.sql_id = lit.min_sql_id
   --AND s.con_id = lit.con_id
 ORDER BY
       lit.cnt DESC,
	   --s.con_id,
	   s.force_matching_signature

09:32:38 2a.108
Elapsed Hours so far:    0.054
Elapsed Hours so far: .054

Decorrido: 00:00:00.02

09:32:39 2a "00116_edb360_135990_2a_108_sql_using_literals_or_many_children_by_count.html"
Elapsed Hours so far:    0.055

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:40 2a "Database Administration"
09:32:40 SQL using Literals or many children (by OWNER)

WITH
lit AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2a.109 */
       --con_id,
       force_matching_signature, COUNT(*) cnt, MIN(sql_id) min_sql_id, MAX(sql_id) max_sql_id
  FROM gv$sql
 WHERE force_matching_signature > 0
   AND UPPER(sql_text) NOT LIKE '%EDB360%'
 GROUP BY
       --con_id,
       force_matching_signature
HAVING COUNT(*) > 99
)
SELECT /*+  NO_MERGE  */ /* 2a.109 */
       DISTINCT --s.con_id,
       s.parsing_schema_name owner, lit.cnt, s.force_matching_signature,
       CASE WHEN o.object_name IS NOT NULL THEN o.object_name||'('||s.program_line#||')' END source,

       lit.min_sql_id,
       lit.max_sql_id,
       s.sql_text
	   --,c.name con_name
  FROM lit,
       gv$sql s
	   --LEFT OUTER JOIN v$containers c ON c.con_id = s.con_id
	   LEFT OUTER JOIN dba_objects o
	                ON o.object_id = s.program_id
	                --AND o.con_id = s.con_id
 WHERE s.force_matching_signature = lit.force_matching_signature
   AND s.sql_id = lit.min_sql_id
   --AND s.con_id = lit.con_id
 ORDER BY
       --s.con_id,
       s.parsing_schema_name, lit.cnt DESC, s.force_matching_signature

09:32:40 2a.109
Elapsed Hours so far:    0.055
Elapsed Hours so far: .055

Decorrido: 00:00:00.01

09:32:40 2a "00117_edb360_135990_2a_109_sql_using_literals_or_many_children_by_owner.html"
Elapsed Hours so far:    0.055

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:41 2a "Database Administration"
09:32:41 Opened Cursors Current - Count per Session

-- from http://www.orafaq.com/node/758
SELECT /*+  NO_MERGE  */ /* 2a.110 */
       TO_NUMBER(a.value) opened_cursors_current,
	   --a.con_id,
	   a.inst_id,
       s.sid, s.serial#,
	   s.username, s.machine, s.program, s.module, s.action
	   --,c.name con_name
  FROM gv$sesstat a, gv$statname b, gv$session s
       --LEFT OUTER JOIN v$containers c ON c.con_id = s.con_id
 WHERE a.statistic# = b.statistic#
   AND a.inst_id = b.inst_id
   AND s.sid=a.sid
   AND s.inst_id = a.inst_id
   AND b.name = 'opened cursors current'
   AND TO_NUMBER(a.value) < 1.844E+19 -- bug
   AND TO_NUMBER(a.value) > 0
ORDER BY 1 desc, 2, 3, 4

09:32:41 2a.110
Elapsed Hours so far:    0.055
Elapsed Hours so far: .055

Decorrido: 00:00:00.33

09:32:42 2a "00118_edb360_135990_2a_110_opened_cursors_current_count_per_session.html"
Elapsed Hours so far:    0.056

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:42 2a "Database Administration"
09:32:42 Cached Cursors Count per Session

WITH x AS (
SELECT /*+  NO_MERGE  */ /* 2a.111 */
       COUNT(*) cached_cursors,
	   --con_id,
	   inst_id, sid, user_name
  FROM gv$open_cursor
 GROUP BY
       --con_id,
       inst_id, sid, user_name
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       1 DESC, 2, 3, 4

09:32:42 2a.111
Elapsed Hours so far:    0.056
Elapsed Hours so far: .056

Decorrido: 00:00:00.02

09:32:43 2a "00119_edb360_135990_2a_111_cached_cursors_count_per_session.html"
Elapsed Hours so far:    0.056

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:44 2a "Database Administration"
09:32:44 Cached Cursors Count per SQL_ID

WITH x as (
SELECT /*+  NO_MERGE  */ /* 2a.112 */
       COUNT(*) cached_cursors, COUNT(DISTINCT inst_id||'.'||sid) sessions,
	   --con_id,
	   sql_id, hash_value, sql_text, cursor_type,
       MIN(user_name) min_user_name, MAX(user_name) max_user_name, MAX(last_sql_active_time) last_sq
l_active_time
  FROM gv$open_cursor
 GROUP BY
       --con_id,
       sql_id, hash_value, sql_text, cursor_type
HAVING COUNT(*) >= 50
   AND COUNT(*) > COUNT(DISTINCT inst_id||'.'||sid)
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       x.sessions DESC,
	   --x.con_id,
	   x.sql_id

09:32:44 2a.112
Elapsed Hours so far:    0.056
Elapsed Hours so far: .056

Decorrido: 00:00:00.02

09:32:44 2a "00120_edb360_135990_2a_112_cached_cursors_count_per_sqlid.html"
Elapsed Hours so far:    0.056

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:45 2a "Database Administration"
09:32:45 Cached Cursors List per Session

SELECT /*+  NO_MERGE  */ /* 2a.113 */
       x.*
	   --,c.name con_name
  FROM gv$open_cursor x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
	   x.inst_id, x.sid, x.sql_id
       , x.sql_exec_id

09:32:45 2a.113
Elapsed Hours so far:    0.056
Elapsed Hours so far: .056

Decorrido: 00:00:00.02

09:32:46 2a "00121_edb360_135990_2a_113_cached_cursors_list_per_session.html"
Elapsed Hours so far:    0.057

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:48 2a "Database Administration"
09:32:48 Session Cursor Cache Misses per Session

WITH
session_cache AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2a.114 */
       p.value - c.value session_cache_misses,
       c.value session_cache_hits,
       p.value total_parse_count,
       --c.con_id,
       c.inst_id,
       c.sid
  FROM gv$sesstat c,
       gv$statname n1,
       gv$sesstat p,
       gv$statname n2
 WHERE n1.inst_id = c.inst_id
   AND n1.statistic# = c.statistic#
   AND n1.name = 'session cursor cache hits'
   AND n2.inst_id = p.inst_id
   AND n2.statistic# = p.statistic#
   AND n2.name = 'parse count (total)'
   AND p.inst_id = c.inst_id
   AND p.sid = c.sid
   --AND p.con_id = c.con_id
)
SELECT /*+  NO_MERGE  */ /* 2a.114 */
       x.session_cache_misses,
       x.session_cache_hits,
       x.total_parse_count,
       --x.con_id,
       x.inst_id,
       x.sid,
       s.serial#,
       s.username,
       s.machine,
       s.program,
       s.module,
       s.action
	   --,c.name con_name
  FROM session_cache x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
      ,gv$session s
 WHERE x.session_cache_misses > 0
   AND s.inst_id = x.inst_id
   AND s.sid = x.sid
 ORDER BY
       x.session_cache_misses DESC,
       x.session_cache_hits, x.total_parse_count

09:32:48 2a.114
Elapsed Hours so far:    0.057
Elapsed Hours so far: .057

Decorrido: 00:00:00.01

09:32:49 2a "00122_edb360_135990_2a_114_session_cursor_cache_misses_per_session.html"
Elapsed Hours so far:    0.058

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:50 2a "Database Administration"
09:32:50 High Cursor Count

WITH x AS (
SELECT /*+  NO_MERGE  */ /* 2a.115 */
       --v1.con_id,
       v1.sql_id,
       COUNT(*) child_cursors,
       MIN(inst_id) min_inst_id,
       MAX(inst_id) max_inst_id,
       MIN(child_number) min_child,
       MAX(child_number) max_child,
       v1.sql_text
  FROM gv$sql v1
 GROUP BY
       --v1.con_id,
       v1.sql_id,
       v1.sql_text
HAVING COUNT(*) > 99
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       child_cursors DESC,
       --x.con_id,
	   x.sql_id

09:32:50 2a.115
Elapsed Hours so far:    0.058
Elapsed Hours so far: .058

Decorrido: 00:00:00.02

09:32:50 2a "00123_edb360_135990_2a_115_high_cursor_count.html"
Elapsed Hours so far:    0.058

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:51 2a "Database Administration"
09:32:51 SQL with 100 or more unshared child cursors

WITH
not_shared AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2a.116 */
       --con_id,
       sql_id, COUNT(*) child_cursors,
       RANK() OVER (ORDER BY COUNT(*) DESC NULLS LAST) AS sql_rank
  FROM gv$sql_shared_cursor
 GROUP BY
       --con_id,
       sql_id
HAVING COUNT(*) > 99
)
SELECT /*+  NO_MERGE  */ /* 2a.116 */
       DISTINCT
       ns.sql_rank,
       ns.child_cursors,
       ns.sql_id,
       s.sql_text
	   --,c.name con_name
  FROM not_shared ns
       --LEFT OUTER JOIN v$containers c ON c.con_id = ns.con_id
       LEFT OUTER JOIN gv$sql s ON s.sql_id = ns.sql_id
 ORDER BY
       ns.sql_rank,
       ns.child_cursors DESC,
       ns.sql_id

09:32:51 2a.116
Elapsed Hours so far:    0.058
Elapsed Hours so far: .058

Decorrido: 00:00:00.02

09:32:51 2a "00124_edb360_135990_2a_116_sql_with_100_or_more_unshared_child_cursors.html"
Elapsed Hours so far:    0.058

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:52 2a "Database Administration"
09:32:52 Top SQL by Buffer Gets consolidating duplicates

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 2a.117 */
   --v1.con_id,
   v1.FORCE_MATCHING_SIGNATURE,
   v1.duplicate_count cnt,
   v1.min_sql_id,
   v1.max_sql_id,
   v1.distinct_phv phv_cnt,
   v1.executions,
   v1.buffer_gets,
   v1.buffer_gets_per_exec,
   v1.disk_reads,
   v1.disk_reads_per_exec,
   v1.rows_processed,
   v1.rows_processed_per_exec,
   v1.elapsed_seconds,
   v1.elapsed_seconds_per_exec,
   v1.pct_total_buffer_gets,
   v1.pct_total_disk_reads,
   v1.min_sql_text
   --,c.name con_name
from
  (SELECT
      --con_id,
	  FORCE_MATCHING_SIGNATURE,
      count(*) duplicate_count,
      min(sql_id) min_sql_id,
      max(sql_id) max_sql_id,
      count(distinct plan_hash_value) distinct_phv,
      sum(executions) executions,
      sum(buffer_gets) buffer_gets,
      ROUND(sum(buffer_gets)/greatest(sum(executions),1)) buffer_gets_per_exec,
      sum(disk_reads) disk_reads,
      ROUND(sum(disk_reads)/greatest(sum(executions),1)) disk_reads_per_exec,
      sum(rows_processed) rows_processed,
      ROUND(sum(rows_processed)/greatest(sum(executions),1)) rows_processed_per_exec,
      round(sum(elapsed_time)/1000000, 3) elapsed_seconds,
      ROUND(sum(elapsed_time)/1000000/greatest(sum(executions),1), 3) elapsed_seconds_per_exec,
      ROUND(sum(buffer_gets)*100/           244040701, 1) pct_total_buffer_gets,
      ROUND(sum(disk_reads)*100/            32113537, 1) pct_total_disk_reads,
      MIN(sql_text) min_sql_text,
      rank() over (ORDER BY sum(buffer_gets) desc nulls last) AS sql_rank
   from
      gv$sql
   WHERE
      FORCE_MATCHING_SIGNATURE <> 0 AND
      FORCE_MATCHING_SIGNATURE <> EXACT_MATCHING_SIGNATURE
   group by
      --con_id,
      FORCE_MATCHING_SIGNATURE
   having
      count(*) >= 30
   ORDER BY
      buffer_gets desc
  ) v1
  --LEFT OUTER JOIN v$containers c ON c.con_id = v1.con_id
WHERE
   sql_rank < 101

09:32:52 2a.117
Elapsed Hours so far:    0.058
Elapsed Hours so far: .058

Decorrido: 00:00:00.01

09:32:53 2a "00125_edb360_135990_2a_117_top_sql_by_buffer_gets_consolidating_duplicates.html"
Elapsed Hours so far:    0.059

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:54 2a "Database Administration"
09:32:54 Top SQL by number of duplicates

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 2a.118 */
   FORCE_MATCHING_SIGNATURE,
   duplicate_count,
   min_sql_id,
   max_sql_id,
   executions,
   buffer_gets,
   buffer_gets_per_exec,
   disk_reads,
   disk_reads_per_exec,
   rows_processed,
   rows_processed_per_exec,
   elapsed_seconds,
   elapsed_seconds_per_exec,
   pct_total_buffer_gets,
   pct_total_disk_reads,
   min_sql_text
   --,c.name con_name
from
  (SELECT
      --con_id,
      FORCE_MATCHING_SIGNATURE,
      count(*) duplicate_count,
      min(sql_id) min_sql_id,
      max(sql_id) max_sql_id,
      sum(executions) executions,
      sum(buffer_gets) buffer_gets,
      ROUND(sum(buffer_gets)/greatest(sum(executions),1)) buffer_gets_per_exec,
      sum(disk_reads) disk_reads,
      ROUND(sum(disk_reads)/greatest(sum(executions),1)) disk_reads_per_exec,
      sum(rows_processed) rows_processed,
      ROUND(sum(rows_processed)/greatest(sum(executions),1)) rows_processed_per_exec,
      round(sum(elapsed_time)/1000000, 3) elapsed_seconds,
      ROUND(sum(elapsed_time)/1000000/greatest(sum(executions),1), 3) elapsed_seconds_per_exec,
      ROUND(sum(buffer_gets)*100/           244058022, 1) pct_total_buffer_gets,
      ROUND(sum(disk_reads)*100/            32113569, 1) pct_total_disk_reads,
      MIN(sql_text) min_sql_text,
      rank() over (ORDER BY count(*) desc nulls last) AS sql_rank
   from
      gv$sql
   WHERE
      FORCE_MATCHING_SIGNATURE <> 0 AND
      FORCE_MATCHING_SIGNATURE <> EXACT_MATCHING_SIGNATURE
   group by
      --con_id,
	  FORCE_MATCHING_SIGNATURE
   ORDER BY
      count(*) desc
  ) v1
  --LEFT OUTER JOIN v$containers c ON c.con_id = v1.con_id
WHERE
   sql_rank < 101

09:32:54 2a.118
Elapsed Hours so far:    0.059
Elapsed Hours so far: .059

Decorrido: 00:00:00.02

09:32:54 2a "00126_edb360_135990_2a_118_top_sql_by_number_of_duplicates.html"
Elapsed Hours so far:    0.059

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:55 2a "Database Administration"
09:32:55 Libraries calling DBMS_STATS

WITH
lines_with_api AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2a.119 */ *
  FROM dba_source
 WHERE 'Y' = 'Y'
   AND REPLACE(UPPER(text), ' ') LIKE '%DBMS_STATS.%'
   AND UPPER(text) NOT LIKE '%--%DBMS_STATS%'
   AND owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO',
'APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA',
'ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZ
R','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
),
include_nearby_lines AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2a.119 */ DISTINCT s.*
  FROM lines_with_api l,
       dba_source s
 WHERE 'Y' = 'Y'
   --AND s.con_id = l.con_id
   AND s.owner = l.owner
   AND s.name = l.name
   AND s.type = l.type
   AND s.line BETWEEN l.line - 8 AND l.line + 8
)
SELECT
       --a.con_id,
       a.owner,
       a.name,
       a.type,
       a.line,
       CASE WHEN REPLACE(UPPER(a.text), ' ') LIKE '%DBMS_STATS.%' AND UPPER(a.text) NOT LIKE '%--%DB
MS_STATS%' THEN '*' END dbms_stats,
       REPLACE(a.text, '  ', '..') text
       --,c.name con_name
  FROM include_nearby_lines a
       --LEFT OUTER JOIN v$containers c ON c.con_id = a.con_id
 ORDER BY
       --a.con_id,
       a.owner,
       a.name,
       a.type,
       a.line

09:32:55 2a.119
Elapsed Hours so far:    0.059
Elapsed Hours so far: .059

Decorrido: 00:00:00.02

09:32:56 2a "00127_edb360_135990_2a_119_libraries_calling_dbmsstats.html"
Elapsed Hours so far:    0.060

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:32:58 2a "Database Administration"
09:32:58 Libraries doing ALTER SESSION

SELECT x.*
       --,c.name con_name
  FROM dba_source x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE 'Y' = 'Y'
   AND UPPER(x.text) LIKE '%ALTER%SESSION%'
   AND UPPER(x.text) NOT LIKE '%--%ALTER%SESSION%'
   AND x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 ORDER BY
       --x.con_id,
       x.owner, x.name, x.type, x.line

09:32:58 2a.120
Elapsed Hours so far:    0.060
Elapsed Hours so far: .06

Decorrido: 00:00:00.02

09:32:59 2a "00128_edb360_135990_2a_120_libraries_doing_alter_session.html"
Elapsed Hours so far:    0.061

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:00 2a "Database Administration"
09:33:00 WRH$ Partitions

-- from http://jhdba.wordpress.com/tag/purge-wrh-tables/
WITH x AS (
SELECT --con_id,
       table_name, count(*)
  FROM dba_tab_partitions
 WHERE table_name like 'WRH$%'
   AND table_owner = 'SYS'
group by
       --con_id,
       table_name
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.table_name

09:33:00 2a.121
Elapsed Hours so far:    0.061
Elapsed Hours so far: .061

Decorrido: 00:00:00.02

09:33:01 2a "00129_edb360_135990_2a_121_wrh_partitions_.html"
Elapsed Hours so far:    0.061

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:02 2a "Database Administration"
09:33:02 Segments with Next Extent at Risk

-- requested by Milton Quinteros
with
max_free AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2a.122 */
       --con_id,
       tablespace_name, max(bytes) bytes
  FROM dba_free_space
group by
       --con_id,
       tablespace_name
)
SELECT /*+  NO_MERGE  */ /* 2a.122 */
       --s.con_id,
       s.owner, s.segment_name, s.partition_name, s.tablespace_name, s.next_extent, max_free.bytes m
ax_free_bytes
  FROM dba_segments s
     , max_free
 WHERE 'Y' = 'Y'
   AND s.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND s.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND s.next_extent > max_free.bytes
   --AND s.con_id = max_free.con_id
   AND s.tablespace_name=max_free.tablespace_name
ORDER BY
       --s.con_id,
       s.owner, s.segment_name, s.partition_name

09:33:02 2a.122
Elapsed Hours so far:    0.061
Elapsed Hours so far: .061

Decorrido: 00:00:00.01

09:33:02 2a "00130_edb360_135990_2a_122_segments_with_next_extent_at_risk.html"
Elapsed Hours so far:    0.061

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:04 2a "Database Administration"
09:33:04 Libraries Version

SELECT /*+  NO_MERGE  */ /* 2a.123 */
       x.*
       --,c.name con_name
  FROM dba_source x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE 'Y' = 'Y'
   AND x.line < 21
   AND x.text LIKE '%$Header%'
 ORDER BY
       --x.con_id,
       x.owner, x.name, x.type, x.line

09:33:04 2a.123
Elapsed Hours so far:    0.061
Elapsed Hours so far: .062

Decorrido: 00:00:00.02

09:33:04 2a "00131_edb360_135990_2a_123_libraries_version.html"
Elapsed Hours so far:    0.062

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:05 2a "Database Administration"
09:33:05 Orphaned Synonyms

-- provided by Simon Pane
WITH x AS (
SELECT /*+  NO_MERGE  */ /* 2a.124 */
       --s.con_id,
       s.owner, s.table_owner, COUNT(1) counter
  FROM dba_synonyms s
 WHERE NOT EXISTS
       (SELECT NULL
          FROM dba_objects o
         WHERE o.object_name = s.table_name
	       --AND o.con_id = s.con_id
           AND o.owner = s.table_owner)
   AND s.db_link IS NULL
   AND s.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO
','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA
','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND s.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCAN
LZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND s.table_owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','AP
EX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','O
RDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND s.table_owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM',
'TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 GROUP BY
       --s.con_id,
       s.owner, s.table_owner
)
 SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
ORDER BY
       x.counter DESC

09:33:05 2a.124
Elapsed Hours so far:    0.062
Elapsed Hours so far: .062

Decorrido: 00:00:00.01

09:33:06 2a "00132_edb360_135990_2a_124_orphaned_synonyms.html"
Elapsed Hours so far:    0.062

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:07 2a "Database Administration"
09:33:07 Last DDL by date

WITH x aS (
SELECT /*+  NO_MERGE  */ /* 2a.125 */
       --con_id,
       owner, TO_CHAR(TRUNC(last_ddl_time), 'YYYY-MM-DD') last_ddl_time, COUNT(*) objects
  FROM dba_objects
 WHERE last_ddl_time >= TRUNC(SYSDATE) - 30
   AND owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO',
'APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA',
'ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZ
R','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 GROUP BY
       --con_id,
       owner, TRUNC(last_ddl_time)
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       last_ddl_time DESC
       --,x.con_id

09:33:07 2a.125
Elapsed Hours so far:    0.062
Elapsed Hours so far: .062

Decorrido: 00:00:00.01

09:33:08 2a "00133_edb360_135990_2a_125_last_ddl_by_date.html"
Elapsed Hours so far:    0.063

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:09 2b "Storage"
09:33:09 Tablespace

SELECT /*+  NO_MERGE  */ /* 2b.126 */
       x.*
	   --,c.name con_name
  FROM v$tablespace x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       ts#

09:33:09 2b.126
Elapsed Hours so far:    0.063
Elapsed Hours so far: .063

Decorrido: 00:00:00.02

09:33:09 2b "00134_edb360_135990_2b_126_tablespace.html"
Elapsed Hours so far:    0.063

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:10 2b "Storage"
09:33:10 Tablespaces

SELECT /*+  NO_MERGE  */ /* 2b.127 */
       x.*
	   --,c.name con_name
  FROM dba_tablespaces x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
	   x.tablespace_name

09:33:10 2b.127
Elapsed Hours so far:    0.063
Elapsed Hours so far: .063

Decorrido: 00:00:00.02

09:33:11 2b "00135_edb360_135990_2b_127_tablespaces.html"
Elapsed Hours so far:    0.064

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:11 2b "Storage"
09:33:11 Tablespace Groups

SELECT /*+  NO_MERGE  */ /* 2b.128 */
       x.*
	   --,c.name con_name
  FROM dba_tablespace_groups x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
	   x.group_name

09:33:11 2b.128
Elapsed Hours so far:    0.064
Elapsed Hours so far: .064

Decorrido: 00:00:00.02

09:33:12 2b "00136_edb360_135990_2b_128_tablespace_groups.html"
Elapsed Hours so far:    0.064

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:13 2b "Storage"
09:33:13 Default Tablespace Use

WITH x as (
SELECT /*+  NO_MERGE  */ /* 2b.129 */
       --con_id,
	   default_tablespace, COUNT(*) number_of_users
  FROM dba_users
 GROUP BY
       --con_id,
	   default_tablespace
)
SELECT x.*
       --,c.name con_name
 FROM  x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       default_tablespace

09:33:13 2b.129
Elapsed Hours so far:    0.064
Elapsed Hours so far: .064

Decorrido: 00:00:00.01

09:33:13 2b "00137_edb360_135990_2b_129_default_tablespace_use.html"
Elapsed Hours so far:    0.064

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:14 2b "Storage"
09:33:14 Temporary Tablespace Use

WITH x as (
SELECT /*+  NO_MERGE  */ /* 2b.130 */
       --con_id,
	   temporary_tablespace, COUNT(*) number_of_users
  FROM dba_users
 GROUP BY
       --con_id,
	   temporary_tablespace
)
SELECT x.*
       --,c.name con_name
 FROM  x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       temporary_tablespace

09:33:14 2b.130
Elapsed Hours so far:    0.064
Elapsed Hours so far: .064

Decorrido: 00:00:00.02

09:33:14 2b "00138_edb360_135990_2b_130_temporary_tablespace_use.html"
Elapsed Hours so far:    0.065

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:15 2b "Storage"
09:33:15 UNDO Stat

SELECT /*+  NO_MERGE  */ /* 2b.131 */
       *
  FROM gv$undostat

09:33:15 2b.131
Elapsed Hours so far:    0.065
Elapsed Hours so far: .065

Decorrido: 00:00:00.01

09:33:16 2b "00139_edb360_135990_2b_131_undo_stat.html"
Elapsed Hours so far:    0.065

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:17 2b "Storage"
09:33:17 Tablespace Usage

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
-- fixed by Rodigo Righetti
WITH
files AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.132 */
       --con_id,
       tablespace_name,
       SUM(DECODE(autoextensible, 'YES', maxbytes, bytes)) / POWER(10,9) Max_size_gb,
       SUM( bytes) / POWER(10,9) Size_gb
  FROM dba_data_files
 GROUP BY
       --con_id,
       tablespace_name
),
segments AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.132 */
       --con_id,
	   tablespace_name,
       SUM(bytes) / POWER(10,9) used_gb
  FROM dba_segments
 WHERE 'Y' = 'Y'
 GROUP BY
       --con_id,
       tablespace_name
),
tablespaces AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.132 */
       --files.con_id,
       files.tablespace_name,
       ROUND(files.size_gb, 1) size_gb,
       ROUND(segments.used_gb, 1) used_gb,
       ROUND(100 * segments.used_gb / files.size_gb, 1) pct_used,
       ROUND(files.max_size_gb, 1) max_size_gb
  FROM files,
       segments
 WHERE files.size_gb > 0
   AND files.tablespace_name = segments.tablespace_name(+)
   --AND files.con_id = segments.con_id(+)
 ORDER BY
       --files.con_id,
       files.tablespace_name
),
total AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.132 */
       'Total' tablespace_name,
       SUM(size_gb) size_gb,
       SUM(used_gb) used_gb,
       ROUND(100 * SUM(used_gb) / SUM(size_gb), 1) pct_used,
       sum(max_size_gb) max_size_gb
  FROM tablespaces
)
SELECT --con_id,
       tablespace_name,
       size_gb,
       used_gb,
       pct_used,
       max_size_gb
  FROM tablespaces
 UNION ALL
SELECT --NULL,
       tablespace_name,
       size_gb,
       used_gb,
       pct_used,
       max_size_gb
  FROM total

09:33:17 2b.132
Elapsed Hours so far:    0.065
Elapsed Hours so far: .065

Decorrido: 00:00:00.03

09:33:17 2b "00140_edb360_135990_2b_132_tablespace_usage.html"
Elapsed Hours so far:    0.066

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:21 2b "Storage"
09:33:21 Temp Tablespace Usage

-- requested by Rodrigo Righetti
SELECT /*+  NO_MERGE  */ /* 2b.133 */
       a.tablespace_name, ROUND(A.AVAIL_SIZE_GB,1) AVAIL_SIZE_GB,
       ROUND(B.TOT_GBBYTES_CACHED,1) TOT_GBBYTES_CACHED ,
       ROUND(B.TOT_GBBYTES_USED,1) TOT_GBBYTES_USED,
       ROUND(100*(B.TOT_GBBYTES_CACHED/A.AVAIL_SIZE_GB),1) PERC_CACHED,
       ROUND(100*(B.TOT_GBBYTES_USED/A.AVAIL_SIZE_GB),1) PERC_USED
FROM  (SELECT --con_id,
              tablespace_name,sum(bytes)/POWER(10,9) AVAIL_SIZE_GB
       from   dba_temp_files
       group by --con_id,
	            tablespace_name
      ) A,
      (SELECT --con_id,
	          tablespace_name,
              SUM(BYTES_CACHED)/POWER(10,9) TOT_GBBYTES_CACHED,
              SUM(BYTES_USED)/POWER(10,9) TOT_GBBYTES_USED
       FROM   gv$temp_extent_pool
       GROUP BY --con_id,
	            TABLESPACE_NAME
       ) B
WHERE a.tablespace_name=b.tablespace_name
--AND   a.con_id = b.con_id

09:33:21 2b.133
Elapsed Hours so far:    0.066
Elapsed Hours so far: .066

Decorrido: 00:00:00.02

09:33:21 2b "00141_edb360_135990_2b_133_temp_tablespace_usage.html"
Elapsed Hours so far:    0.067

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:22 2b "Storage"
09:33:22 Tablespace Quotas

-- by berx
SELECT /*+  NO_MERGE  */ /* 2b.134 */
       x.*
	   --,c.name con_name
  FROM dba_ts_quotas x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.username NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   and x.username not in ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
ORDER BY --x.con_id,
       x.tablespace_name, x.username

09:33:22 2b.134
Elapsed Hours so far:    0.067
Elapsed Hours so far: .067

Decorrido: 00:00:00.01

09:33:22 2b "00142_edb360_135990_2b_134_tablespace_quotas.html"
Elapsed Hours so far:    0.067

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:23 2b "Storage"
09:33:23 Datafile

SELECT /*+  NO_MERGE  */ /* 2b.135 */
       x.*
	   --,c.name con_name
  FROM v$datafile x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       x.file#

09:33:23 2b.135
Elapsed Hours so far:    0.067
Elapsed Hours so far: .067

Decorrido: 00:00:00.02

09:33:24 2b "00143_edb360_135990_2b_135_datafile.html"
Elapsed Hours so far:    0.067

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:25 2b "Storage"
09:33:25 Data Files

SELECT /*+  NO_MERGE  */ /* 2b.136 */
       x.*
	   --,c.name con_name
  FROM dba_data_files x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
	   x.file_name

09:33:25 2b.136
Elapsed Hours so far:    0.067
Elapsed Hours so far: .067

Decorrido: 00:00:00.02

09:33:25 2b "00144_edb360_135990_2b_136_data_files.html"
Elapsed Hours so far:    0.068

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:26 2b "Storage"
09:33:26 Data Files Usage

WITH alloc AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.137 */
       --con_id,
       tablespace_name,
       COUNT(*) datafiles,
       ROUND(SUM(bytes)/POWER(10,9)) gb
  FROM dba_data_files
 GROUP BY
       --con_id,
       tablespace_name
),free AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.137 */
       --con_id,
	   tablespace_name,
       ROUND(SUM(bytes)/POWER(10,9)) gb
  FROM dba_free_space
 GROUP BY
       --con_id,
       tablespace_name
),tablespaces AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.137 */
       --a.con_id,
       a.tablespace_name,
       a.datafiles,
       a.gb alloc_gb,
       (a.gb - f.gb) used_gb,
       f.gb free_gb
  FROM alloc a, free f
 WHERE a.tablespace_name = f.tablespace_name
   --AND a.con_id = f.con_id
 ORDER BY
       --a.con_id,
       a.tablespace_name
--),pdb_total AS (
--SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.137 */
--       con_id,
--	     SUM(alloc_gb) alloc_gb,
--       SUM(used_gb) used_gb,
--       SUM(free_gb) free_gb
--  FROM tablespaces
-- GROUP BY con_id
),total AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.137 */
       SUM(alloc_gb) alloc_gb,
       SUM(used_gb) used_gb,
       SUM(free_gb) free_gb
  FROM tablespaces
), v as (
SELECT --con_id,
       tablespace_name,
       datafiles,
       alloc_gb,
       used_gb,
       free_gb
  FROM tablespaces
-- UNION ALL
--SELECT con_id,
--       'PDB Total' tablespace_name,
--       TO_NUMBER(NULL) datafiles,
--       alloc_gb,
--       used_gb,
--       free_gb
--  FROM pdb_total
 UNION ALL
SELECT --NULL,
       'Total' tablespace_name,
       TO_NUMBER(NULL) datafiles,
       alloc_gb,
       used_gb,
       free_gb
  FROM total
)
SELECT --v.con_id,
       v.tablespace_name,
       v.datafiles,
       v.alloc_gb,
       v.used_gb,
       CASE WHEN v.alloc_gb > 0 THEN
       LPAD(TRIM(TO_CHAR(ROUND(100 * v.used_gb / v.alloc_gb, 1), '990.0')), 8)
       END pct_used,
       v.free_gb,
       CASE WHEN v.alloc_gb > 0 THEN
       LPAD(TRIM(TO_CHAR(ROUND(100 * v.free_gb / v.alloc_gb, 1), '990.0')), 8)
       END pct_free
	   --,c.name con_name
  FROM v
       --LEFT OUTER JOIN v$containers c ON c.con_id = v.con_id

09:33:26 2b.137
Elapsed Hours so far:    0.068
Elapsed Hours so far: .068

Decorrido: 00:00:00.01

09:33:27 2b "00145_edb360_135990_2b_137_data_files_usage.html"
Elapsed Hours so far:    0.068

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:27 2b "Storage"
09:33:27 Tempfile

SELECT /*+  NO_MERGE  */ /* 2b.138 */
       x.*
	   --,c.name con_name
  FROM v$tempfile x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       file#

09:33:27 2b.138
Elapsed Hours so far:    0.068
Elapsed Hours so far: .068

Decorrido: 00:00:00.03

09:33:28 2b "00146_edb360_135990_2b_138_tempfile.html"
Elapsed Hours so far:    0.068

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:29 2b "Storage"
09:33:29 Temp Files

SELECT /*+  NO_MERGE  */ /* 2b.139 */
       x.*
	   --,c.name con_name
  FROM dba_temp_files x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       file_name

09:33:29 2b.139
Elapsed Hours so far:    0.068
Elapsed Hours so far: .069

Decorrido: 00:00:00.02

09:33:29 2b "00147_edb360_135990_2b_139_temp_files.html"
Elapsed Hours so far:    0.069

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:30 2b "Storage"
09:33:30 I/O Statistics for DB Files

SELECT /*+  NO_MERGE  */ /* 2b.140 */
       x.*
	   --,c.name con_name
  FROM v$iostat_file x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       1

09:33:30 2b.140
Elapsed Hours so far:    0.069
Elapsed Hours so far: .069

Decorrido: 00:00:00.02

09:33:31 2b "00148_edb360_135990_2b_140_io_statistics_for_db_files.html"
Elapsed Hours so far:    0.069

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:31 2b "Storage"
09:33:31 SYSAUX Occupants

SELECT /*+  NO_MERGE  */ /* 2b.141 */
       v.*, ROUND(v.space_usage_kbytes / POWER(10,6), 3) space_usage_gbs
  FROM v$sysaux_occupants v
 ORDER BY 1

09:33:31 2b.141
Elapsed Hours so far:    0.069
Elapsed Hours so far: .069

Decorrido: 00:00:00.01

09:33:32 2b "00149_edb360_135990_2b_141_sysaux_occupants.html"
Elapsed Hours so far:    0.070

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:33 2b "Storage"
09:33:33 Database Growth per Month

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 2b.142 */
       TO_CHAR(creation_time, 'YYYY-MM') creation_month,
       ROUND(SUM(bytes)/POWER(10,6)) mb_growth,
       ROUND(SUM(bytes)/POWER(10,9)) gb_growth,
       ROUND(SUM(bytes)/POWER(10,12), 1) tb_growth
  FROM v$datafile
 GROUP BY
       TO_CHAR(creation_time, 'YYYY-MM')
 ORDER BY 1

09:33:33 2b.142
Elapsed Hours so far:    0.070
Elapsed Hours so far: .07

Decorrido: 00:00:00.01

09:33:34 2b "00150_edb360_135990_2b_142_database_growth_per_month.html"
Elapsed Hours so far:    0.070

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:35 2b "Storage"
09:33:35 Largest 200 Objects

WITH schema_object AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.143 */
       --con_id,
       segment_type,
       owner,
       segment_name,
       tablespace_name,
       COUNT(*) segments,
       SUM(extents) extents,
       SUM(blocks) blocks,
       SUM(bytes) bytes
  FROM dba_segments
 WHERE 'Y' = 'Y'
 GROUP BY
       --con_id,
       segment_type,
       owner,
       segment_name,
       tablespace_name
), totals AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.143 */
       SUM(segments) segments,
       SUM(extents) extents,
       SUM(blocks) blocks,
       SUM(bytes) bytes
  FROM schema_object
), top_200_pre AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.143 */
       ROWNUM rank, v1.*
       FROM (
SELECT --so.con_id,
       so.segment_type,
       so.owner,
       so.segment_name,
       so.tablespace_name,
       so.segments,
       so.extents,
       so.blocks,
       so.bytes,
       ROUND((so.segments / t.segments) * 100, 3) segments_perc,
       ROUND((so.extents / t.extents) * 100, 3) extents_perc,
       ROUND((so.blocks / t.blocks) * 100, 3) blocks_perc,
       ROUND((so.bytes / t.bytes) * 100, 3) bytes_perc
  FROM schema_object so,
       totals t
 ORDER BY
       bytes_perc DESC NULLS LAST
) v1
 WHERE ROWNUM < 201
), top_200 AS (
SELECT p.*,
       (SELECT object_id
          FROM dba_objects o
         WHERE o.object_type = p.segment_type
		   --AND o.con_id = p.con_id
           AND o.owner = p.owner
           AND o.object_name = p.segment_name
           AND o.object_type NOT LIKE '%PARTITION%') object_id,
       (SELECT data_object_id
          FROM dba_objects o
         WHERE o.object_type = p.segment_type
           --AND o.con_id = p.con_id
           AND o.owner = p.owner
           AND o.object_name = p.segment_name
           AND o.object_type NOT LIKE '%PARTITION%') data_object_id,
       (SELECT SUM(p2.bytes_perc) FROM top_200_pre p2 WHERE p2.rank <= p.rank) bytes_perc_cum
  FROM top_200_pre p
), top_200_totals AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.143 */
       SUM(segments) segments,
       SUM(extents) extents,
       SUM(blocks) blocks,
       SUM(bytes) bytes,
       SUM(segments_perc) segments_perc,
       SUM(extents_perc) extents_perc,
       SUM(blocks_perc) blocks_perc,
       SUM(bytes_perc) bytes_perc
  FROM top_200
), top_100_totals AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.143 */
       SUM(segments) segments,
       SUM(extents) extents,
       SUM(blocks) blocks,
       SUM(bytes) bytes,
       SUM(segments_perc) segments_perc,
       SUM(extents_perc) extents_perc,
       SUM(blocks_perc) blocks_perc,
       SUM(bytes_perc) bytes_perc
  FROM top_200
 WHERE rank < 101
), top_20_totals AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.143 */
       SUM(segments) segments,
       SUM(extents) extents,
       SUM(blocks) blocks,
       SUM(bytes) bytes,
       SUM(segments_perc) segments_perc,
       SUM(extents_perc) extents_perc,
       SUM(blocks_perc) blocks_perc,
       SUM(bytes_perc) bytes_perc
  FROM top_200
 WHERE rank < 21
)
SELECT v.rank,
       v.segment_type,
	   --v.con_id,
       v.owner,
       v.segment_name,
       v.object_id,
       v.data_object_id,
       v.tablespace_name,
       CASE
       WHEN v.segment_type LIKE 'INDEX%' THEN
         (SELECT i.table_name
            FROM dba_indexes i
           WHERE i.owner = v.owner
		     --AND i.con_id = v.con_id
		     AND i.index_name = v.segment_name)
       WHEN v.segment_type LIKE 'LOB%' THEN
         (SELECT l.table_name
            FROM dba_lobs l
           WHERE l.owner = v.owner
		     --AND l.con_id = v.con_id
		     AND l.segment_name = v.segment_name)
       END table_name,
       v.segments,
       v.extents,
       v.blocks,
       v.bytes,
       ROUND(v.bytes / POWER(10,9), 3) gb,
       LPAD(TO_CHAR(v.segments_perc, '990.000'), 7) segments_perc,
       LPAD(TO_CHAR(v.extents_perc, '990.000'), 7) extents_perc,
       LPAD(TO_CHAR(v.blocks_perc, '990.000'), 7) blocks_perc,
       LPAD(TO_CHAR(v.bytes_perc, '990.000'), 7) bytes_perc,
       LPAD(TO_CHAR(v.bytes_perc_cum, '990.000'), 7) perc_cum
	   --,c.name con_name
  FROM (
SELECT d.rank,
       d.segment_type,
	   --d.con_id,
       d.owner,
       d.segment_name,
       d.object_id,
       d.data_object_id,
       d.tablespace_name,
       d.segments,
       d.extents,
       d.blocks,
       d.bytes,
       d.segments_perc,
       d.extents_perc,
       d.blocks_perc,
       d.bytes_perc,
       d.bytes_perc_cum
  FROM top_200 d
 UNION ALL
SELECT TO_NUMBER(NULL) rank,
       NULL segment_type,
	   --NULL con_id,
       NULL owner,
       NULL segment_name,
       TO_NUMBER(NULL),
       TO_NUMBER(NULL),
       'TOP  20' tablespace_name,
       st.segments,
       st.extents,
       st.blocks,
       st.bytes,
       st.segments_perc,
       st.extents_perc,
       st.blocks_perc,
       st.bytes_perc,
       TO_NUMBER(NULL) bytes_perc_cum
  FROM top_20_totals st
 UNION ALL
SELECT TO_NUMBER(NULL) rank,
       NULL segment_type,
	   --NULL con_id,
       NULL owner,
       NULL segment_name,
       TO_NUMBER(NULL),
       TO_NUMBER(NULL),
       'TOP 100' tablespace_name,
       st.segments,
       st.extents,
       st.blocks,
       st.bytes,
       st.segments_perc,
       st.extents_perc,
       st.blocks_perc,
       st.bytes_perc,
       TO_NUMBER(NULL) bytes_perc_cum
  FROM top_100_totals st
 UNION ALL
SELECT TO_NUMBER(NULL) rank,
       NULL segment_type,
	   --NULL con_id,
       NULL owner,
       NULL segment_name,
       TO_NUMBER(NULL),
       TO_NUMBER(NULL),
       'TOP 200' tablespace_name,
       st.segments,
       st.extents,
       st.blocks,
       st.bytes,
       st.segments_perc,
       st.extents_perc,
       st.blocks_perc,
       st.bytes_perc,
       TO_NUMBER(NULL) bytes_perc_cum
  FROM top_200_totals st
 UNION ALL
SELECT TO_NUMBER(NULL) rank,
       NULL segment_type,
	   --NULL con_id,
       NULL owner,
       NULL segment_name,
       TO_NUMBER(NULL),
       TO_NUMBER(NULL),
       'TOTAL' tablespace_name,
       t.segments,
       t.extents,
       t.blocks,
       t.bytes,
       100 segemnts_perc,
       100 extents_perc,
       100 blocks_perc,
       100 bytes_perc,
       TO_NUMBER(NULL) bytes_perc_cum
  FROM totals t) v
  --LEFT OUTER JOIN v$containers c ON c.con_id = v.con_id

09:33:35 2b.143
Elapsed Hours so far:    0.070
Elapsed Hours so far: .07

Decorrido: 00:00:00.02

09:33:35 2b "00151_edb360_135990_2b_143_largest_200_objects.html"
Elapsed Hours so far:    0.071

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:37 2b "Storage"
09:33:37 Column Usage of 100 Largest Tables

WITH k as (
SELECT owner, name, column_position, column_name
,      'Partition' partitioning_level
FROM   DBA_part_key_columns
WHERE  object_type = 'TABLE'
AND    owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
AND    owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
UNION ALL
SELECT owner, name, column_position, column_name
,      'Subpartition'
FROM   DBA_subpart_key_columns
WHERE  object_type = 'TABLE'
AND    owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
AND    owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
), c AS (
SELECT c.owner, c.table_name
,      c.column_id, c.column_name, c.num_distinct, c.num_nulls
,      u.EQUALITY_PREDS
,      u.EQUIJOIN_PREDS
,      u.NONEQUIJOIN_PREDS
,      u.RANGE_PREDS
,      u.LIKE_PREDS
,      u.NULL_PREDS
,      u.TIMESTAMP
FROM   DBA_objects o
,      DBA_tab_columns c
,      sys.col_usage$ u
WHERE  o.object_type = 'TABLE'
AND    o.owner = c.owner
AND    o.object_name = c.table_name
AND    u.obj# = o.object_id
AND    u.intcol# = c.column_id
AND    o.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
AND    o.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
), x as (
SELECT dense_rank() over (order by t.blocks desc, t.owner, t.table_name) ranking
,      t.owner, t.table_name
,      c.column_id, c.column_name
,      k.partitioning_level
,      CASE WHEN k.partitioning_level = 'Partition'    THEN    p.partitioning_type
            WHEN k.partitioning_level = 'Subpartition' THEN p.subpartitioning_type
            WHEN p.table_name IS NULL                  THEN 'None'
       END as partitioning_type
,      k.column_position
,      t.blocks, t.num_rows
,      c.num_distinct, c.num_nulls
,      c.EQUALITY_PREDS
,      c.EQUIJOIN_PREDS
,      c.NONEQUIJOIN_PREDS
,      c.RANGE_PREDS
,      c.LIKE_PREDS
,      c.NULL_PREDS
,      c.TIMESTAMP
FROM   DBA_tables t
  LEFT OUTER JOIN DBA_part_tables p
    ON p.owner = t.owner
   AND p.table_name = t.table_name
  LEFT OUTER JOIN c
    ON c.owner = t.owner
   AND c.table_name = t.table_name
  LEFT OUTER JOIN k
    ON k.owner = c.owner
   AND k.name = c.table_name
   AND k.column_name = c.column_name
WHERE  t.blocks>0
AND    t.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
AND    t.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
)
SELECT x.*
from x
where ranking <= 100
ORDER BY 1,2,3,4

09:33:37 2b.144
Elapsed Hours so far:    0.071
Elapsed Hours so far: .071

Decorrido: 00:00:00.01

09:33:38 2b "00152_edb360_135990_2b_144_column_usage_of_100_largest_tables.html"
Elapsed Hours so far:    0.072

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:41 2b "Storage"
09:33:41 Tables with one extent and no rows

-- requested by David Kurtz--performance fix 25.10.2021
WITH s AS (
SELECT  /*+ MATERIALIZE*/ s.owner, s.segment_name, s.tablespace_name, s.blocks
--,s.con_id
FROM    dba_segments s
WHERE   s.owner not in ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
AND     s.owner not in ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
and     s.segment_type = 'TABLE'
and     s.extents =  1
and     s.partition_name IS NULL
)
SELECT  --t.con_id,
		t.owner, t.table_name, t.tablespace_name, t.num_rows, t.blocks hwm_blocks, t.last_analyzed, s.blocks seg_blocks
		--,c.name con_name
FROM    dba_tables t
        --LEFT OUTER JOIN v$containers c ON c.con_id = t.con_id
,       s
WHERE   'Y' = 'Y'
AND     t.owner not in ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
AND     t.owner not in ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
--AND     t.con_id = s.con_id
AND     t.owner = s.owner
AND     t.table_name = s.segment_name
AND     t.tablespace_name = s.tablespace_name
AND     t.segment_created = 'YES'
AND     (  t.num_rows = 0
        OR t.num_rows IS NULL
        )
ORDER BY
        --t.con_id,
        t.owner, t.table_name

09:33:41 2b.145
Elapsed Hours so far:    0.072
Elapsed Hours so far: .072

Decorrido: 00:00:00.02

09:33:42 2b "00153_edb360_135990_2b_145_tables_with_one_extent_and_no_rows.html"
Elapsed Hours so far:    0.072

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:43 2b "Storage"
09:33:43 Partitions with one extent and no rows

-- requested by David Kurtz
SELECT  /* LEADING(T) USE_NL(S) */ -- removed hint as per Luis Calvo
        --t.con_id,
        t.table_owner, t.table_name, t.partition_name, t.tablespace_name, t.num_rows, t.blocks hwm_blocks, t.last_analyzed, s.blocks seg_blocks
        --,c.name con_name
FROM    dba_tab_partitions t
        --LEFT OUTER JOIN v$containers c ON c.con_id = t.con_id
,       dba_segments s
WHERE   'Y' = 'Y'
AND     t.table_owner not in ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
AND     t.table_owner not in ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
AND     s.segment_type = 'TABLE PARTITION'
--AND     t.con_id = s.con_id
AND     t.table_owner = s.owner
AND     t.table_name = s.segment_name
AND     t.tablespace_name = s.tablespace_name
AND     t.partition_name = s.partition_name
AND     t.segment_created = 'YES'
AND     (  t.num_rows = 0
        OR t.num_rows IS NULL
        )
AND     s.extents =  1
ORDER BY
        --t.con_id,
        t.table_owner, t.table_name, t.partition_name

09:33:43 2b.146
Elapsed Hours so far:    0.072
Elapsed Hours so far: .072

Decorrido: 00:00:00.01

09:33:43 2b "00154_edb360_135990_2b_146_partitions_with_one_extent_and_no_rows.html"
Elapsed Hours so far:    0.073

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:44 2b "Storage"
09:33:44 Subpartitions with one extent and no rows

-- requested by David Kurtz
SELECT  /* LEADING(T) USE_NL(S) */ -- removed hint as per Luis Calvo
        --t.con_id,
        t.table_owner, t.table_name, t.partition_name, t.subpartition_name, t.tablespace_name, t.num_rows, t.blocks hwm_blocks, t.last_analyzed, s.blocks seg_blocks
FROM    dba_tab_subpartitions t
        --LEFT OUTER JOIN v$containers c ON c.con_id = t.con_id
,       dba_segments s
WHERE   'Y' = 'Y'
AND     t.table_owner not in ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
AND     t.table_owner not in ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
AND     s.segment_type = 'TABLE SUBPARTITION'
--AND     t.con_id = s.con_id
AND     t.table_owner = s.owner
AND     t.table_name = s.segment_name
AND     t.subpartition_name = s.partition_name
AND     t.tablespace_name = s.tablespace_name
AND     t.segment_created = 'YES'
AND     (  t.num_rows = 0
        OR t.num_rows IS NULL
        )
AND     s.extents =  1
ORDER BY
        --t.con_id,
        t.table_owner, t.table_name, t.partition_name, t.subpartition_name

09:33:44 2b.147
Elapsed Hours so far:    0.073
Elapsed Hours so far: .073

Decorrido: 00:00:00.02

09:33:45 2b "00155_edb360_135990_2b_147_subpartitions_with_one_extent_and_no_rows.html"
Elapsed Hours so far:    0.073

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:46 2b "Storage"
09:33:46 Tables and their indexes larger than 1 GB

WITH
tables AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.148 */
       --con_id,
       owner,
       segment_name,
       SUM(bytes) bytes,
       COUNT(*) segments
  FROM dba_segments
 WHERE 'Y' = 'Y'
   AND segment_type LIKE 'TABLE%'
GROUP BY
       --con_id,
       owner,
       segment_name
),
indexes AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.148 */
       --con_id,
       owner,
       segment_name,
       SUM(bytes) bytes,
       COUNT(*) segments
  FROM dba_segments
 WHERE 'Y' = 'Y'
   AND segment_type LIKE 'INDEX%'
GROUP BY
       --con_id,
       owner,
       segment_name
),
idx_tbl AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.148 */
       --d.con_id,
       d.table_owner,
       d.table_name,
       SUM(i.bytes) bytes,
       SUM(i.segments) segments
  FROM indexes i,
       dba_indexes d
WHERE i.owner = d.owner
  --AND i.con_id = d.con_id
  AND i.segment_name = d.index_name
GROUP BY
       --d.con_id,
       d.table_owner,
       d.table_name
),
total AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.148 */
       --t.con_id,
       t.owner,
       t.segment_name table_name,
       (t.bytes + NVL(i.bytes, 0)) bytes,
       t.bytes table_bytes,
       NVL(i.bytes, 0) indexes_bytes,
       (t.segments + NVL(i.segments, 0)) segs,
       t.segments tab_segs,
       NVL(i.segments, 0) idx_segs
  FROM tables t,
       idx_tbl i
WHERE t.owner = i.table_owner(+)
   --AND t.con_id = i.con_id(+)
   AND t.segment_name = i.table_name(+)
)
SELECT --con_id,
       owner,
       table_name,
       ROUND(bytes / POWER(10,9), 3) total_gb,
       ROUND(table_bytes / POWER(10,9), 3) table_gb,
       ROUND(indexes_bytes / POWER(10,9), 3) indexes_gb,
       segs,
       tab_segs,
       idx_segs
  FROM total
WHERE bytes > POWER(10,9)
ORDER BY
       bytes DESC NULLS LAST

09:33:46 2b.148
Elapsed Hours so far:    0.073
Elapsed Hours so far: .073

Decorrido: 00:00:00.02

09:33:47 2b "00156_edb360_135990_2b_148_tables_and_their_indexes_larger_than_1_gb.html"
Elapsed Hours so far:    0.074

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:48 2b "Storage"
09:33:48 Indexes larger than their Table

WITH
tables AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.149 */
       --con_id,
       owner,
       segment_name,
       SUM(bytes) bytes
  FROM dba_segments
 WHERE 'Y' = 'Y'
   AND segment_type LIKE 'TABLE%'
GROUP BY
       --con_id,
       owner,
       segment_name
),
indexes AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.149 */
       --con_id,
       owner,
       segment_name,
       SUM(bytes) bytes
  FROM dba_segments
 WHERE 'Y' = 'Y'
   AND segment_type LIKE 'INDEX%'
GROUP BY
       --con_id,
       owner,
       segment_name
),
idx_tbl AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.149 */
       --d.con_id,
       d.table_owner,
       d.table_name,
       d.owner,
       d.index_name,
       SUM(i.bytes) bytes
  FROM indexes i,
       dba_indexes d
WHERE i.owner = d.owner
   --AND i.con_id = d.con_id
   AND i.segment_name = d.index_name
GROUP BY
       --d.con_id,
       d.table_owner,
       d.table_name,
       d.owner,
       d.index_name
),
total AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2b.149 */
       --t.con_id,
       t.owner table_owner,
       t.segment_name table_name,
       t.bytes t_bytes,
       i.owner index_owner,
       i.index_name,
       i.bytes i_bytes
  FROM tables t,
       idx_tbl i
WHERE t.owner = i.table_owner
   --AND t.con_id = i.con_id
   AND t.segment_name = i.table_name
   AND i.bytes > t.bytes
   AND t.bytes > POWER(10,7) /* 10M */
)
SELECT --con_id,
       table_owner,
       table_name,
       ROUND(t_bytes / POWER(10,9), 3) table_gb,
       index_owner,
       index_name,
       ROUND(i_bytes / POWER(10,9), 3) index_gb,
       ROUND((i_bytes - t_bytes) / POWER(10,9), 3) dif_gb,
       ROUND(100 * (i_bytes - t_bytes) / t_bytes, 1) dif_perc
  FROM total
ORDER BY
       --con_id,
      table_owner,
       table_name,
       index_owner,
       index_name

09:33:48 2b.149
Elapsed Hours so far:    0.074
Elapsed Hours so far: .074

Decorrido: 00:00:00.02

09:33:48 2b "00157_edb360_135990_2b_149_indexes_larger_than_their_table.html"
Elapsed Hours so far:    0.074

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:49 2b "Storage"
09:33:49 Temporary Segments in Permanent Tablespaces

-- http://askdba.org/weblog/2009/07/cleanup-temporary-segments-in-permanent-tablespace/
SELECT /*+  NO_MERGE  */ /* 2b.150 */
tablespace_name, owner, segment_name,
ROUND(sum(bytes/POWER(10,6))) mega_bytes
from dba_segments
where 'Y' = 'Y'
and segment_type = 'TEMPORARY'
group by tablespace_name, owner, segment_name
having ROUND(sum(bytes/POWER(10,6))) > 0
order by tablespace_name, owner, segment_name

09:33:49 2b.150
Elapsed Hours so far:    0.074
Elapsed Hours so far: .074

Decorrido: 00:00:00.02

09:33:50 2b "00158_edb360_135990_2b_150_temporary_segments_in_permanent_tablespaces.html"
Elapsed Hours so far:    0.075

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:51 2b "Storage"
09:33:51 Segments in Reserved Tablespaces

-- provided by Simon Pane
WITH x AS (
SELECT /*+  NO_MERGE  */ /* 2b.151 */
       --s.con_id,
	   s.owner, s.segment_type, s.tablespace_name, COUNT(1) segments
  FROM dba_segments s
 WHERE 'Y' = 'Y'
   AND s.owner NOT IN ('SYS','SYSTEM','OUTLN','AURORA$JIS$UTILITY$','OSE$HTTP$ADMIN','ORACACHE','ORDSYS',
                       'CTXSYS','DBSNMP','DMSYS','EXFSYS','MDSYS','OLAPSYS','SYSMAN','TSMSYS','WMSYS','XDB',
                       'GSMADMIN_INTERNAL'
                      )
   AND s.tablespace_name IN ('SYSTEM','SYSAUX','TEMP','TEMPORARY','RBS','ROLLBACK','ROLLBACKS','RBSEGS')
   AND s.tablespace_name NOT IN (SELECT tablespace_name
                                   FROM dba_tablespaces
                                  WHERE contents IN ('UNDO','TEMPORARY')
                                )
   AND s.owner not in ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND s.owner not in ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 GROUP BY --s.con_id,
          s.owner, s.segment_type, s.tablespace_name
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY --x.con_id,
          x.owner, x.segment_type, x.tablespace_name

09:33:51 2b.151
Elapsed Hours so far:    0.075
Elapsed Hours so far: .075

Decorrido: 00:00:00.01

09:33:51 2b "00159_edb360_135990_2b_151_segments_in_reserved_tablespaces.html"
Elapsed Hours so far:    0.075

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:52 2b "Storage"
09:33:52 Segment Shrink Recommendations

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 2b.152 */
       *
FROM TABLE(dbms_space.asa_recommendations())
Where segment_owner not in ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS') and
   segment_owner not in ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
order by reclaimable_space desc

09:33:52 2b.152
Elapsed Hours so far:    0.075
Elapsed Hours so far: .075

Decorrido: 00:00:00.02

09:33:53 2b "00160_edb360_135990_2b_152_segment_shrink_recommendations.html"
Elapsed Hours so far:    0.076

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:54 2b "Storage"
09:33:54 Objects in Recycle Bin

-- requested by Milton Quinteros
SELECT /*+  NO_MERGE  */ /* 2b.153 */
       x.*
	   --,c.name con_name
  FROM dba_recyclebin x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND x.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 ORDER BY
       --x.con_id,
	   x.owner,
       x.object_name

09:33:54 2b.153
Elapsed Hours so far:    0.076
Elapsed Hours so far: .076

Decorrido: 00:00:00.02

09:33:55 2b "00161_edb360_135990_2b_153_objects_in_recycle_bin.html"
Elapsed Hours so far:    0.076

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:55 2b "Storage"
09:33:55 Consumers of Recycle Bin

-- requested by Dimas Chbane
WITH x AS (
SELECT /*+  NO_MERGE  */ /* 2b.154 */
       --r.con_id,
	   ROUND(SUM(r.space * t.block_size) / POWER(10,6)) mb_space,
       r.owner
  FROM dba_recyclebin r,
       dba_tablespaces t
 WHERE r.ts_name = t.tablespace_name
   --AND r.con_id = t.con_id
 GROUP BY
       --r.con_id,
	   r.owner
HAVING ROUND(SUM(r.space * t.block_size) / POWER(10,6)) > 0
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       1 DESC, 2

09:33:55 2b.154
Elapsed Hours so far:    0.076
Elapsed Hours so far: .076

Decorrido: 00:00:00.02

09:33:56 2b "00162_edb360_135990_2b_154_consumers_of_recycle_bin.html"
Elapsed Hours so far:    0.077

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:33:58 2b "Storage"
09:33:58 Tables with excessive wasted space

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
WITH x AS (
SELECT /*+  NO_MERGE  */ /* 2b.156 */
      (ROUND(SUM(s.blocks) * x.block_size / POWER(10,6))) -
      (ROUND(SUM(s.num_rows) * MAX(s.avg_row_len) * (1+(t.pct_free/100)) * DECODE(t.compression,'ENABLED',0.50,1.00) / POWER(10,6))) over_allocated_mb,
      --t.con_id,
      t.owner, t.table_name, SUM(s.blocks), x.block_size, t.pct_free,
      ROUND(SUM(s.blocks) * x.block_size / POWER(10,6)) actual_mb,
      ROUND(SUM(s.num_rows) * MAX(s.avg_row_len) * (1+(t.pct_free/100)) * DECODE(t.compression,'ENABLED',0.50,1.00) / POWER(10,6)) estimate_mb,
      SUM(s.num_rows), MAX(s.avg_row_len), t.compression
from  dba_tables t,
      dba_tab_statistics s,
      dba_tablespaces x
where s.owner = t.owner
--and   s.con_id = t.con_id
and   s.table_name = t.table_name
--and   x.con_id = t.con_id
and   x.tablespace_name = t.tablespace_name
and   t.owner not in ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
and   t.owner not in ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
group by
      --t.con_id,
   t.owner, t.table_name, x.block_size, t.pct_free, t.compression
having
   (SUM(s.blocks) * x.block_size / POWER(10,6)) >= 100 and -- actual_mb
      abs(ROUND(SUM(s.blocks) * x.block_size / POWER(10,6)) - ROUND(SUM(s.num_rows) * MAX(s.avg_row_len) * (1+(t.pct_free/100)) * DECODE(t.compression,'ENABLED',0.50,1.00) / POWER(10,6))) /
      (ROUND(SUM(s.blocks) * x.block_size / POWER(10,6))) >= 0.25
	  )
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       1 desc,
	   --x.con_id,
       x.owner, x.table_name

09:33:58 2b.156
Elapsed Hours so far:    0.077
Elapsed Hours so far: .077

Decorrido: 00:00:00.02

09:33:59 2b "00164_edb360_135990_2b_156_tables_with_excessive_wasted_space.html"
Elapsed Hours so far:    0.079

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:05 2b "Storage"
09:34:05 Tables over 10GB and no partitions

Select /*+  NO_MERGE  */ /* 2b.158 */
       t.owner, t.table_name, t.blocks, s.block_size, t.blocks*s.block_size bytes,
       Case When t.blocks*s.block_size between 1024*1024*1024      and 1024*1024*1024*1024-1
                 Then to_char(round(t.blocks*s.block_size /1024/1024/1024          ),'9999') ||' Gb'
            When t.blocks*s.block_size between 1024*1024*1024      and 1024*1024*1024*1024*1024-1
                 Then to_char(round(t.blocks*s.block_size /1024/1024/1024/1024     ),'9999') ||' Tb'
            When t.blocks*s.block_size between 1024*1024*1024*1024 and 1024*1024*1024*1024*1024*1024-1
                 Then to_char(round(t.blocks*s.block_size /1024/1024/1024/1024/1024),'9999') ||' Pb'
       Else To_char(t.blocks*s.block_size) End  display
From   dba_tables t, dba_tablespaces s
Where  t.tablespace_name = s.tablespace_name
And    t.blocks*s.block_size > 10*1024*1024*1024
And    t.partitioned='NO'
And    t.owner Not In ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
And    t.owner Not In ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
order by blocks desc

09:34:05 2b.158
Elapsed Hours so far:    0.079
Elapsed Hours so far: .079

Decorrido: 00:00:00.02

09:34:06 2b "00166_edb360_135990_2b_158_tables_over_10gb_and_no_partitions.html"
Elapsed Hours so far:    0.079

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:07 2c "Automatic Storage Management (ASM)"
09:34:07 ASM Attributes

SELECT /*+  NO_MERGE  */ /* 2c.159 */
       *
  FROM v$asm_attribute
 ORDER BY
       1, 2

09:34:07 2c.159
Elapsed Hours so far:    0.079
Elapsed Hours so far: .079

Decorrido: 00:00:00.02

09:34:07 2c "00167_edb360_135990_2c_159_asm_attributes.html"
Elapsed Hours so far:    0.079

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:08 2c "Automatic Storage Management (ASM)"
09:34:08 ASM Client

SELECT /*+  NO_MERGE  */ /* 2c.160 */
       *
  FROM v$asm_client
 ORDER BY
       1, 2

09:34:08 2c.160
Elapsed Hours so far:    0.079
Elapsed Hours so far: .079

Decorrido: 00:00:00.02

09:34:09 2c "00168_edb360_135990_2c_160_asm_client.html"
Elapsed Hours so far:    0.080

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:09 2c "Automatic Storage Management (ASM)"
09:34:09 ASM Template

SELECT /*+  NO_MERGE  */ /* 2c.161 */
       *
  FROM v$asm_template
 ORDER BY
       1, 2

09:34:09 2c.161
Elapsed Hours so far:    0.080
Elapsed Hours so far: .08

Decorrido: 00:00:00.02

09:34:10 2c "00169_edb360_135990_2c_161_asm_template.html"
Elapsed Hours so far:    0.080

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:11 2c "Automatic Storage Management (ASM)"
09:34:11 ASM Disk Group

SELECT /*+  NO_MERGE  */ /* 2c.162 */
       *
  FROM v$asm_diskgroup
 ORDER BY
       1, 2

09:34:11 2c.162
Elapsed Hours so far:    0.080
Elapsed Hours so far: .08

Decorrido: 00:00:00.02

09:34:11 2c "00170_edb360_135990_2c_162_asm_disk_group.html"
Elapsed Hours so far:    0.080

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:12 2c "Automatic Storage Management (ASM)"
09:34:12 ASM Disk Group Stat

SELECT /*+  NO_MERGE  */ /* 2c.163 */
       *
  FROM v$asm_diskgroup_stat
 ORDER BY
       1, 2

09:34:12 2c.163
Elapsed Hours so far:    0.080
Elapsed Hours so far: .081

Decorrido: 00:00:00.01

09:34:13 2c "00171_edb360_135990_2c_163_asm_disk_group_stat.html"
Elapsed Hours so far:    0.081

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:13 2c "Automatic Storage Management (ASM)"
09:34:13 ASM Disk

SELECT /*+  NO_MERGE  */ /* 2c.164 */
       *
  FROM v$asm_disk
 ORDER BY
       1, 2

09:34:13 2c.164
Elapsed Hours so far:    0.081
Elapsed Hours so far: .081

Decorrido: 00:00:00.02

09:34:14 2c "00172_edb360_135990_2c_164_asm_disk.html"
Elapsed Hours so far:    0.081

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:15 2c "Automatic Storage Management (ASM)"
09:34:15 ASM Disk Stat

SELECT /*+  NO_MERGE  */ /* 2c.165 */
       *
  FROM v$asm_disk_stat
 ORDER BY
       1, 2

09:34:15 2c.165
Elapsed Hours so far:    0.081
Elapsed Hours so far: .081

Decorrido: 00:00:00.02

09:34:15 2c "00173_edb360_135990_2c_165_asm_disk_stat.html"
Elapsed Hours so far:    0.082

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:16 2c "Automatic Storage Management (ASM)"
09:34:16 ASM Disk IO Stats

SELECT /*+  NO_MERGE  */ /* 2c.166 */
       *
  FROM gv$asm_disk_iostat
 ORDER BY
       1, 2, 3, 4, 5

09:34:16 2c.166
Elapsed Hours so far:    0.082
Elapsed Hours so far: .082

Decorrido: 00:00:00.01

09:34:17 2c "00174_edb360_135990_2c_166_asm_disk_io_stats.html"
Elapsed Hours so far:    0.082

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:18 2c "Automatic Storage Management (ASM)"
09:34:18 ASM File

SELECT /*+  NO_MERGE  */ /* 2c.167 */
       *
  FROM v$asm_file

09:34:18 2c.167
Elapsed Hours so far:    0.082
Elapsed Hours so far: .082

Decorrido: 00:00:00.01

09:34:18 2c "00175_edb360_135990_2c_167_asm_file.html"
Elapsed Hours so far:    0.083

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:20 2c "Automatic Storage Management (ASM)"
09:34:20 Files Count per Disk Group

select /*+  NO_MERGE  */ /* 2c.168 */
count(*) files, name disk_group, 'Datafile' file_type
from
(select regexp_substr(name, '[^/]+', 1, 1) name from v$datafile)
group by name
union all
select count(*) files, name disk_group, 'Tempfile' file_type
from
(select regexp_substr(name, '[^/]+', 1, 1) name from v$tempfile)
group by name
order by 1 desc, 2, 3

09:34:20 2c.168
Elapsed Hours so far:    0.083
Elapsed Hours so far: .083

Decorrido: 00:00:00.02

09:34:20 2c "00176_edb360_135990_2c_168_files_count_per_disk_group.html"
Elapsed Hours so far:    0.083

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:21 2c "Automatic Storage Management (ASM)"
09:34:21 Data and Temp Files Count per Disk Group

select /*+  NO_MERGE  */ /* 2c.169 */
count(*) files, name disk_group
from
(select regexp_substr(name, '[^/]+', 1, 1) name from v$datafile
union all
select regexp_substr(name, '[^/]+', 1, 1) name from v$tempfile)
group by name
order by 1 desc

09:34:21 2c.169
Elapsed Hours so far:    0.083
Elapsed Hours so far: .083

Decorrido: 00:00:00.02

09:34:22 2c "00177_edb360_135990_2c_169_data_and_temp_files_count_per_disk_group.html"
Elapsed Hours so far:    0.084

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:23 2d "Backup and Recovery"
09:34:23 Block Corruption

SELECT /*+  NO_MERGE  */ /* 2d.171 */
       *
  FROM v$database_block_corruption

09:34:23 2d.171
Elapsed Hours so far:    0.084
Elapsed Hours so far: .084

Decorrido: 00:00:00.01

09:34:24 2d "00179_edb360_135990_2d_171_block_corruption.html"
Elapsed Hours so far:    0.084

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:25 2d "Backup and Recovery"
09:34:25 Block Change Tracking

SELECT /*+  NO_MERGE  */ /* 2d.172 */
       *
  FROM v$block_change_tracking

09:34:25 2d.172
Elapsed Hours so far:    0.084
Elapsed Hours so far: .084

Decorrido: 00:00:00.02

09:34:25 2d "00180_edb360_135990_2d_172_block_change_tracking.html"
Elapsed Hours so far:    0.084

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:26 2d "Backup and Recovery"
09:34:26 RMAN Backup Job Details

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 2d.173 */
       *
  FROM v$rman_backup_job_details
 --WHERE start_time >= (SYSDATE - 100)
 ORDER BY
       start_time DESC

09:34:26 2d.173
Elapsed Hours so far:    0.084
Elapsed Hours so far: .084

Decorrido: 00:00:00.01

09:34:27 2d "00181_edb360_135990_2d_173_rman_backup_job_details.html"
Elapsed Hours so far:    0.085

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:28 2d "Backup and Recovery"
09:34:28 RMAN Backup Set Details

SELECT /*+  NO_MERGE  */ /* 2d.174 */
       *
  FROM v$backup_set_details
 ORDER BY
       1, 2, 3, 4, 5

09:34:28 2d.174
Elapsed Hours so far:    0.085
Elapsed Hours so far: .085

Decorrido: 00:00:00.03

09:34:29 2d "00182_edb360_135990_2d_174_rman_backup_set_details.html"
Elapsed Hours so far:    0.085

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:30 2d "Backup and Recovery"
09:34:30 RMAN Output

SELECT /*+  NO_MERGE  */ /* 2d.175 */
       *
  FROM v$rman_output

09:34:30 2d.175
Elapsed Hours so far:    0.086
Elapsed Hours so far: .086

Decorrido: 00:00:00.02

09:34:31 2d "00183_edb360_135990_2d_175_rman_output.html"
Elapsed Hours so far:    0.089

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:43 2d "Backup and Recovery"
09:34:43 RMAN Backup Summary

  -- requested by David Loinaz
WITH list AS (SELECT /*+  NO_MERGE  */ /* 2d.176 */ session_stamp,
               CASE WHEN backup_type = 'D' then
                     CASE WHEN CONTROLFILE_INCLUDED = 'YES' then
                        'CONTROLFILE'
                     ELSE
                        'FULL'
                     END
                   WHEN backup_type = 'I' THEN
                     CASE INCREMENTAL_LEVEL WHEN 0 then
                        'INC LEVEL 0'
                     ELSE
                        'INC LEVEL 1'
                     END
                    WHEN backup_type = 'L' then
                     'ARCHIVELOG'
               END BACKUP_TYPE,
               start_time, completion_time, output_bytes
              FROM v$backup_set_details
              ORDER BY 1),
       bck AS (SELECT /*+  NO_MERGE  */ /* 2d.176 */ session_stamp, backup_type, min(start_time) start_time,
                  max(completion_time) completion_time, sum(output_bytes) output_bytes, count(1) CNT
               FROM list
               GROUP BY session_stamp, backup_type
               ORDER BY session_stamp, start_time)
SELECT /*+  NO_MERGE  */ /* 2d.176 */
        session_stamp, backup_type,
        decode(to_char(start_time, 'd'), 1, 'Sunday', 2, 'Monday',
                                         3, 'Tuesday', 4, 'Wednesday',
                                         5, 'Thursday', 6, 'Friday',
                                         7, 'Saturday') dow,
        start_time, completion_time, output_bytes,
        CASE
          WHEN output_bytes BETWEEN 0 AND 1023 THEN output_bytes ||' Bytes'
          WHEN output_bytes < POWER(1024,2) THEN ROUND(output_bytes / 1024,2) ||' KB'
          WHEN output_bytes < POWER(1024,3) THEN ROUND(output_bytes / POWER(1024,2),2) ||' MB'
          WHEN output_bytes < POWER(1024,4) THEN ROUND(output_bytes / POWER(1024,3),2) ||' GB'
          WHEN output_bytes < POWER(1024,5) THEN ROUND(output_bytes / POWER(1024,4),2) ||' TB'
          WHEN output_bytes < POWER(1024,6) THEN ROUND(output_bytes / POWER(1024,5),2) ||' PB'
          WHEN output_bytes < POWER(1024,7) THEN ROUND(output_bytes / POWER(1024,6),2) ||' EB'
          WHEN output_bytes < POWER(1024,8) THEN ROUND(output_bytes / POWER(1024,7),2) ||' ZB'
          WHEN output_bytes < POWER(1024,9) THEN ROUND(output_bytes / POWER(1024,8),2) ||' YB'
         ELSE
          'Invalid value for bytes'
         END "Output Size", cnt "Set Count"
FROM bck

09:34:43 2d.176
Elapsed Hours so far:    0.089
Elapsed Hours so far: .089

Decorrido: 00:00:00.02

09:34:44 2d "00184_edb360_135990_2d_176_rman_backup_summary.html"
Elapsed Hours so far:    0.090

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:45 2d "Backup and Recovery"
09:34:45 Fast Recovery Area

SELECT /*+  NO_MERGE  */ /* 2d.177 */
       *
  FROM v$recovery_file_dest

09:34:45 2d.177
Elapsed Hours so far:    0.090
Elapsed Hours so far: .09

Decorrido: 00:00:00.02

09:34:45 2d "00185_edb360_135990_2d_177_fast_recovery_area.html"
Elapsed Hours so far:    0.090

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:46 2d "Backup and Recovery"
09:34:46 Fast Recovery Area Usage

SELECT /*+  NO_MERGE  */ /* 2d.178 */
       *
  FROM v$recovery_area_usage

09:34:46 2d.178
Elapsed Hours so far:    0.090
Elapsed Hours so far: .09

Decorrido: 00:00:00.01

09:34:46 2d "00186_edb360_135990_2d_178_fast_recovery_area_usage.html"
Elapsed Hours so far:    0.090

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:47 2d "Backup and Recovery"
09:34:47 Restore Point

SELECT /*+  NO_MERGE  */ /* 2d.179 */
       *
  FROM v$restore_point

09:34:47 2d.179
Elapsed Hours so far:    0.090
Elapsed Hours so far: .09

Decorrido: 00:00:00.01

09:34:48 2d "00187_edb360_135990_2d_179_restore_point.html"
Elapsed Hours so far:    0.091

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:51 2d "Backup and Recovery"
09:34:51 Flashback Statistics

SELECT /*+  NO_MERGE  */ /* 2d.180 */
       *
  FROM gv$flashback_database_stat

09:34:51 2d.180
Elapsed Hours so far:    0.091
Elapsed Hours so far: .091

Decorrido: 00:00:00.02

09:34:52 2d "00188_edb360_135990_2d_180_flashback_statistics.html"
Elapsed Hours so far:    0.092

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:52 2d "Backup and Recovery"
09:34:52 Flashback Log

SELECT /*+  NO_MERGE  */ /* 2d.181 */
       *
  FROM gv$flashback_database_log

09:34:52 2d.181
Elapsed Hours so far:    0.092
Elapsed Hours so far: .092

Decorrido: 00:00:00.02

09:34:53 2d "00189_edb360_135990_2d_181_flashback_log.html"
Elapsed Hours so far:    0.092

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:54 2d "Backup and Recovery"
09:34:54 REDO LOG

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 2d.182 */
     *
  FROM v$log
 ORDER BY 1, 2, 3, 4

09:34:54 2d.182
Elapsed Hours so far:    0.092
Elapsed Hours so far: .092

Decorrido: 00:00:00.02

09:34:54 2d "00190_edb360_135990_2d_182_redo_log.html"
Elapsed Hours so far:    0.092

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:55 2d "Backup and Recovery"
09:34:55 REDO LOG Files

SELECT /*+  NO_MERGE  */ /* 2d.183 */
     *
  FROM v$logfile
 ORDER BY 1, 2, 3, 4

09:34:55 2d.183
Elapsed Hours so far:    0.092
Elapsed Hours so far: .092

Decorrido: 00:00:00.02

09:34:56 2d "00191_edb360_135990_2d_183_redo_log_files.html"
Elapsed Hours so far:    0.093

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:56 2d "Backup and Recovery"
09:34:56 REDO LOG History

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 2d.184 */
 THREAD#, TO_CHAR(trunc(FIRST_TIME), 'YYYY-MON-DD') day, count(*)
FROM v$log_history
where FIRST_TIME >= (sysdate - 31)
group by rollup(THREAD#, trunc(FIRST_TIME))
order by THREAD#, trunc(FIRST_TIME)

09:34:56 2d.184
Elapsed Hours so far:    0.093
Elapsed Hours so far: .093

Decorrido: 00:00:00.02

09:34:57 2d "00192_edb360_135990_2d_184_redo_log_history.html"
Elapsed Hours so far:    0.093

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:58 2d "Backup and Recovery"
09:34:58 REDO LOG Switches Frequency Map

-- requested by Weidong
WITH
log AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2d.185 */
       thread#,
       TO_CHAR(TRUNC(first_time), 'YYYY-MM-DD') yyyy_mm_dd,
       TO_CHAR(TRUNC(first_time), 'Dy') day,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '00', 1, 0)) h00,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '01', 1, 0)) h01,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '02', 1, 0)) h02,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '03', 1, 0)) h03,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '04', 1, 0)) h04,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '05', 1, 0)) h05,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '06', 1, 0)) h06,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '07', 1, 0)) h07,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '08', 1, 0)) h08,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '09', 1, 0)) h09,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '10', 1, 0)) h10,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '11', 1, 0)) h11,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '12', 1, 0)) h12,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '13', 1, 0)) h13,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '14', 1, 0)) h14,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '15', 1, 0)) h15,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '16', 1, 0)) h16,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '17', 1, 0)) h17,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '18', 1, 0)) h18,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '19', 1, 0)) h19,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '20', 1, 0)) h20,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '21', 1, 0)) h21,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '22', 1, 0)) h22,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '23', 1, 0)) h23,
       COUNT(*) per_day
  FROM v$log_history
 GROUP BY
       thread#,
       TRUNC(first_time)
 ORDER BY
       thread#,
       TRUNC(first_time) DESC NULLS LAST
),
ordered_log AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2d.185 */
       ROWNUM row_num_noprint, log.*
  FROM log
),
min_set AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2d.185 */
       thread#,
       MIN(row_num_noprint) min_row_num
  FROM ordered_log
 GROUP BY
       thread#
)
SELECT /*+  NO_MERGE  */ /* 2d.185 */
       log.*
  FROM ordered_log log,
       min_set ms
 WHERE log.thread# = ms.thread#
   AND log.row_num_noprint < ms.min_row_num + 14
 ORDER BY
       log.thread#,
       log.yyyy_mm_dd DESC

09:34:58 2d.185
Elapsed Hours so far:    0.093
Elapsed Hours so far: .093

Decorrido: 00:00:00.02

09:34:58 2d "00193_edb360_135990_2d_185_redo_log_switches_frequency_map.html"
Elapsed Hours so far:    0.094

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:34:59 2d "Backup and Recovery"
09:34:59 ARCHIVED LOG

SELECT *
  FROM v$archived_log

09:34:59 2d.186
Elapsed Hours so far:    0.094
Elapsed Hours so far: .094

Decorrido: 00:00:00.02

09:35:00 2d "00194_edb360_135990_2d_186_archived_log.html"
Elapsed Hours so far:    0.095

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:04 2d "Backup and Recovery"
09:35:04 ARCHIVED LOG Frequency Map per Thread

-- requested by Abdul Khan and Srinivas Kanaparthy
WITH
log AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2d.187 */
       --DISTINCT
       thread#,
       sequence#,
       first_time,
       blocks,
       block_size
  FROM v$archived_log
 WHERE first_time IS NOT NULL
),
log_denorm AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2d.187 */
       thread#,
       TO_CHAR(TRUNC(first_time), 'YYYY-MM-DD') yyyy_mm_dd,
       TO_CHAR(TRUNC(first_time), 'Dy') day,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '00', 1, 0)) h00,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '01', 1, 0)) h01,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '02', 1, 0)) h02,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '03', 1, 0)) h03,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '04', 1, 0)) h04,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '05', 1, 0)) h05,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '06', 1, 0)) h06,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '07', 1, 0)) h07,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '08', 1, 0)) h08,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '09', 1, 0)) h09,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '10', 1, 0)) h10,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '11', 1, 0)) h11,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '12', 1, 0)) h12,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '13', 1, 0)) h13,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '14', 1, 0)) h14,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '15', 1, 0)) h15,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '16', 1, 0)) h16,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '17', 1, 0)) h17,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '18', 1, 0)) h18,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '19', 1, 0)) h19,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '20', 1, 0)) h20,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '21', 1, 0)) h21,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '22', 1, 0)) h22,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '23', 1, 0)) h23,
       ROUND(SUM(blocks * block_size) / POWER(10,9), 1) TOT_GB,
       COUNT(*) cnt,
       ROUND(SUM(blocks * block_size) / POWER(10,9) / COUNT(*), 1) AVG_GB
  FROM log
 GROUP BY
       thread#,
       TRUNC(first_time)
 ORDER BY
       thread#,
       TRUNC(first_time) DESC
),
ordered_log AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2d.187 */
       ROWNUM row_num_noprint, log_denorm.*
  FROM log_denorm
),
min_set AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2d.187 */
       thread#,
       MIN(row_num_noprint) min_row_num
  FROM ordered_log
 GROUP BY
       thread#
)
SELECT /*+  NO_MERGE  */ /* 2d.187 */
       log.*
  FROM ordered_log log,
       min_set ms
 WHERE log.thread# = ms.thread#
   AND log.row_num_noprint < ms.min_row_num + 14
 ORDER BY
       log.thread#,
       log.yyyy_mm_dd DESC

09:35:04 2d.187
Elapsed Hours so far:    0.095
Elapsed Hours so far: .095

Decorrido: 00:00:00.02

09:35:04 2d "00195_edb360_135990_2d_187_archived_log_frequency_map_per_thread.html"
Elapsed Hours so far:    0.095

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:05 2d "Backup and Recovery"
09:35:05 ARCHIVED LOG Frequency Map per Cluster

WITH
log AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2d.188 */
       --DISTINCT
       thread#,
       sequence#,
       first_time,
       blocks,
       block_size
  FROM v$archived_log
 WHERE first_time IS NOT NULL
),
log_denorm AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2d.188 */
       TO_CHAR(TRUNC(first_time), 'YYYY-MM-DD') yyyy_mm_dd,
       TO_CHAR(TRUNC(first_time), 'Dy') day,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '00', 1, 0)) h00,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '01', 1, 0)) h01,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '02', 1, 0)) h02,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '03', 1, 0)) h03,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '04', 1, 0)) h04,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '05', 1, 0)) h05,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '06', 1, 0)) h06,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '07', 1, 0)) h07,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '08', 1, 0)) h08,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '09', 1, 0)) h09,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '10', 1, 0)) h10,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '11', 1, 0)) h11,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '12', 1, 0)) h12,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '13', 1, 0)) h13,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '14', 1, 0)) h14,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '15', 1, 0)) h15,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '16', 1, 0)) h16,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '17', 1, 0)) h17,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '18', 1, 0)) h18,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '19', 1, 0)) h19,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '20', 1, 0)) h20,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '21', 1, 0)) h21,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '22', 1, 0)) h22,
       SUM(DECODE(TO_CHAR(first_time, 'HH24'), '23', 1, 0)) h23,
       ROUND(SUM(blocks * block_size) / POWER(10,9), 1) TOT_GB,
       COUNT(*) cnt,
       ROUND(SUM(blocks * block_size) / POWER(10,9) / COUNT(*), 1) AVG_GB
  FROM log
 GROUP BY
       TRUNC(first_time)
 ORDER BY
       TRUNC(first_time) DESC
),
ordered_log AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2d.188 */
       ROWNUM row_num_noprint, log_denorm.*
  FROM log_denorm
),
min_set AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 2d.188 */
       MIN(row_num_noprint) min_row_num
  FROM ordered_log
)
SELECT /*+  NO_MERGE  */ /* 2d.188 */
       log.*
  FROM ordered_log log,
       min_set ms
 WHERE log.row_num_noprint < ms.min_row_num + 14
 ORDER BY
       log.yyyy_mm_dd DESC

09:35:05 2d.188
Elapsed Hours so far:    0.095
Elapsed Hours so far: .095

Decorrido: 00:00:00.02

09:35:06 2d "00196_edb360_135990_2d_188_archived_log_frequency_map_per_cluster.html"
Elapsed Hours so far:    0.096

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:08 2d "Backup and Recovery"
09:35:08 NOLOGGING Objects

WITH
objects AS (
SELECT 1 record_type,
       'TABLESPACE' object_type,
       --con_id,
       tablespace_name,
       NULL owner,
       NULL name,
       NULL column_name,
       NULL partition,
       NULL subpartition
  FROM dba_tablespaces
 WHERE logging = 'NOLOGGING'
   AND contents != 'TEMPORARY'
UNION ALL
SELECT 2 record_type,
       'TABLE' object_type,
       --con_id,
       tablespace_name,
       owner,
       table_name name,
       NULL column_name,
       NULL partition,
       NULL subpartition
  FROM dba_all_tables
 WHERE logging = 'NO'
   AND temporary = 'N'
UNION ALL
SELECT 3 record_type,
       'INDEX' object_type,
       --con_id,
       tablespace_name,
       owner,
       index_name name,
       NULL column_name,
       NULL partition,
       NULL subpartition
  FROM dba_indexes
 WHERE logging = 'NO'
   AND temporary = 'N'
UNION ALL
SELECT 4 record_type,
       'LOB' object_type,
       --con_id,
       tablespace_name,
       owner,
       table_name name,
       SUBSTR(column_name, 1, 30) column_name,
       NULL partition,
       NULL subpartition
  FROM dba_lobs
 WHERE logging = 'NO'
UNION ALL
SELECT 5 record_type,
       'TAB_PARTITION' object_type,
       --con_id,
       tablespace_name,
       table_owner owner,
       table_name name,
       NULL column_name,
       partition_name partition,
       NULL subpartition
  FROM dba_tab_partitions
 WHERE logging = 'NO'
UNION ALL
SELECT 6 record_type,
       'IND_PARTITION' object_type,
       --con_id,
       tablespace_name,
       index_owner owner,
       index_name name,
       NULL column_name,
       partition_name partition,
       NULL subpartition
  FROM dba_ind_partitions
 WHERE logging = 'NO'
UNION ALL
SELECT 7 record_type,
       'LOB_PARTITION' object_type,
       --con_id,
       tablespace_name,
       table_owner owner,
       table_name name,
       SUBSTR(column_name, 1, 30) column_name,
       partition_name partition,
       NULL subpartition
  FROM dba_lob_partitions
 WHERE logging = 'NO'
UNION ALL
SELECT 8 record_type,
       'TAB_SUBPARTITION' object_type,
       --con_id,
       tablespace_name,
       table_owner owner,
       table_name name,
       NULL column_name,
       partition_name partition,
       subpartition_name subpartition
  FROM dba_tab_subpartitions
 WHERE logging = 'NO'
UNION ALL
SELECT 9 record_type,
       'IND_SUBPARTITION' object_type,
       --con_id,
       tablespace_name,
       index_owner owner,
       index_name name,
       NULL column_name,
       partition_name partition,
       subpartition_name subpartition
  FROM dba_ind_subpartitions
 WHERE logging = 'NO'
UNION ALL
SELECT 10 record_type,
       'LOB_SUBPARTITION' object_type,
       --con_id,
       tablespace_name,
       table_owner owner,
       table_name name,
       SUBSTR(column_name, 1, 30) column_name,
       lob_partition_name partition,
       subpartition_name subpartition
  FROM dba_lob_subpartitions
 WHERE logging = 'NO'
)
SELECT x.object_type,
       --x.con_id,
	   x.tablespace_name,
       x.owner,
       x.name,
       x.column_name,
       x.partition,
       x.subpartition
	   --,c.name con_name
  FROM objects x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       x.record_type,
       --con_id,
	   x.tablespace_name,
       x.owner,
       x.name,
       x.column_name,
       x.partition,
       x.subpartition

09:35:08 2d.190
Elapsed Hours so far:    0.096
Elapsed Hours so far: .096

Decorrido: 00:00:00.02

09:35:09 2d "00198_edb360_135990_2d_190_nologging_objects.html"
Elapsed Hours so far:    0.097

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:10 2d "Backup and Recovery"
09:35:10 Unrecoverable Datafile

SELECT /*+  NO_MERGE  */ /* 2d.191 */
       x.*
	   --,c.name con_name
  FROM v$datafile x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.unrecoverable_change# > 0
 ORDER BY
       x.file#

09:35:10 2d.191
Elapsed Hours so far:    0.097
Elapsed Hours so far: .097

Decorrido: 00:00:00.01

09:35:11 2d "00199_edb360_135990_2d_191_unrecoverable_datafile.html"
Elapsed Hours so far:    0.097

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:11 2d "Backup and Recovery"
09:35:11 Unrecoverable Datafile after Backup

-- from http://www.pythian.com/blog/oracle-what-is-an-unrecoverable-data-file/
-- by Catherine Chow
SELECT /*+  NO_MERGE  */ /* 2d.192 */
df.name data_file_name, df.unrecoverable_time
	   --,df.con_id
FROM   v$datafile df
      ,v$backup bk
WHERE  df.file#=bk.file#
and    df.unrecoverable_change#!=0
and    df.unrecoverable_time >
    NVL((select max(end_time)
	    FROM   v$rman_backup_job_details
        where  INPUT_TYPE in ('DB FULL' ,'DB INCR')
		and    status = 'COMPLETED')
    ,to_date('01/01/1900','dd/mm/yyyy'))

09:35:11 2d.192
Elapsed Hours so far:    0.097
Elapsed Hours so far: .097

Decorrido: 00:00:00.02

09:35:12 2d "00200_edb360_135990_2d_192_unrecoverable_datafile_after_backup.html"
Elapsed Hours so far:    0.097

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:13 2e "Data Guard Primary Site"
09:35:13 Database Role

-- from MOS Doc ID: 1577401.1
SELECT database_role role, name, db_unique_name, platform_id, open_mode, log_mode, flashback_on, protection_mode, protection_level /* 2e.193 */
FROM v$database

09:35:13 2e.193
Elapsed Hours so far:    0.097
Elapsed Hours so far: .098

Decorrido: 00:00:00.02

09:35:14 2e "00201_edb360_135990_2e_193_database_role.html"
Elapsed Hours so far:    0.098

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:14 2e "Data Guard Primary Site"
09:35:14 Force Logging

-- from MOS Doc ID: 1577401.1
SELECT force_logging, remote_archive, supplemental_log_data_pk, supplemental_log_data_ui, switchover_status, dataguard_broker /* 2e.194 */
FROM v$database

09:35:14 2e.194
Elapsed Hours so far:    0.098
Elapsed Hours so far: .098

Decorrido: 00:00:00.02

09:35:15 2e "00202_edb360_135990_2e_194_force_logging.html"
Elapsed Hours so far:    0.098

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:16 2e "Data Guard Primary Site"
09:35:16 Catproc Release

-- from MOS Doc ID: 1577401.1
SELECT x.version, x.modified, x.status /* 2e.195 */
       --,x.con_id, c.name con_name
  FROM dba_registry x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
  WHERE x.comp_id = 'CATPROC'

09:35:16 2e.195
Elapsed Hours so far:    0.098
Elapsed Hours so far: .098

Decorrido: 00:00:00.02

09:35:16 2e "00203_edb360_135990_2e_195_catproc_release.html"
Elapsed Hours so far:    0.098

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:17 2e "Data Guard Primary Site"
09:35:17 Threads

-- from MOS Doc ID: 1577401.1
SELECT thread#, instance, status /* 2e.196 */
FROM v$thread

09:35:17 2e.196
Elapsed Hours so far:    0.099
Elapsed Hours so far: .099

Decorrido: 00:00:00.01

09:35:17 2e "00204_edb360_135990_2e_196_threads.html"
Elapsed Hours so far:    0.099

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:18 2e "Data Guard Primary Site"
09:35:18 Instances

-- from MOS Doc ID: 1577401.1
SELECT thread#, instance_name, host_name, version, archiver, log_switch_wait /* 2e.197 */
FROM gv$instance ORDER BY thread#

09:35:18 2e.197
Elapsed Hours so far:    0.099
Elapsed Hours so far: .099

Decorrido: 00:00:00.01

09:35:19 2e "00205_edb360_135990_2e_197_instances.html"
Elapsed Hours so far:    0.099

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:19 2e "Data Guard Primary Site"
09:35:19 Log Switching

-- from MOS Doc ID: 1577401.1
SELECT fs.log_switches_under_20_mins, ss.log_switches_over_20_mins /* 2e.198 */
  FROM (
SELECT SUM(COUNT (ROUND((b.first_time - a.first_time) * 1440) )) "LOG_SWITCHES_UNDER_20_MINS"
  FROM v$archived_log a, v$archived_log b
 WHERE a.sequence# + 1 = b.sequence#
   AND a.dest_id = 1
   AND a.thread# = b.thread#
   AND a.dest_id = b.dest_id
   AND a.dest_id = (
SELECT MIN(dest_id)
  FROM gv$archive_dest
 WHERE target='PRIMARY'
   AND destination IS NOT NULL)
   AND ROUND((b.first_time - a.first_time) * 1440)  < 20
 GROUP BY ROUND((b.first_time - a.first_time) * 1440))  fs, (
SELECT  SUM(COUNT (ROUND((b.first_time - a.first_time) * 1440) )) "LOG_SWITCHES_OVER_20_MINS"
  FROM v$archived_log a, v$archived_log b
 WHERE a.sequence# + 1 = b.sequence#
   AND a.dest_id = 1
   AND a.thread# = b.thread#
   AND a.dest_id = b.dest_id
   AND a.dest_id = (
SELECT MIN(dest_id)
  FROM gv$archive_dest
 WHERE target='PRIMARY'
   AND destination IS NOT NULL)
   AND ROUND((b.first_time - a.first_time) * 1440)  > 19
 GROUP BY ROUND((b.first_time - a.first_time) * 1440)) ss

09:35:19 2e.198
Elapsed Hours so far:    0.099
Elapsed Hours so far: .099

Decorrido: 00:00:00.02

09:35:20 2e "00206_edb360_135990_2e_198_log_switching.html"
Elapsed Hours so far:    0.100

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:21 2e "Data Guard Primary Site"
09:35:21 Log Switches

-- from MOS Doc ID: 1577401.1
SELECT (CASE WHEN bucket = 1 THEN '<= ' || TO_CHAR(bucket * 5) /* 2e.199 */
             WHEN (bucket >1 AND bucket < 9) THEN TO_CHAR(bucket * 5 - 4) || ' TO ' || TO_CHAR(bucket * 5)
             WHEN bucket > 8 THEN '>= ' || TO_CHAR(bucket * 5 - 4) END) "MINUTES",
       switches "LOG_SWITCHES"
  FROM (
SELECT bucket , COUNT(b.bucket) SWITCHES
  FROM (
SELECT WIDTH_BUCKET(ROUND((b.first_time - a.first_time) * 1440), 0, 40, 8) bucket
  FROM v$archived_log a, v$archived_log b
 WHERE a.sequence# + 1 = b.sequence#
   AND a.dest_id = b.dest_id
   AND a.thread# = b.thread#
   AND a.dest_id = (
SELECT MIN(dest_id)
  FROM gv$archive_dest
 WHERE target = 'PRIMARY'
   AND destination IS NOT NULL)) b
 GROUP BY bucket ORDER BY bucket)

09:35:21 2e.199
Elapsed Hours so far:    0.100
Elapsed Hours so far: .1

Decorrido: 00:00:00.02

09:35:21 2e "00207_edb360_135990_2e_199_log_switches.html"
Elapsed Hours so far:    0.100

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:22 2e "Data Guard Primary Site"
09:35:22 Redo Log Group

-- from MOS Doc ID: 1577401.1
SELECT thread#, group#, sequence#, bytes, archived ,status /* 2e.200 */
FROM v$log ORDER BY thread#, group#

09:35:22 2e.200
Elapsed Hours so far:    0.100
Elapsed Hours so far: .1

Decorrido: 00:00:00.02

09:35:23 2e "00208_edb360_135990_2e_200_redo_log_group.html"
Elapsed Hours so far:    0.100

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:23 2e "Data Guard Primary Site"
09:35:23 Standby Logs

-- from MOS Doc ID: 1577401.1
SELECT thread#, group#, sequence#, bytes, archived, status /* 2e.201 */
FROM v$standby_log order by thread#, group#

09:35:23 2e.201
Elapsed Hours so far:    0.100
Elapsed Hours so far: .1

Decorrido: 00:00:00.02

09:35:24 2e "00209_edb360_135990_2e_201_standby_logs.html"
Elapsed Hours so far:    0.101

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:25 2e "Data Guard Primary Site"
09:35:25 Archive Destinations

-- from MOS Doc ID: 1577401.1
SELECT thread#, dest_id, destination, target, schedule, process /* 2e.202 */
 FROM gv$archive_dest gvad, gv$instance gvi
 WHERE gvad.inst_id = gvi.inst_id
   AND destination is NOT NULL
 ORDER BY thread#, dest_id

09:35:25 2e.202
Elapsed Hours so far:    0.101
Elapsed Hours so far: .101

Decorrido: 00:00:00.02

09:35:25 2e "00210_edb360_135990_2e_202_archive_destinations.html"
Elapsed Hours so far:    0.101

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:26 2e "Data Guard Primary Site"
09:35:26 Destination Details

-- from MOS Doc ID: 1577401.1
SELECT thread#, dest_id, gvad.archiver, transmit_mode, affirm, /* 2e.203 */
       async_blocks, net_timeout, max_failure, delay_mins, reopen_secs reopen, register, binding
  FROM gv$archive_dest gvad, gv$instance gvi
 WHERE gvad.inst_id = gvi.inst_id
   AND destination is NOT NULL
 ORDER BY thread#, dest_id

09:35:26 2e.203
Elapsed Hours so far:    0.101
Elapsed Hours so far: .101

Decorrido: 00:00:00.05

09:35:26 2e "00211_edb360_135990_2e_203_destination_details.html"
Elapsed Hours so far:    0.101

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:27 2e "Data Guard Primary Site"
09:35:27 Destination Errors

-- from MOS Doc ID: 1577401.1
SELECT thread#, dest_id, gvad.status, error, fail_sequence /* 2e.204 */
 FROM gv$archive_dest gvad, gv$instance gvi
WHERE gvad.inst_id = gvi.inst_id
  AND destination is NOT NULL
ORDER BY thread#, dest_id

09:35:27 2e.204
Elapsed Hours so far:    0.101
Elapsed Hours so far: .101

Decorrido: 00:00:00.02

09:35:28 2e "00212_edb360_135990_2e_204_destination_errors.html"
Elapsed Hours so far:    0.102

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:28 2e "Data Guard Primary Site"
09:35:28 Error Conditions

-- from MOS Doc ID: 1577401.1
SELECT gvi.thread#, timestamp, message /* 2e.205 */
  FROM gv$dataguard_status gvds, gv$instance gvi
 WHERE gvds.inst_id = gvi.inst_id
   AND severity in ('Error','Fatal')
 ORDER BY timestamp, thread#

09:35:28 2e.205
Elapsed Hours so far:    0.102
Elapsed Hours so far: .102

Decorrido: 00:00:00.02

09:35:29 2e "00213_edb360_135990_2e_205_error_conditions.html"
Elapsed Hours so far:    0.102

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:30 2e "Data Guard Primary Site"
09:35:30 Status Processes Redo Shipping

-- from MOS Doc ID: 1577401.1
SELECT inst_id, thread#, process, pid, status, client_process, /* 2e.206 */
       client_pid, sequence#, block#, active_agents, known_agents
  FROM gv$managed_standby
 ORDER BY thread#, pid

09:35:30 2e.206
Elapsed Hours so far:    0.102
Elapsed Hours so far: .102

Decorrido: 00:00:00.01

09:35:30 2e "00214_edb360_135990_2e_206_status_processes_redo_shipping.html"
Elapsed Hours so far:    0.102

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:31 2e "Data Guard Primary Site"
09:35:31 Current and Last Seq#

-- from MOS Doc ID: 1577401.1
SELECT cu.thread#, cu.dest_id, la.lastarchived "Last Archived", /* 2e.207 */
       cu.currentsequence "Current Sequence", appl.lastapplied "Last Applied"
 FROM (
select gvi.thread#, gvd.dest_id, MAX(gvd.log_sequence) currentsequence
  FROM gv$archive_dest gvd, gv$instance gvi
 WHERE gvd.status = 'VALID'
   AND gvi.inst_id = gvd.inst_id
 GROUP BY thread#, dest_id) cu, (
SELECT thread#, dest_id, MAX(sequence#) lastarchived
  FROM gv$archived_log
 WHERE resetlogs_change# = (
SELECT resetlogs_change#
  FROM v$database)
   AND archived = 'YES'
 GROUP BY thread#, dest_id) la, (
SELECT thread#, dest_id, MAX(sequence#) lastapplied
  FROM gv$archived_log
 WHERE resetlogs_change# = (
SELECT resetlogs_change#
  FROM v$database)
   AND applied = 'YES'
 GROUP BY thread#, dest_id) appl
 WHERE cu.thread# = la.thread#
   AND cu.thread# = appl.thread#
   AND cu.dest_id = la.dest_id
   AND cu.dest_id = appl.dest_id
 ORDER BY 1, 2

09:35:31 2e.207
Elapsed Hours so far:    0.102
Elapsed Hours so far: .102

Decorrido: 00:00:00.01

09:35:31 2e "00215_edb360_135990_2e_207_current_and_last_seq.html"
Elapsed Hours so far:    0.103

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:32 2e "Data Guard Primary Site"
09:35:32 Standby Dest

-- from MOS Doc ID: 1577401.1
SELECT dest_id, database_mode, recovery_mode, protection_mode, standby_logfile_count, standby_logfile_active /* 2e.208 */
  FROM v$archive_dest_status
 WHERE destination IS NOT NULL

09:35:32 2e.208
Elapsed Hours so far:    0.103
Elapsed Hours so far: .103

Decorrido: 00:00:00.01

09:35:33 2e "00216_edb360_135990_2e_208_standby_dest.html"
Elapsed Hours so far:    0.103

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:33 2e "Data Guard Primary Site"
09:35:33 Non-default Init Parameters

-- from MOS Doc ID: 1577401.1
SELECT num, '*' "THREAD#", name, value /* 2e.209 */
  FROM v$PARAMETER WHERE NUM IN (
SELECT num
  FROM v$parameter
 WHERE (isdefault = 'FALSE' OR ismodified <> 'FALSE')
   AND name NOT LIKE 'nls%'
 MINUS
SELECT num
  FROM gv$parameter gvp, gv$instance gvi
 WHERE num IN (
SELECT DISTINCT gvpa.num
  FROM gv$parameter gvpa, gv$parameter gvpb
 WHERE gvpa.num = gvpb.num
   AND  gvpa.value <> gvpb.value
   AND (gvpa.isdefault = 'FALSE' OR gvpa.ismodified <> 'FALSE')
   AND gvpa.name NOT LIKE 'nls%')
   AND gvi.inst_id = gvp.inst_id
   AND (gvp.isdefault = 'FALSE' OR gvp.ismodified <> 'FALSE')
   AND gvp.name NOT LIKE 'nls%')
 UNION
SELECT num, TO_CHAR(thread#) "THREAD#", name, value
  FROM gv$parameter gvp, gv$instance gvi
 WHERE num IN (
SELECT DISTINCT gvpa.num
  FROM gv$parameter gvpa, gv$parameter gvpb
 WHERE gvpa.num = gvpb.num
   AND gvpa.value <> gvpb.value
   AND (gvpa.isdefault = 'FALSE' OR gvpa.ismodified <> 'FALSE')
   AND gvp.name NOT LIKE 'nls%')
   AND gvi.inst_id = gvp.inst_id
   AND (gvp.isdefault = 'FALSE' OR gvp.ismodified <> 'FALSE')
   AND gvp.name NOT LIKE 'nls%'
 ORDER BY 1, 2

09:35:33 2e.209
Elapsed Hours so far:    0.103
Elapsed Hours so far: .103

Decorrido: 00:00:00.02

09:35:34 2e "00217_edb360_135990_2e_209_nondefault_init_parameters.html"
Elapsed Hours so far:    0.104

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:37 3a "Database Resource Management (DBRM)"
09:35:37 Consumer Groups

SELECT /*+  NO_MERGE  */ /* 3a.210 */
       x.*
	   --,c.name con_name
  FROM dba_rsrc_consumer_groups x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       1, 2

09:35:37 3a.210
Elapsed Hours so far:    0.104
Elapsed Hours so far: .104

Decorrido: 00:00:00.02

09:35:37 3a "00218_edb360_135990_3a_210_consumer_groups.html"
Elapsed Hours so far:    0.104

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:38 3a "Database Resource Management (DBRM)"
09:35:38 Consumer Group Users and Roles

SELECT /*+  NO_MERGE  */ /* 3a.211 */
       x.*
	   --,c.name con_name
  FROM dba_rsrc_consumer_group_privs x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       1, 2

09:35:38 3a.211
Elapsed Hours so far:    0.104
Elapsed Hours so far: .104

Decorrido: 00:00:00.02

09:35:39 3a "00219_edb360_135990_3a_211_consumer_group_users_and_roles.html"
Elapsed Hours so far:    0.105

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:39 3a "Database Resource Management (DBRM)"
09:35:39 Resource Groups Mappings

SELECT /*+  NO_MERGE  */ /* 3a.212 */
       x.*
	   --,c.name con_name
  FROM dba_rsrc_group_mappings x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       1, 2

09:35:39 3a.212
Elapsed Hours so far:    0.105
Elapsed Hours so far: .105

Decorrido: 00:00:00.02

09:35:40 3a "00220_edb360_135990_3a_212_resource_groups_mappings.html"
Elapsed Hours so far:    0.105

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:41 3a "Database Resource Management (DBRM)"
09:35:41 Resource Groups Mapping Priorities

SELECT /*+  NO_MERGE  */ /* 3a.213 */
       x.*
	   --,c.name con_name
  FROM dba_rsrc_mapping_priority x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       1, 2

09:35:41 3a.213
Elapsed Hours so far:    0.105
Elapsed Hours so far: .105

Decorrido: 00:00:00.02

09:35:41 3a "00221_edb360_135990_3a_213_resource_groups_mapping_priorities.html"
Elapsed Hours so far:    0.105

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:42 3a "Database Resource Management (DBRM)"
09:35:42 Resource Plan Directives

SELECT /*+  NO_MERGE  */ /* 3a.214 */
       x.*
	   --,c.name con_name
  FROM dba_rsrc_plan_directives x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       1, 2

09:35:42 3a.214
Elapsed Hours so far:    0.105
Elapsed Hours so far: .106

Decorrido: 00:00:00.01

09:35:42 3a "00222_edb360_135990_3a_214_resource_plan_directives.html"
Elapsed Hours so far:    0.106

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:43 3a "Database Resource Management (DBRM)"
09:35:43 Resource Plans

SELECT /*+  NO_MERGE  */ /* 3a.215 */
       x.*
	   --,c.name con_name
  FROM dba_rsrc_plans x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       1, 2

09:35:43 3a.215
Elapsed Hours so far:    0.106
Elapsed Hours so far: .106

Decorrido: 00:00:00.02

09:35:44 3a "00223_edb360_135990_3a_215_resource_plans.html"
Elapsed Hours so far:    0.106

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:45 3a "Database Resource Management (DBRM)"
09:35:45 Active Resource Consumer Groups

SELECT /*+  NO_MERGE  */ /* 3a.216 */
       x.*
	   --,c.name con_name
  FROM gv$rsrc_consumer_group x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       1, 2

09:35:45 3a.216
Elapsed Hours so far:    0.106
Elapsed Hours so far: .106

Decorrido: 00:00:00.02

09:35:45 3a "00224_edb360_135990_3a_216_active_resource_consumer_groups.html"
Elapsed Hours so far:    0.107

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:46 3a "Database Resource Management (DBRM)"
09:35:46 Resource Consumer Group History

SELECT /*+  NO_MERGE  */ /* 3a.217 */
       *
  FROM gv$rsrc_cons_group_history
 ORDER BY
       1, 2

09:35:46 3a.217
Elapsed Hours so far:    0.107
Elapsed Hours so far: .107

Decorrido: 00:00:00.01

09:35:46 3a "00225_edb360_135990_3a_217_resource_consumer_group_history.html"
Elapsed Hours so far:    0.107

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:47 3a "Database Resource Management (DBRM)"
09:35:47 Resource Plan

SELECT /*+  NO_MERGE  */ /* 3a.218 */
       *
  FROM gv$rsrc_plan
 ORDER BY
       1, 2

09:35:47 3a.218
Elapsed Hours so far:    0.107
Elapsed Hours so far: .107

Decorrido: 00:00:00.01

09:35:48 3a "00226_edb360_135990_3a_218_resource_plan.html"
Elapsed Hours so far:    0.107

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:49 3a "Database Resource Management (DBRM)"
09:35:49 Resource Plan History

SELECT /*+  NO_MERGE  */ /* 3a.219 */
       *
  FROM gv$rsrc_plan_history
 ORDER BY
       1, 2

09:35:49 3a.219
Elapsed Hours so far:    0.107
Elapsed Hours so far: .107

Decorrido: 00:00:00.02

09:35:49 3a "00227_edb360_135990_3a_219_resource_plan_history.html"
Elapsed Hours so far:    0.108

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:50 3a "Database Resource Management (DBRM)"
09:35:50 RM Stats per Session

SELECT /*+  NO_MERGE  */ /* 3a.220 */
       *
  FROM gv$rsrc_session_info
 ORDER BY
       1, 2

09:35:50 3a.220
Elapsed Hours so far:    0.108
Elapsed Hours so far: .108

Decorrido: 00:00:00.02

09:35:50 3a "00228_edb360_135990_3a_220_rm_stats_per_session.html"
Elapsed Hours so far:    0.108

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:51 3a "Database Resource Management (DBRM)"
09:35:51 Resources Consumed per Consumer Group

SELECT /*+  NO_MERGE  */ /* 3a.221 */
       *
  FROM gv$rsrcmgrmetric
 ORDER BY
       1, 2

09:35:51 3a.221
Elapsed Hours so far:    0.108
Elapsed Hours so far: .108

Decorrido: 00:00:00.01

09:35:52 3a "00229_edb360_135990_3a_221_resources_consumed_per_consumer_group.html"
Elapsed Hours so far:    0.108

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:53 3a "Database Resource Management (DBRM)"
09:35:53 Resources Consumed History

SELECT /*+  NO_MERGE  */ /* 3a.222 */
       *
  FROM gv$rsrcmgrmetric_history
 ORDER BY
       1, 2

09:35:53 3a.222
Elapsed Hours so far:    0.108
Elapsed Hours so far: .108

Decorrido: 00:00:00.01

09:35:53 3a "00230_edb360_135990_3a_222_resources_consumed_history.html"
Elapsed Hours so far:    0.109

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:54 3b "Plan Stability"
09:35:54 SQL Patches

SELECT x.*
       --,c.name con_name
  FROM dba_sql_patches x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       x.created DESC

09:35:54 3b.223
Elapsed Hours so far:    0.109
Elapsed Hours so far: .109

Decorrido: 00:00:00.01

09:35:55 3b "00231_edb360_135990_3b_223_sql_patches.html"
Elapsed Hours so far:    0.109

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:55 3b "Plan Stability"
09:35:55 SQL Plan Baselines

SELECT x.*
       --,c.name con_name
  FROM dba_sql_plan_baselines x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
	   x.created DESC

09:35:55 3b.224
Elapsed Hours so far:    0.109
Elapsed Hours so far: .109

Decorrido: 00:00:00.01

09:35:56 3b "00232_edb360_135990_3b_224_sql_plan_baselines.html"
Elapsed Hours so far:    0.110

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:57 3b "Plan Stability"
09:35:57 SQL Plan Baselines Summary by Status

WITH x AS (
SELECT COUNT(*) baselines,
       --con_id,
       enabled,
       accepted,
       fixed,
       reproduced,
       MIN(created) min_created,
       MAX(created) max_created,
       MEDIAN(created) median_created
  FROM dba_sql_plan_baselines
 GROUP BY
       --con_id,
       enabled,
       accepted,
       fixed,
       reproduced
)
SELECT x.*
       --,c.name con_name
FROM   x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       x.baselines DESC,
	   --x.con_id,
	   x.enabled, x.accepted, x.fixed, x.reproduced

09:35:57 3b.225
Elapsed Hours so far:    0.110
Elapsed Hours so far: .11

Decorrido: 00:00:00.01

09:35:57 3b "00233_edb360_135990_3b_225_sql_plan_baselines_summary_by_status.html"
Elapsed Hours so far:    0.110

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:58 3b "Plan Stability"
09:35:58 SQL Plan Baselines Summary by Creation Month

WITH x as (
SELECT TO_CHAR(TRUNC(created, 'MM'), 'YYYY-MM') created,
       --con_id,
       COUNT(*) baselines,
       SUM(CASE enabled WHEN 'YES' THEN 1 ELSE 0 END) enabled,
       SUM(CASE enabled WHEN 'YES' THEN (CASE accepted WHEN 'YES' THEN 1 ELSE 0 END) ELSE 0 END) accepted,
       SUM(CASE enabled WHEN 'YES' THEN (CASE accepted WHEN 'YES' THEN (CASE reproduced WHEN 'YES' THEN 1 ELSE 0 END) ELSE 0 END) ELSE 0 END) reproduced,
       SUM(CASE enabled WHEN 'NO' THEN 1 ELSE 0 END) disabled
  FROM dba_sql_plan_baselines
 GROUP BY
       --con_id,
	   TRUNC(created, 'MM')
)
SELECT x.*
       --,c.name con_name
FROM   x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       x.created
	   --,x.con_id

09:35:58 3b.226
Elapsed Hours so far:    0.110
Elapsed Hours so far: .11

Decorrido: 00:00:00.02

09:35:59 3b "00234_edb360_135990_3b_226_sql_plan_baselines_summary_by_creation_month.html"
Elapsed Hours so far:    0.110

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:35:59 3b "Plan Stability"
09:35:59 SQL Plan Baselines State by SQL

WITH x as (
SELECT --q.con_id,
	   q.signature,
       q.sql_handle,
       MIN(q.created) created,
       MAX(q.last_modified) last_modified,
       MAX(q.last_executed) last_executed,
       MAX(q.last_verified) last_verified,
       COUNT(*) plans_in_history,
       SUM(CASE q.enabled WHEN 'YES' THEN 1 ELSE 0 END) enabled,
       SUM(CASE q.enabled||q.accepted WHEN 'YESYES' THEN 1 ELSE 0 END) enabled_and_accepted,
       SUM(CASE q.enabled||q.accepted||q.reproduced WHEN 'YESYESYES' THEN 1 ELSE 0 END) enabled_accepted_reproduced,
       SUM(CASE q.enabled||q.accepted||q.reproduced||q.fixed WHEN 'YESYESYESYES' THEN 1 ELSE 0 END) enabled_accept_reprod_fixed,
       SUM(CASE q.enabled||q.accepted WHEN 'YESNO' THEN 1 ELSE 0 END) pending,
       SUM(CASE q.enabled WHEN 'NO' THEN 1 ELSE 0 END) disabled,
       --MIN(q.sql_text) min_sql_text
	   MIN(DBMS_LOB.SUBSTR(q.sql_text,1,32767)) min_sql_text
  FROM dba_sql_plan_baselines q
 GROUP BY
       --q.con_id,
	   q.signature,
       q.sql_handle
)
SELECT x.*
       --,c.name con_name
FROM   x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
	   x.signature,
       x.sql_handle

09:35:59 3b.227
Elapsed Hours so far:    0.110
Elapsed Hours so far: .11

Decorrido: 00:00:00.02

09:36:00 3b "00235_edb360_135990_3b_227_sql_plan_baselines_state_by_sql.html"
Elapsed Hours so far:    0.111

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:01 3c "Cost-based Optimizer (CBO) Statistics"
09:36:01 CBO System Statistics

SELECT /*+  NO_MERGE  */ /* 3c.228 */
       *
  FROM sys.aux_stats$

09:36:01 3c.228
Elapsed Hours so far:    0.111
Elapsed Hours so far: .111

Decorrido: 00:00:00.02

09:36:02 3c "00236_edb360_135990_3c_228_cbo_system_statistics.html"
Elapsed Hours so far:    0.111

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:02 3c "Cost-based Optimizer (CBO) Statistics"
09:36:02 CBO System Statistics History

SELECT /*+  NO_MERGE  */ /* 3c.229 */
       *
  FROM sys.wri$_optstat_aux_history
 ORDER BY 1 DESC, 2

09:36:02 3c.229
Elapsed Hours so far:    0.111
Elapsed Hours so far: .111

Decorrido: 00:00:00.02

09:36:03 3c "00237_edb360_135990_3c_229_cbo_system_statistics_history.html"
Elapsed Hours so far:    0.112

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:04 3c "Cost-based Optimizer (CBO) Statistics"
09:36:04 Stats History Availability

SELECT DBMS_STATS.get_stats_history_availability availability,
       DBMS_STATS.get_stats_history_retention retention
  FROM dual

09:36:04 3c.230
Elapsed Hours so far:    0.112
Elapsed Hours so far: .112

Decorrido: 00:00:00.02

09:36:04 3c "00238_edb360_135990_3c_230_stats_history_availability.html"
Elapsed Hours so far:    0.112

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:06 3c "Cost-based Optimizer (CBO) Statistics"
09:36:06 Default Values for DBMS_STATS

SELECT * FROM sys.optstat_hist_control$

09:36:06 3c.231
Elapsed Hours so far:    0.112
Elapsed Hours so far: .112

Decorrido: 00:00:00.02

09:36:06 3c "00239_edb360_135990_3c_231_default_values_for_dbmsstats.html"
Elapsed Hours so far:    0.112

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:07 3c "Cost-based Optimizer (CBO) Statistics"
09:36:07 Tables Summary

WITH x as (
SELECT /*+  NO_MERGE  */ /* 3c.232 */
       --con_id,
       owner,
       COUNT(*) tables_count,
       SUM(DECODE(last_analyzed, NULL, 1, 0)) not_analyzed,
       SUM(DECODE(partitioned, 'YES', 1, 0)) partitioned,
       SUM(DECODE(temporary, 'Y', 1, 0)) temporary,
       SUM(DECODE(status, 'VALID', 0, 1)) not_valid,
       SUM(DECODE(logging, 'YES', 0, 1)) not_logging,
       SUM(DECODE(TRIM(cache), 'Y', 1, 0)) cache,
       SUM(DECODE(flash_cache, 'KEEP', 1, 0)) keep_flash_cache,
       SUM(DECODE(cell_flash_cache, 'KEEP', 1, 0)) keep_cell_flash_cache,
       SUM(DECODE(result_cache, 'FORCE', 1, 0)) result_cache_force,
       SUM(DECODE(dependencies, 'ENABLED', 1, 0)) dependencies,
       SUM(DECODE(compression, 'ENABLED', 1, 0)) compression,
       SUM(DECODE(compress_for, 'BASIC', 1, 0)) compress_for_basic,
       SUM(DECODE(compress_for, 'OLTP', 1, 0)) compress_for_oltp,
       SUM(CASE WHEN compress_for IN
       ('ARCHIVE HIGH', 'ARCHIVE LOW', 'QUERY HIGH', 'QUERY LOW')
       THEN 1 ELSE 0 END) compress_for_hcc,
       SUM(DECODE(dropped, 'YES', 1, 0)) dropped,
       SUM(DECODE(read_only, 'YES', 1, 0)) read_only,
       SUM(num_rows) sum_num_rows,
       MAX(num_rows) max_num_rows,
       SUM(blocks) sum_blocks,
       MAX(blocks) max_blocks,
       MIN(last_analyzed) min_last_analyzed,
       MAX(last_analyzed) max_last_analyzed,
       MEDIAN(last_analyzed) median_last_analyzed,
       PERCENTILE_DISC(0.75) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_75_percentile,
       PERCENTILE_DISC(0.90) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_90_percentile,
       PERCENTILE_DISC(0.95) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_95_percentile,
       PERCENTILE_DISC(0.99) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_99_percentile
  FROM dba_tables t
 WHERE table_name NOT LIKE 'BIN$%' -- bug 9930151 reported by brad peek
   AND NOT EXISTS (
SELECT /*+  NO_MERGE  */ NULL
  FROM dba_external_tables e
 WHERE e.owner = t.owner
   --AND e.con_id = t.con_id
   AND e.table_name = t.table_name)
 GROUP BY
       --con_id,
	   owner
)
SELECT x.*
       --,c.name con_name
FROM   x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
	   x.owner

09:36:07 3c.232
Elapsed Hours so far:    0.112
Elapsed Hours so far: .112

Decorrido: 00:00:00.02

09:36:08 3c "00240_edb360_135990_3c_232_tables_summary.html"
Elapsed Hours so far:    0.113

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:09 3c "Cost-based Optimizer (CBO) Statistics"
09:36:09 Table Statistics Summary

WITH x as (
SELECT /*+  NO_MERGE  */ /* 3c.233 */
       --con_id,
       owner,
       object_type,
       COUNT(*) type_count,
       SUM(DECODE(last_analyzed, NULL, 1, 0)) not_analyzed,
       SUM(DECODE(stattype_locked, NULL, 0, 1)) stats_locked,
       SUM(DECODE(stale_stats, 'YES', 1, 0)) stale_stats,
       SUM(num_rows) sum_num_rows,
       MAX(num_rows) max_num_rows,
       SUM(blocks) sum_blocks,
       MAX(blocks) max_blocks,
       MIN(last_analyzed) min_last_analyzed,
       MAX(last_analyzed) max_last_analyzed,
       MEDIAN(last_analyzed) median_last_analyzed,
       PERCENTILE_DISC(0.75) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_75_percentile,
       PERCENTILE_DISC(0.90) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_90_percentile,
       PERCENTILE_DISC(0.95) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_95_percentile,
       PERCENTILE_DISC(0.99) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_99_percentile
  FROM dba_tab_statistics s
 WHERE table_name NOT LIKE 'BIN$%' -- bug 9930151 reported by brad peek
   AND NOT EXISTS (
SELECT /*+  NO_MERGE  */ NULL
  FROM dba_external_tables e
 WHERE e.owner = s.owner
   --AND e.con_id = s.con_id
   AND e.table_name = s.table_name)
GROUP BY
       --con_id,
       owner, object_type
)
SELECT x.*
       --,c.name con_name
FROM   x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       owner, object_type

09:36:09 3c.233
Elapsed Hours so far:    0.113
Elapsed Hours so far: .113

Decorrido: 00:00:00.01

09:36:10 3c "00241_edb360_135990_3c_233_table_statistics_summary.html"
Elapsed Hours so far:    0.114

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:11 3c "Cost-based Optimizer (CBO) Statistics"
09:36:11 Table Columns Summary

WITH x aS (
SELECT /*+  NO_MERGE  */ /* 3c.234 */
       --con_id,
       owner,
       COUNT(DISTINCT table_name) tables_count,
       COUNT(*) columns_count,
       SUM(DECODE(last_analyzed, NULL, 1, 0)) not_analyzed,
       SUM(DECODE(hidden_column, 'YES', 1, 0)) hidden_column,
       SUM(DECODE(virtual_column, 'YES', 1, 0)) virtual_column,
       SUM(DECODE(histogram, 'NONE', 0, 1)) histogram,
       MIN(last_analyzed) min_last_analyzed,
       MAX(last_analyzed) max_last_analyzed,
       MEDIAN(last_analyzed) median_last_analyzed,
       PERCENTILE_DISC(0.75) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_75_percentile,
       PERCENTILE_DISC(0.90) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_90_percentile,
       PERCENTILE_DISC(0.95) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_95_percentile,
       PERCENTILE_DISC(0.99) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_99_percentile
  FROM dba_tab_cols c
 WHERE table_name NOT LIKE 'BIN$%' -- bug 9930151 reported by brad peek
   AND owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND NOT EXISTS (
SELECT /*+  NO_MERGE  */ NULL
  FROM dba_external_tables e
 WHERE e.owner = c.owner
   --AND e.con_id = c.con_id
   AND e.table_name = c.table_name)
 GROUP BY
       --con_id,
	   owner
)
SELECT x.*
       --,c.name con_name
FROM   x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       owner

09:36:11 3c.234
Elapsed Hours so far:    0.114
Elapsed Hours so far: .114

Decorrido: 00:00:00.02

09:36:12 3c "00242_edb360_135990_3c_234_table_columns_summary.html"
Elapsed Hours so far:    0.114

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:14 3c "Cost-based Optimizer (CBO) Statistics"
09:36:14 Indexes Summary

WITH x as (
SELECT /*+  NO_MERGE  */ /* 3c.235 */
       --con_id,
       owner,
       COUNT(DISTINCT table_name) tables_count,
       COUNT(*) indexes_count,
       SUM(DECODE(last_analyzed, NULL, 1, 0)) not_analyzed,
       SUM(DECODE(partitioned, 'YES', 1, 0)) partitioned,
       SUM(DECODE(temporary, 'Y', 1, 0)) temporary,
       SUM(DECODE(status, 'UNUSABLE', 1, 0)) unusable,
       SUM(DECODE(visibility, 'INVISIBLE', 1, 0)) invisible,
       --SUM(DECODE(AUTO,'Y',1,0)) Auto_created,
       SUM(DECODE(logging, 'YES', 0, 1)) not_logging,
       SUM(DECODE(flash_cache, 'KEEP', 1, 0)) keep_flash_cache,
       SUM(DECODE(cell_flash_cache, 'KEEP', 1, 0)) keep_cell_flash_cache,
       SUM(DECODE(compression, 'ENABLED', 1, 0)) compression,
       SUM(DECODE(dropped, 'YES', 1, 0)) dropped,
       SUM(leaf_blocks) sum_leaf_blocks,
       MAX(leaf_blocks) max_leaf_blocks,
       MAX(blevel) max_blevel,
       MIN(last_analyzed) min_last_analyzed,
       MAX(last_analyzed) max_last_analyzed,
       MEDIAN(last_analyzed) median_last_analyzed,
       PERCENTILE_DISC(0.75) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_75_percentile,
       PERCENTILE_DISC(0.90) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_90_percentile,
       PERCENTILE_DISC(0.95) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_95_percentile,
       PERCENTILE_DISC(0.99) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_99_percentile
  FROM dba_indexes
 WHERE owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 GROUP BY
       --con_id,
	   owner
)
SELECT x.*
       --,c.name con_name
FROM   x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.owner

09:36:14 3c.235
Elapsed Hours so far:    0.114
Elapsed Hours so far: .114

Decorrido: 00:00:00.02

09:36:15 3c "00243_edb360_135990_3c_235_indexes_summary.html"
Elapsed Hours so far:    0.115

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:16 3c "Cost-based Optimizer (CBO) Statistics"
09:36:16 Index Stats Summary

WITH x as (
SELECT /*+  NO_MERGE  */ /* 3c.236 */
       --con_id,
       owner,
       object_type,
       COUNT(*) type_count,
       SUM(DECODE(last_analyzed, NULL, 1, 0)) not_analyzed,
       SUM(DECODE(stattype_locked, NULL, 0, 1)) stats_locked,
       SUM(DECODE(stale_stats, 'YES', 1, 0)) stale_stats,
       SUM(leaf_blocks) sum_leaf_blocks,
       MAX(leaf_blocks) max_leaf_blocks,
       MAX(blevel) max_blevel,
       MIN(last_analyzed) min_last_analyzed,
       MAX(last_analyzed) max_last_analyzed,
       MEDIAN(last_analyzed) median_last_analyzed,
       PERCENTILE_DISC(0.75) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_75_percentile,
       PERCENTILE_DISC(0.90) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_90_percentile,
       PERCENTILE_DISC(0.95) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_95_percentile,
       PERCENTILE_DISC(0.99) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_99_percentile
  FROM dba_ind_statistics
 WHERE owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 GROUP BY
       --con_id,
	   owner, object_type
)
SELECT x.*
       --,c.name con_name
FROM   x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.owner, x.object_type

09:36:16 3c.236
Elapsed Hours so far:    0.115
Elapsed Hours so far: .115

Decorrido: 00:00:00.01

09:36:16 3c "00244_edb360_135990_3c_236_index_stats_summary.html"
Elapsed Hours so far:    0.115

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:17 3c "Cost-based Optimizer (CBO) Statistics"
09:36:17 Table Partitions Summary

WITH x as (
SELECT /*+  NO_MERGE  */ /* 3c.237 */
       --con_id,
       table_owner,
       COUNT(DISTINCT table_name) tables_count,
       COUNT(*) partitions_count,
       SUM(DECODE(composite, 'YES', 1, 0)) subpartitioned,
       SUM(subpartition_count) subpartition_count,
       SUM(DECODE(last_analyzed, NULL, 1, 0)) not_analyzed,
       SUM(DECODE(logging, 'YES', 0, 1)) not_logging,
       SUM(DECODE(flash_cache, 'KEEP', 1, 0)) keep_flash_cache,
       SUM(DECODE(cell_flash_cache, 'KEEP', 1, 0)) keep_cell_flash_cache,
       SUM(DECODE(compression, 'ENABLED', 1, 0)) compression,
       SUM(DECODE(compress_for, 'BASIC', 1, 0)) compress_for_basic,
       SUM(DECODE(compress_for, 'OLTP', 1, 0)) compress_for_oltp,
       SUM(CASE WHEN compress_for IN
       ('ARCHIVE HIGH', 'ARCHIVE LOW', 'QUERY HIGH', 'QUERY LOW')
       THEN 1 ELSE 0 END) compress_for_hcc,
       SUM(num_rows) sum_num_rows,
       MAX(num_rows) max_num_rows,
       SUM(blocks) sum_blocks,
       MAX(blocks) max_blocks,
       MIN(last_analyzed) min_last_analyzed,
       MAX(last_analyzed) max_last_analyzed,
       MEDIAN(last_analyzed) median_last_analyzed,
       PERCENTILE_DISC(0.75) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_75_percentile,
       PERCENTILE_DISC(0.90) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_90_percentile,
       PERCENTILE_DISC(0.95) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_95_percentile,
       PERCENTILE_DISC(0.99) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_99_percentile
  FROM dba_tab_partitions
 WHERE table_owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND table_owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 GROUP BY
       --con_id,
	   table_owner
)
SELECT x.*
       --,c.name con_name
FROM   x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.table_owner

09:36:17 3c.237
Elapsed Hours so far:    0.115
Elapsed Hours so far: .115

Decorrido: 00:00:00.02

09:36:18 3c "00245_edb360_135990_3c_237_table_partitions_summary.html"
Elapsed Hours so far:    0.116

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:19 3c "Cost-based Optimizer (CBO) Statistics"
09:36:19 Index Partitions Summary

WITH x as (
SELECT /*+  NO_MERGE  */ /* 3c.238 */
       --con_id,
       index_owner,
       COUNT(DISTINCT index_name) indexes_count,
       COUNT(*) partitions_count,
       SUM(DECODE(composite, 'YES', 1, 0)) subpartitioned,
       SUM(subpartition_count) subpartition_count,
       SUM(DECODE(last_analyzed, NULL, 1, 0)) not_analyzed,
       SUM(DECODE(status, 'UNUSABLE', 1, 0)) unusable,
       SUM(DECODE(logging, 'YES', 0, 1)) not_logging,
       SUM(DECODE(flash_cache, 'KEEP', 1, 0)) keep_flash_cache,
       SUM(DECODE(cell_flash_cache, 'KEEP', 1, 0)) keep_cell_flash_cache,
       SUM(DECODE(compression, 'ENABLED', 1, 0)) compression,
       SUM(leaf_blocks) sum_leaf_blocks,
       MAX(leaf_blocks) max_leaf_blocks,
       MAX(blevel) max_blevel,
       MIN(last_analyzed) min_last_analyzed,
       MAX(last_analyzed) max_last_analyzed,
       MEDIAN(last_analyzed) median_last_analyzed,
       PERCENTILE_DISC(0.75) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_75_percentile,
       PERCENTILE_DISC(0.90) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_90_percentile,
       PERCENTILE_DISC(0.95) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_95_percentile,
       PERCENTILE_DISC(0.99) WITHIN GROUP (ORDER BY last_analyzed) last_analyzed_99_percentile
  FROM dba_ind_partitions
 WHERE index_owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND index_owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 GROUP BY
       --con_id,
	   index_owner
)
SELECT x.*
       --,c.name con_name
FROM   x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       --x.con_id,
       x.index_owner

09:36:19 3c.238
Elapsed Hours so far:    0.116
Elapsed Hours so far: .116

Decorrido: 00:00:00.01

09:36:19 3c "00246_edb360_135990_3c_238_index_partitions_summary.html"
Elapsed Hours so far:    0.116

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:20 3c "Cost-based Optimizer (CBO) Statistics"
09:36:20 Table Partitioning

WITH pc AS (
SELECT --con_id,
       owner, name table_name
,      LISTAGG(column_name,', ') WITHIN GROUP (ORDER BY column_position) part_column_list
FROM   dba_part_key_columns
WHERE  object_type = 'TABLE'
GROUP BY
       --con_id,
       owner, name
), sc as (
SELECT --con_id,
       owner, name table_name
,      LISTAGG(column_name,', ') WITHIN GROUP (ORDER BY column_position) subp_column_list
FROM   dba_subpart_key_columns
WHERE  object_type = 'TABLE'
GROUP BY
       --con_id,
       owner, name
), tp as (
SELECT --con_id,
       table_owner owner, table_name
,      COUNT(*) part_count
,      COUNT(distinct tablespace_name) part_tablespaces
,      SUM(DECODE(compression,'ENABLE',1)) part_compression_enabled
,      SUM(CASE WHEN compress_for like 'BASIC'         THEN 1 END) part_compressfor_basic
,      SUM(CASE WHEN compress_for like 'QUERY HIGH%'   THEN 1 END) part_compressfor_queryhigh
,      SUM(CASE WHEN compress_for like 'QUERY LOW%'    THEN 1 END) part_compressfor_querylow
,      SUM(CASE WHEN compress_for like 'ARCHIVE HIGH%' THEN 1 END) part_compressfor_archivehigh
,      SUM(CASE WHEN compress_for like 'ARCHIVE LOW%'  THEN 1 END) part_compressfor_archivelow
,      SUM(num_rows) part_num_rows
,      SUM(blocks) part_blocks
,      SUM(DECODE(interval,'YES',1)) part_intervals
,      SUM(DECODE(segment_created,'YES',1)) part_segments_created
FROM   dba_tab_partitions
GROUP BY
       --con_id,
	   table_owner, table_name
), sp as (
SELECT --con_id,
       table_owner owner, table_name
,      COUNT(*) subp_count
,      COUNT(distinct tablespace_name) subp_tablespaces
,      SUM(DECODE(compression,'ENABLE',1)) subp_compression_enabled
,      SUM(CASE WHEN compress_for like 'BASIC'         THEN 1 END) subp_compressfor_basic
,      SUM(CASE WHEN compress_for like 'QUERY HIGH%'   THEN 1 END) subp_compressfor_queryhigh
,      SUM(CASE WHEN compress_for like 'QUERY LOW%'    THEN 1 END) subp_compressfor_querylow
,      SUM(CASE WHEN compress_for like 'ARCHIVE HIGH%' THEN 1 END) subp_compressfor_archivehigh
,      SUM(CASE WHEN compress_for like 'ARCHIVE LOW%'  THEN 1 END) subp_compressfor_archivelow
,      SUM(num_rows) subp_num_rows
,      SUM(blocks) subp_blocks
,      SUM(DECODE(interval,'YES',1)) subp_intervals
,      SUM(DECODE(segment_created,'YES',1)) subp_segments_created
FROM   dba_tab_subpartitions
GROUP BY
       --con_id,
       table_owner, table_name
)
SELECT /*+  NO_MERGE  */ /* 3c.239 */
  --p.con_id,
  p.owner, p.table_name
, p.partitioning_type
, pc.part_column_list
, NULLIF(p.interval,'NO') interval
--, NULLIF(p.autolist,'NO') autolist
,tp.part_count
--,tp.part_intervals
,tp.part_num_rows, tp.part_blocks
--,tp.part_segments_created
,tp.part_tablespaces
,tp.part_compression_enabled
,tp.part_compressfor_basic
,tp.part_compressfor_queryhigh
,tp.part_compressfor_querylow
,tp.part_compressfor_archivehigh
,tp.part_compressfor_archivelow
, NULLIF(p.subpartitioning_type,'NONE') subpartitioning_type
--,DEF_SUBPARTITION_COUNT
,sc.subp_column_list
--,NULLIF(p.interval_subpartition,'NO') interval_subpartition
--,NULLIF(p.autolist_subpartition,'NO') autolist_subpartition
,sp.subp_count
--,sp.subp_intervals
,sp.subp_num_rows, sp.subp_blocks
--,sp.subp_segments_created
,sp.subp_tablespaces
,sp.subp_compression_enabled
,sp.subp_compressfor_basic
,sp.subp_compressfor_queryhigh
,sp.subp_compressfor_querylow
,sp.subp_compressfor_archivehigh
,sp.subp_compressfor_archivelow
--,STATUS
--,DEF_COMPRESSION
--,DEF_COMPRESS_FOR
--,IS_NESTED
--,c.name con_name
  FROM dba_part_Tables p
       LEFT OUTER JOIN pc ON pc.owner = p.owner AND pc.table_name = p.table_name --AND pc.con_id = p.con_id
       LEFT OUTER JOIN sc ON sc.owner = p.owner AND sc.table_name = p.table_name --AND sc.con_id = p.con_id
       LEFT OUTER JOIN tp ON tp.owner = p.owner AND tp.table_name = p.table_name --AND tp.con_id = p.con_id
       LEFT OUTER JOIN sp ON sp.owner = p.owner AND sp.table_name = p.table_name --AND sp.con_id = p.con_id
	   --LEFT OUTER JOIN v$containers c ON c.con_id = p.con_id
 WHERE p.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND p.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND p.table_name NOT LIKE 'BIN%'
 ORDER BY
       --p.con_id,
       p.owner, p.table_name

09:36:20 3c.239
Elapsed Hours so far:    0.116
Elapsed Hours so far: .116

Decorrido: 00:00:00.01

09:36:21 3c "00247_edb360_135990_3c_239_table_partitioning.html"
Elapsed Hours so far:    0.117

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:22 3c "Cost-based Optimizer (CBO) Statistics"
09:36:22 Partitioning Keys and col Usage Statistics

WITH k as (
SELECT --con_id,
       owner, name, column_position, column_name
,      'Partition' partitioning_level
FROM   dba_part_key_columns
WHERE  object_type = 'TABLE'
AND    owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
AND    owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
UNION ALL
SELECT --con_id,
       owner, name, column_position, column_name
,      'Subpartition'
FROM   dba_subpart_key_columns
WHERE  object_type = 'TABLE'
AND    owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
AND    owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
), c as (
SELECT --p.con_id,
       p.owner, p.table_name, o.object_id
,      c.column_id, c.column_name, c.num_distinct, c.sample_size, c.num_nulls
,         p.partitioning_type
,      p.subpartitioning_type
FROM   dba_objects o
,      dba_part_tables p
,      dba_tab_columns c
WHERE  p.owner = o.owner
--AND    p.con_id = o.con_id
AND    p.table_name = o.object_name
AND    o.object_type = 'TABLE'
--AND    c.con_id = p.con_id
AND    c.owner = p.owner
AND    c.table_name = p.table_name
)
SELECT /*+  NO_MERGE  */ /* 3c.240 */
       --c.con_id,
       c.owner, c.table_name
,      c.column_id, c.column_name
,      k.partitioning_level
,      CASE WHEN k.partitioning_level = 'Partition'    THEN    c.partitioning_type
            WHEN k.partitioning_level = 'Subpartition' THEN c.subpartitioning_type
       END as partitioning_type
,      k.column_position
,      c.num_distinct, c.sample_size, c.num_nulls
,      u.EQUALITY_PREDS
,      u.EQUIJOIN_PREDS
,      u.NONEQUIJOIN_PREDS
,      u.RANGE_PREDS
,      u.LIKE_PREDS
,      u.NULL_PREDS
,      u.TIMESTAMP
--,c.name con_name
FROM   c
  LEFT OUTER JOIN k
    ON k.owner = c.owner
   --AND k.con_id = c.con_id
   AND k.name = c.table_name
   AND k.column_name = c.column_name
  LEFT OUTER JOIN sys.col_usage$ u
    ON u.obj# = c.object_id
   AND u.intcol# = c.column_id
  --LEFT OUTER JOIN v$containers c ON c.con_id = c.con_id
WHERE  (u.obj# IS NOT NULL
or     k.partitioning_level IS NOT NULL)
AND    c.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
AND    c.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
ORDER BY --c.con_id,
       c.owner, c.table_name, c.column_id, c.column_name

09:36:22 3c.240
Elapsed Hours so far:    0.117
Elapsed Hours so far: .117

Decorrido: 00:00:00.02

09:36:23 3c "00248_edb360_135990_3c_240_partitioning_keys_and_col_usage_statistics.html"
Elapsed Hours so far:    0.117

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:24 3c "Cost-based Optimizer (CBO) Statistics"
09:36:24 Tables with Missing Stats

SELECT /*+  NO_MERGE  */ /* 3c.241 */
       --s.con_id,
	   s.owner, s.table_name, s.stale_stats, s.stattype_locked
	   --,c.name con_name
  FROM dba_tab_statistics s,
       dba_tables t
	   --LEFT OUTER JOIN v$containers c ON c.con_id = t.con_id
 WHERE s.object_type = 'TABLE'
   AND s.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND s.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND s.last_analyzed IS NULL
   AND s.table_name NOT LIKE 'BIN%'
   AND NOT (s.table_name LIKE '%TEMP' OR s.table_name LIKE '%\_TEMP\_%' ESCAPE '\')
   AND t.owner = s.owner
   AND t.table_name = s.table_name
   AND t.temporary = 'N'
   AND NOT EXISTS (
SELECT NULL
  FROM dba_external_tables e
 WHERE e.owner = s.owner
 --AND e.con_id = s.con_id
   AND e.table_name = s.table_name
)
 ORDER BY
       --s.con_id,
       s.owner, s.table_name

09:36:24 3c.241
Elapsed Hours so far:    0.117
Elapsed Hours so far: .117

Decorrido: 00:00:00.02

09:36:24 3c "00249_edb360_135990_3c_241_tables_with_missing_stats.html"
Elapsed Hours so far:    0.118

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:26 3c "Cost-based Optimizer (CBO) Statistics"
09:36:26 Tables with Stale Stats

SELECT /*+  NO_MERGE  */ /* 3c.242 */
       --s.con_id,
	   s.owner, s.table_name, s.num_rows, s.last_analyzed, s.stattype_locked
	   --,c.name con_name
  FROM dba_tab_statistics s,
       dba_tables t
	   --LEFT OUTER JOIN v$containers c ON c.con_id = t.con_id
 WHERE s.object_type = 'TABLE'
   AND s.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND s.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND s.stale_stats = 'YES'
   AND s.table_name NOT LIKE 'BIN%'
   AND NOT (s.table_name LIKE '%TEMP' OR s.table_name LIKE '%\_TEMP\_%' ESCAPE '\')
   --AND t.con_id = s.con_id
   AND t.owner = s.owner
   AND t.table_name = s.table_name
   AND t.temporary = 'N'
   AND NOT EXISTS (
SELECT NULL
  FROM dba_external_tables e
 WHERE e.owner = s.owner
   --AND e.con_id = s.con_id
   AND e.table_name = s.table_name
)
 ORDER BY
       --s.con_id,
       s.owner, s.table_name

09:36:26 3c.242
Elapsed Hours so far:    0.118
Elapsed Hours so far: .118

Decorrido: 00:00:00.02

09:36:26 3c "00250_edb360_135990_3c_242_tables_with_stale_stats.html"
Elapsed Hours so far:    0.118

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:28 3c "Cost-based Optimizer (CBO) Statistics"
09:36:28 Tables with Outdated Stats

SELECT /*+  NO_MERGE  */ /* 3c.243 */
       --s.con_id,
	   s.owner, s.table_name, s.num_rows, s.last_analyzed, s.stale_stats, s.stattype_locked
	   --,c.name con_name
  FROM dba_tab_statistics s,
       dba_tables t
	   --LEFT OUTER JOIN v$containers c ON c.con_id = t.con_id
 WHERE s.object_type = 'TABLE'
   AND s.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND s.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND s.last_analyzed < SYSDATE - 31
   AND s.table_name NOT LIKE 'BIN%'
   AND NOT (s.table_name LIKE '%TEMP' OR s.table_name LIKE '%\_TEMP\_%' ESCAPE '\')
   --AND t.con_id = s.con_id
   AND t.owner = s.owner
   AND t.table_name = s.table_name
   AND t.temporary = 'N'
   AND NOT EXISTS (
SELECT NULL
  FROM dba_external_tables e
 WHERE e.owner = s.owner
   --AND e.con_id = s.con_id
   AND e.table_name = s.table_name
)
 ORDER BY
       --s.con_id,
       s.owner, s.table_name

09:36:28 3c.243
Elapsed Hours so far:    0.118
Elapsed Hours so far: .118

Decorrido: 00:00:00.02

09:36:28 3c "00251_edb360_135990_3c_243_tables_with_outdated_stats.html"
Elapsed Hours so far:    0.119

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:29 3c "Cost-based Optimizer (CBO) Statistics"
09:36:29 Tables with Locked Stats

SELECT /*+  NO_MERGE  */ /* 3c.244 */
       --s.con_id,
	   s.owner, s.table_name, t.temporary, s.num_rows, s.last_analyzed, s.stale_stats, s.stattype_locked, e.type_name external_table_type
	   --,c.name con_name
  FROM dba_tab_statistics s
       LEFT OUTER JOIN dba_external_tables e ON e.owner = s.owner AND e.table_name = s.table_name --AND e.con_id = s.con_id
	   --LEFT OUTER JOIN v$containers c ON c.con_id = s.con_id
      ,dba_tables t
 WHERE s.object_type = 'TABLE'
   AND s.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND s.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND s.stattype_locked IS NOT NULL
   AND s.table_name NOT LIKE 'BIN%'
   --AND t.con_id = s.con_id
   AND t.owner = s.owner
   AND t.table_name = s.table_name
 ORDER BY
       --s.con_id,
       s.owner, s.table_name

09:36:29 3c.244
Elapsed Hours so far:    0.119
Elapsed Hours so far: .119

Decorrido: 00:00:00.01

09:36:30 3c "00252_edb360_135990_3c_244_tables_with_locked_stats.html"
Elapsed Hours so far:    0.119

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:31 3c "Cost-based Optimizer (CBO) Statistics"
09:36:31 Global Temporary Tables with Stats

SELECT /*+  NO_MERGE  */ /* 3c.245 */
       --s.con_id,
	   s.owner, s.table_name, s.num_rows, s.last_analyzed, s.stale_stats, s.stattype_locked
	   --,c.name con_name
  FROM dba_tab_statistics s
       --LEFT OUTER JOIN v$containers c ON c.con_id = s.con_id
      ,dba_tables t
 WHERE s.object_type = 'TABLE'
   AND s.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND s.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND s.last_analyzed IS NOT NULL
   AND s.table_name NOT LIKE 'BIN%'
   --AND t.con_id = s.con_id
   AND t.owner = s.owner
   AND t.table_name = s.table_name
   AND t.temporary = 'Y'
 ORDER BY
       --s.con_id,
       s.owner, s.table_name

09:36:31 3c.245
Elapsed Hours so far:    0.119
Elapsed Hours so far: .119

Decorrido: 00:00:00.02

09:36:32 3c "00253_edb360_135990_3c_245_global_temporary_tables_with_stats.html"
Elapsed Hours so far:    0.119

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:32 3c "Cost-based Optimizer (CBO) Statistics"
09:36:32 Temp Tables with Stats

SELECT /*+  NO_MERGE  */ /* 3c.246 */
       --s.con_id,
	   s.owner, s.table_name, t.temporary, s.num_rows, s.last_analyzed, s.stale_stats, s.stattype_locked
	   --,c.name con_name
  FROM dba_tab_statistics s
       --LEFT OUTER JOIN v$containers c ON c.con_id = s.con_id
	  ,dba_tables t
 WHERE s.object_type = 'TABLE'
   AND s.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND s.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
   AND s.last_analyzed IS NOT NULL
   /*AND s.stale_stats = 'YES'*/
   AND (s.table_name LIKE '%TEMP' OR s.table_name LIKE '%\_TEMP\_%' ESCAPE '\')
   AND s.table_name NOT LIKE 'BIN%'
   --AND t.con_id = s.con_id
   AND t.owner = s.owner
   AND t.table_name = s.table_name
   AND NOT EXISTS (
SELECT NULL
  FROM dba_external_tables e
 WHERE e.owner = s.owner
   --AND e.con_id = s.con_id
   AND e.table_name = s.table_name
)
 ORDER BY
       --s.con_id,
       s.owner, s.table_name

09:36:32 3c.246
Elapsed Hours so far:    0.120
Elapsed Hours so far: .12

Decorrido: 00:00:00.01

09:36:33 3c "00254_edb360_135990_3c_246_temp_tables_with_stats.html"
Elapsed Hours so far:    0.120

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:34 3c "Cost-based Optimizer (CBO) Statistics"
09:36:34 Default Values for Auto_Index_Config

SELECT * FROM DBA_AUTO_INDEX_CONFIG

09:36:34 3c.247
Elapsed Hours so far:    0.120
Elapsed Hours so far: .12

Decorrido: 00:00:00.01

09:36:35 3c "00255_edb360_135990_3c_247_default_values_for_autoindexconfig.html"
Elapsed Hours so far:    0.120

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:35 3c "Cost-based Optimizer (CBO) Statistics"
09:36:35 AUTO_INDEX_EXECUTIONS

SELECT * FROM DBA_AUTO_INDEX_EXECUTIONS

09:36:35 3c.248
Elapsed Hours so far:    0.120
Elapsed Hours so far: .12

Decorrido: 00:00:00.02

09:36:36 3c "00256_edb360_135990_3c_248_autoindexexecutions.html"
Elapsed Hours so far:    0.121

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:37 3c "Cost-based Optimizer (CBO) Statistics"
09:36:37 AUTO_INDEX_IND_ACTIONS

SELECT * FROM DBA_AUTO_INDEX_IND_ACTIONS

09:36:37 3c.249
Elapsed Hours so far:    0.121
Elapsed Hours so far: .121

Decorrido: 00:00:00.02

09:36:37 3c "00257_edb360_135990_3c_249_autoindexindactions.html"
Elapsed Hours so far:    0.121

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:38 3c "Cost-based Optimizer (CBO) Statistics"
09:36:38 AUTO_INDEX_SQL_ACTIONS

SELECT * FROM DBA_AUTO_INDEX_SQL_ACTIONS

09:36:38 3c.250
Elapsed Hours so far:    0.121
Elapsed Hours so far: .121

Decorrido: 00:00:00.02

09:36:39 3c "00258_edb360_135990_3c_250_autoindexsqlactions.html"
Elapsed Hours so far:    0.121

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:39 3c "Cost-based Optimizer (CBO) Statistics"
09:36:39 AUTO_INDEX_STATISTICS

SELECT * FROM DBA_AUTO_INDEX_STATISTICS

09:36:39 3c.251
Elapsed Hours so far:    0.121
Elapsed Hours so far: .121

Decorrido: 00:00:00.01

09:36:40 3c "00259_edb360_135990_3c_251_autoindexstatistics.html"
Elapsed Hours so far:    0.122

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:41 3c "Cost-based Optimizer (CBO) Statistics"
09:36:41 AUTO_INDEX_VERIFICATIONS

SELECT * FROM DBA_AUTO_INDEX_VERIFICATIONS

09:36:41 3c.252
Elapsed Hours so far:    0.122
Elapsed Hours so far: .122

Decorrido: 00:00:00.01

09:36:41 3c "00260_edb360_135990_3c_252_autoindexverifications.html"
Elapsed Hours so far:    0.122

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:42 3c "Cost-based Optimizer (CBO) Statistics"
09:36:42 Objects with many Stats Versions

WITH
h AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 3c.253 */
       obj#,
       COUNT(*) versions,
       MIN(savtime) min_savtime,
       MAX(savtime) max_savtime,
       MEDIAN(savtime) med_savtime,
       MIN(rowcnt) min_rowcnt,
       MAX(rowcnt) max_rowcnt,
       MEDIAN(rowcnt) med_rowcnt,
       MIN(blkcnt) min_blkcnt,
       MAX(blkcnt) max_blkcnt,
       MEDIAN(blkcnt) med_blkcnt
  FROM sys.wri$_optstat_tab_history
 GROUP BY
       obj#
HAVING COUNT(*) > DBMS_STATS.GET_STATS_HISTORY_RETENTION
)
SELECT /*+  NO_MERGE  */ /* 3c.253 */
       h.versions,
       o.owner,
       o.object_name,
       o.subobject_name,
       o.object_type,
       o.object_id,
       h.min_savtime,
       h.max_savtime,
       h.med_savtime,
       h.min_rowcnt,
       h.max_rowcnt,
       h.med_rowcnt,
       h.min_blkcnt,
       h.max_blkcnt,
       h.med_blkcnt
  FROM h, dba_objects o
 WHERE o.object_id = h.obj#
   AND o.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
   AND o.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
 ORDER BY
       h.versions DESC,
       o.owner,
       o.object_name,
       o.subobject_name

09:36:42 3c.253
Elapsed Hours so far:    0.122
Elapsed Hours so far: .122

Decorrido: 00:00:00.01

09:36:42 3c "00261_edb360_135990_3c_253_objects_with_many_stats_versions.html"
Get DBMS_STATS.REPORT_STATS_OPERATIONS(detail_level => 'BASIC', format => 'HTML', latestN => 10000, since => TO_TIMESTAMP('2024-09-02T09:29:23', 'YYYY-MM-DD"T"HH24:MI:SS'), until => TO_TIMESTAMP('2024-10-03T09:29:23', 'YYYY-MM-DD"T"HH24:MI:SS'))
Elapsed Hours so far:    0.123

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:44 3c "Cost-based Optimizer (CBO) Statistics"
09:36:44 SYS Stats for WRH$, WRI$, WRM$ and WRR$ Tables

select /*+  NO_MERGE  */ /* 3c.255 */
       --x.con_id,
	   x.table_name, x.blocks, x.num_rows, x.sample_size, x.last_analyzed
	   --,c.name con_name
from   dba_tables x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
where  x.owner = 'SYS'
and    x.table_name like 'WR_$%'
order by --x.con_id,
       x.table_name

09:36:44 3c.255
Elapsed Hours so far:    0.123
Elapsed Hours so far: .123

Decorrido: 00:00:00.01

09:36:44 3c "00263_edb360_135990_3c_255_sys_stats_for_wrh_wri_wrm_and_wrr_tables.html"
Elapsed Hours so far:    0.123

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:45 3c "Cost-based Optimizer (CBO) Statistics"
09:36:45 SYS Stats for WRH$, WRI$, WRM$ and WRR$ Indexes

select /*+  NO_MERGE  */ /* 3c.256 */
       --x.con_id,
	   x.table_name, x.index_name, x.blevel, x.leaf_blocks, x.distinct_keys, x.num_rows, x.sample_size, x.last_analyzed
	   --,c.name con_name
from   dba_indexes x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
where  x.owner = 'SYS'
and    x.table_name like 'WR_$%'
order by
       --x.con_id,
	   x.table_name, x.index_name

09:36:45 3c.256
Elapsed Hours so far:    0.123
Elapsed Hours so far: .123

Decorrido: 00:00:00.01

09:36:46 3c "00264_edb360_135990_3c_256_sys_stats_for_wrh_wri_wrm_and_wrr_indexes.html"
Elapsed Hours so far:    0.124

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:47 3c "Cost-based Optimizer (CBO) Statistics"
09:36:47 Table Modifications for WRH$, WRI$, WRM$ and WRR$

SELECT /*+  NO_MERGE  */ /* 3c.257 */
       --x.con_id,
	   x.table_name, x.partition_name, x.inserts, x.updates, x.deletes, x.timestamp, x.truncated
	   --,c.name con_name
  FROM dba_tab_modifications x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE x.table_owner = 'SYS'
   AND x.table_name LIKE 'WR_$%'
 ORDER BY
       x.table_name, x.partition_name

09:36:47 3c.257
Elapsed Hours so far:    0.124
Elapsed Hours so far: .124

Decorrido: 00:00:00.01

09:36:48 3c "00265_edb360_135990_3c_257_table_modifications_for_wrh_wri_wrm_and_wrr.html"
Elapsed Hours so far:    0.124

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:36:49 3c "Cost-based Optimizer (CBO) Statistics"
09:36:49 Columns with Histograms in Extended Statistics

WITH i as ( /*composite indexes*/
SELECT	--i.con_id,
        i.table_owner, i.table_name, i.owner index_owner, i.index_name, i.distinct_keys
,	    '('||(LISTAGG('"'||c.column_name||'"',',') WITHIN GROUP (order by c.column_position))||')' column_list
FROM	dba_indexes i
,	    dba_ind_columns c
WHERE   i.table_owner = c.table_owner
AND     i.table_name = c.table_name
--AND     i.con_id = c.con_id
AND     i.owner = c.index_owner
AND     i.index_name = c.index_name
GROUP BY --i.con_id,
         i.table_owner, i.table_name, i.owner, i.index_name, i.distinct_keys
HAVING COUNT(*) > 1
), e as ( /*extended stats*/
SELECT 	/*+ MATERIALIZE */
        --e.con_id,
        e.owner, e.table_name, e.extension_name
,       CAST(e.extension AS VARCHAR(1000)) extension
,       se.histogram, se.num_buckets, se.num_distinct
FROM	dba_stat_extensions e
,       dba_tab_col_statistics se
WHERE	e.creator = 'USER'
--AND     se.con_id = e.con_id
AND     se.owner = e.owner
AND     se.table_name = e.table_name
AND     se.column_name = e.extension_name
AND     e.table_name NOT LIKE 'BIN$%'
AND     e.owner NOT IN ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
AND     e.owner NOT IN ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
), x as (
SELECT	--e.con_id,
        e.owner, e.table_name
, 	    'Extension' object_type
,       e.extension_name object_name, e.num_distinct, e.num_buckets, e.extension
,       sc.column_name
,       sc.num_distinct col_num_distinct
,       sc.num_buckets col_num_buckets
,       sc.histogram col_histogram
FROM	e
,       dba_tab_col_statistics sc
WHERE	e.histogram = 'NONE'
AND     e.extension LIKE '%"'||sc.column_name||'"%'
--AND     sc.con_id = e.con_id
AND     sc.owner = e.owner
AND     sc.table_name = e.table_name
AND     sc.histogram != 'NONE'
AND     sc.num_buckets > 1
AND     e.num_buckets = 1
UNION ALL
SELECT	/*+  NO_MERGE  */ /* 3c.258 */
        --i.con_id,
		i.table_owner, i.table_name
,       'Index' object_type
,       i.index_name object_name, i.distinct_keys, TO_NUMBER(null), i.column_list
,       sc.column_name
,       sc.num_distinct col_num_distinct
,       sc.num_buckets col_num_buckets
,       sc.histogram col_histogram
from	i
,       dba_ind_columns ic
,       dba_tab_col_statistics sc
WHERE 	ic.table_owner = i.table_owner
AND     ic.table_name = i.table_name
AND     ic.index_owner = i.index_owner
AND 	ic.index_name = i.index_name
--AND     ic.con_id = i.con_id
--AND     sc.con_id = ic.con_id
AND     sc.owner = ic.table_owner
AND     sc.table_name = ic.table_name
AND     sc.column_name = ic.column_name
AND     sc.histogram != 'NONE'
AND     sc.num_buckets > 1
AND NOT EXISTS( /*report index if no extension*/
        SELECT 'x'
        FROM    e
        WHERE   e.owner = i.table_owner
        AND     e.table_name = i.table_name
        AND     e.extension = i.column_list
        --AND     e.con_id = i.con_id
        )
)
SELECT x.*
       --,c.name con_name
FROM   x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
ORDER BY --x.con_id,
       x.owner, x.table_name, x.object_type, x.num_distinct

09:36:49 3c.258
Elapsed Hours so far:    0.124
Elapsed Hours so far: .124

Decorrido: 00:00:00.01

09:36:49 3c "00266_edb360_135990_3c_258_columns_with_histograms_in_extended_statistics.html"
Elapsed Hours so far:    0.131

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:12 3d "Performance Summaries"
09:37:12 Wait Statistics

-- incarnation from health_check_4.4 (Jon Adams and Jack Agustin)
SELECT /*+  NO_MERGE  */ /* 3d.259 */
       x.*
  FROM gv$waitstat x
 WHERE count > 0
 ORDER BY
       --x.con_id,
	   x.class,
       x.inst_id

09:37:12 3d.259
Elapsed Hours so far:    0.131
Elapsed Hours so far: .131

Decorrido: 00:00:00.02

09:37:13 3d "00267_edb360_135990_3d_259_wait_statistics.html"
Elapsed Hours so far:    0.131

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:14 3d "Performance Summaries"
09:37:14 System Wait Class

SELECT /*+  NO_MERGE  */ /* 3d.260 */
       x.*
  FROM gv$system_wait_class x
 ORDER BY
       --x.con_id,
	   x.inst_id,
       x.time_waited DESC

09:37:14 3d.260
Elapsed Hours so far:    0.131
Elapsed Hours so far: .131

Decorrido: 00:00:00.02

09:37:14 3d "00268_edb360_135990_3d_260_system_wait_class.html"
Elapsed Hours so far:    0.131

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:15 3d "Performance Summaries"
09:37:15 Result Cache related parameters

-- provided by Simon Pane
SELECT /*+  NO_MERGE  */ /* 3d.261 */
       inst_id, name "PARAMETER", value, isdefault, ismodified
  FROM gv$system_parameter2
 WHERE name IN ('result_cache_mode','result_cache_max_size','result_cache_max_result')
 ORDER BY 2,1,3

09:37:15 3d.261
Elapsed Hours so far:    0.131
Elapsed Hours so far: .131

Decorrido: 00:00:00.02

09:37:16 3d "00269_edb360_135990_3d_261_result_cache_related_parameters.html"
Elapsed Hours so far:    0.132

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:16 3d "Performance Summaries"
09:37:16 Result Cache status

-- provided by Simon Pane
SELECT dbms_result_cache.status FROM dual

09:37:16 3d.262
Elapsed Hours so far:    0.132
Elapsed Hours so far: .132

Decorrido: 00:00:00.02

09:37:17 3d "00270_edb360_135990_3d_262_result_cache_status.html"
Elapsed Hours so far:    0.132

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:18 3d "Performance Summaries"
09:37:18 Result Cache memory

-- provided by Simon Pane
SELECT /*+  NO_MERGE  */ /* 3d.263 */
       inst_id, free, count(*)
  FROM gv$result_cache_memory
 GROUP BY inst_id, free

09:37:18 3d.263
Elapsed Hours so far:    0.132
Elapsed Hours so far: .132

Decorrido: 00:00:00.02

09:37:18 3d "00271_edb360_135990_3d_263_result_cache_memory.html"
Elapsed Hours so far:    0.132

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:19 3d "Performance Summaries"
09:37:19 Result Cache statistics

-- provided by Simon Pane
SELECT /*+  NO_MERGE  */ /* 3d.264 */
       inst_id, name, value
  FROM gv$result_cache_statistics
 ORDER BY 1, 2

09:37:19 3d.264
Elapsed Hours so far:    0.132
Elapsed Hours so far: .132

Decorrido: 00:00:00.02

09:37:19 3d "00272_edb360_135990_3d_264_result_cache_statistics.html"
Elapsed Hours so far:    0.133

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:20 3d "Performance Summaries"
09:37:20 Client Result Cache statistics

-- provided by Simon Pane
SELECT /*+  NO_MERGE  */ /* 3d.265 */
       stat_id, SUBSTR(name,1,20), value, cache_id
  FROM client_result_cache_stats$
 ORDER BY cache_id, stat_id

09:37:20 3d.265
Elapsed Hours so far:    0.133
Elapsed Hours so far: .133

Decorrido: 00:00:00.01

09:37:21 3d "00273_edb360_135990_3d_265_client_result_cache_statistics.html"
Elapsed Hours so far:    0.133

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:21 3d "Performance Summaries"
09:37:21 Wait Class Metric for past minute

-- inspired by Kyle Hailey blogs
-- http://www.kylehailey.com/wait-event-and-wait-class-metrics-vs-vsystem_event/
-- http://www.kylehailey.com/oracle-cpu-time/
SELECT /*+  NO_MERGE  */ /* 3d.266 */
       wc.wait_class,
       wcm.*,
       ROUND(wcm.time_waited/wcm.intsize_csec, 3) aas,
       CASE WHEN wc.wait_class = 'User I/O' THEN
       ROUND(10 * wcm.time_waited  / wcm.wait_count, 3) END avg_io_ms
  FROM gv$waitclassmetric wcm,
       gv$system_wait_class wc
 WHERE wcm.inst_id = wc.inst_id
   AND wcm.wait_class_id = wc.wait_class_id
   AND wcm.wait_class# = wc.wait_class#
   AND wcm.time_waited > 0
   AND wcm.wait_count > 0
   AND wc.wait_class != 'Idle'
   AND ROUND(wcm.time_waited/wcm.intsize_csec, 3) >= 0.001
 ORDER BY
       wcm.inst_id,
       wc.wait_class

09:37:21 3d.266
Elapsed Hours so far:    0.133
Elapsed Hours so far: .133

Decorrido: 00:00:00.02

09:37:22 3d "00274_edb360_135990_3d_266_wait_class_metric_for_past_minute.html"
Elapsed Hours so far:    0.133

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:23 3d "Performance Summaries"
09:37:23 Event Metric for past minute

-- inspired by Kyle Hailey blogs
-- http://www.kylehailey.com/wait-event-and-wait-class-metrics-vs-vsystem_event/
-- http://www.kylehailey.com/oracle-cpu-time/
SELECT /*+  NO_MERGE  */ /* 3d.267 */
       en.wait_class,
       en.name event,
       em.*,
       ROUND(em.time_waited / em.intsize_csec, 3) aas,
       CASE WHEN en.wait_class = 'User I/O' THEN 10 * em.time_waited  / em.wait_count END avg_io_ms
  FROM gv$eventmetric em,
       gv$event_name en
 WHERE em.inst_id = en.inst_id
   AND em.event_id = en.event_id
   AND em.event# = en.event#
   AND em.time_waited > 0
   AND em.wait_count > 0
   AND en.wait_class != 'Idle'
 ORDER BY
       em.inst_id,
       en.wait_class,
       en.name

09:37:23 3d.267
Elapsed Hours so far:    0.133
Elapsed Hours so far: .133

Decorrido: 00:00:00.02

09:37:23 3d "00275_edb360_135990_3d_267_event_metric_for_past_minute.html"
Elapsed Hours so far:    0.134

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:24 3d "Performance Summaries"
09:37:24 System Metric for past minute

-- inspired by Kyle Hailey blogs
-- http://www.kylehailey.com/wait-event-and-wait-class-metrics-vs-vsystem_event/
-- http://www.kylehailey.com/oracle-cpu-time/
SELECT /*+  NO_MERGE  */ /* 3d.268 */
       *
  FROM gv$sysmetric
 WHERE group_id =                    2 -- 1 minute
 ORDER BY
       inst_id,
       metric_name

09:37:24 3d.268
Elapsed Hours so far:    0.134
Elapsed Hours so far: .134

Decorrido: 00:00:00.02

09:37:25 3d "00276_edb360_135990_3d_268_system_metric_for_past_minute.html"
Elapsed Hours so far:    0.134

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:26 3d "Performance Summaries"
09:37:26 System Metric Summary for past hour

-- inspired by Kyle Hailey blogs
-- http://www.kylehailey.com/wait-event-and-wait-class-metrics-vs-vsystem_event/
-- http://www.kylehailey.com/oracle-cpu-time/
SELECT /*+  NO_MERGE  */ /* 3d.269 */
       *
  FROM gv$sysmetric_summary
 ORDER BY
       inst_id,
       metric_name

09:37:26 3d.269
Elapsed Hours so far:    0.134
Elapsed Hours so far: .134

Decorrido: 00:00:00.02

09:37:26 3d "00277_edb360_135990_3d_269_system_metric_summary_for_past_hour.html"
Elapsed Hours so far:    0.135

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:27 3h "Sessions"
09:37:27 Sessions Aggregate per Type

WITH x as (
SELECT COUNT(*),
	   --con_id,
       inst_id,
       type,
       server,
       status,
       state
  FROM gv$session
 GROUP BY
	   --con_id,
       inst_id,
       type,
       server,
       status,
       state
)
SELECT x.*
       --,c.name con_name
FROM   x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       1 DESC,
	   --x.con_id,
	   x.inst_id, x.type, x.server, x.status, x.state

09:37:27 3h.270
Elapsed Hours so far:    0.135
Elapsed Hours so far: .135

Decorrido: 00:00:00.03

09:37:28 3h "00278_edb360_135990_3h_270_sessions_aggregate_per_type.html"
Elapsed Hours so far:    0.135

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:29 3h "Sessions"
09:37:29 Sessions Aggregate per User and Type

WITH x as (
SELECT COUNT(*),
	   --con_id,
       username,
       inst_id,
       type,
       server,
       status,
       state
  FROM gv$session
 GROUP BY
	   --con_id,
       username,
       inst_id,
       type,
       server,
       status,
       state
)
SELECT x.*
       --,c.name con_name
FROM   x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       1 DESC,
	   --x.con_id,
	   x.username, x.inst_id, x.type, x.server, x.status, x.state

09:37:29 3h.271
Elapsed Hours so far:    0.135
Elapsed Hours so far: .135

Decorrido: 00:00:00.02

09:37:29 3h "00279_edb360_135990_3h_271_sessions_aggregate_per_user_and_type.html"
Elapsed Hours so far:    0.135

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:30 3h "Sessions"
09:37:30 Sessions Aggregate per Module and Action

WITH x AS (
SELECT COUNT(*),
	   --con_id,
       module,
       action,
       inst_id,
       type,
       server,
       status,
       state
  FROM gv$session
 GROUP BY
	   --con_id,
       module,
       action,
       inst_id,
       type,
       server,
       status,
       state
)
SELECT x.*
      --,c.name con_name
FROM   x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 ORDER BY
       1 DESC,
	   --x.con_id,
	   x.module, x.action, x.inst_id, x.type, x.server, x.status, x.state

09:37:30 3h.272
Elapsed Hours so far:    0.136
Elapsed Hours so far: .136

Decorrido: 00:00:00.01

09:37:31 3h "00280_edb360_135990_3h_272_sessions_aggregate_per_module_and_action.html"
Elapsed Hours so far:    0.136

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:31 3h "Sessions"
09:37:31 Sessions List

SELECT *
  FROM gv$session
 ORDER BY
       inst_id,
       sid

09:37:31 3h.273
Elapsed Hours so far:    0.136
Elapsed Hours so far: .136

Decorrido: 00:00:00.02

09:37:32 3h "00281_edb360_135990_3h_273_sessions_list.html"
Elapsed Hours so far:    0.136

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:33 3h "Sessions"
09:37:33 Database and Schema Triggers

SELECT x.*
       --,c.name con_name
  FROM dba_triggers x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
 WHERE base_object_type IN ('DATABASE', 'SCHEMA')
 ORDER BY
       x.base_object_type,
       --x.con_id,
       x.owner, x.trigger_name

09:37:33 3h.274
Elapsed Hours so far:    0.136
Elapsed Hours so far: .136

Decorrido: 00:00:00.03

09:37:33 3h "00282_edb360_135990_3h_274_database_and_schema_triggers.html"
Elapsed Hours so far:    0.137

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:34 3h "Sessions"
09:37:34 Processes List

SELECT *
  FROM gv$process
 ORDER BY
       inst_id,
       pid,
       spid

09:37:34 3h.275
Elapsed Hours so far:    0.137
Elapsed Hours so far: .137

Decorrido: 00:00:00.02

09:37:35 3h "00283_edb360_135990_3h_275_processes_list.html"
09:37:36 3h "00284_edb360_135990_3h_275_processes_list_line_chart.html"
Elapsed Hours so far:    0.137

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:36 3h "Sessions"
09:37:36 Processes Memory

SELECT *
  FROM gv$process_memory
 ORDER BY
       inst_id,
       pid,
       serial#,
       category

09:37:36 3h.276
Elapsed Hours so far:    0.137
Elapsed Hours so far: .137

Decorrido: 00:00:00.02

09:37:37 3h "00285_edb360_135990_3h_276_processes_memory.html"
Elapsed Hours so far:    0.138

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:38 3h "Sessions"
09:37:38 Processes Memory Aggregate

SELECT category,
       SUM(allocated) sum_allocated,
       SUM(used) sum_used,
       SUM(max_allocated) sum_max_allocated,
       ROUND(AVG(allocated)) avg_allocated,
       ROUND(AVG(used)) avg_used,
       ROUND(AVG(max_allocated)) avg_max_allocated,
       MEDIAN(allocated) median_allocated,
       MEDIAN(used) median_used,
       MEDIAN(max_allocated) median_max_allocated,
       MAX(allocated) max_allocated,
       MAX(used) max_used,
       MAX(max_allocated) max_max_allocated
  FROM gv$process_memory
 GROUP BY
       category

09:37:38 3h.277
Elapsed Hours so far:    0.138
Elapsed Hours so far: .138

Decorrido: 00:00:00.02

09:37:38 3h "00286_edb360_135990_3h_277_processes_memory_aggregate.html"
Elapsed Hours so far:    0.138

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:39 3h "Sessions"
09:37:39 Active Sessions (detail)

SELECT /* active_sessions */
       se.*,
       --c.name con_name,
       sq.sql_text
  FROM gv$session se
       --LEFT OUTER JOIN v$containers c ON c.con_id = se.con_id
      ,gv$sql sq
 WHERE se.status = 'ACTIVE'
   AND sq.inst_id = se.inst_id
   AND sq.sql_id = se.sql_id
   AND sq.child_number = se.sql_child_number
   --and sq.con_id = se.con_id
   AND sq.sql_text NOT LIKE 'SELECT /* active_sessions */%'
 ORDER BY
       se.inst_id, se.sid, se.serial#

09:37:39 3h.278
Elapsed Hours so far:    0.138
Elapsed Hours so far: .138

Decorrido: 00:00:00.02

09:37:40 3h "00287_edb360_135990_3h_278_active_sessions_detail.html"
Elapsed Hours so far:    0.138

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:40 3h "Sessions"
09:37:40 Active Sessions (more detail)

-- provided by Frits Hoogland
select /*+ rule as.sql */
    --a.con_id,
    --c.name con_name,
    a.sid||','||a.serial#||',@'||a.inst_id as sid_serial_inst,
    d.spid as ospid,
    substr(a.program,1,19) prog,
    a.module, a.action, a.client_info,
    'SQL:'||b.sql_id as sql_id, child_number child, plan_hash_value, executions execs,
    (elapsed_time/decode(nvl(executions,0),0,1,executions))/1000000 avg_etime,
    decode(a.plsql_object_id,null,sql_text,sqla.object_name||'.'||sqlb.procedure_name) sql_text,
    (c.wait_time_micro/1000000) wait_s,
    decode(a.plsql_object_id,null,decode(c.wait_time,0,decode(a.blocking_session,null,c.event,c.event||'> Blocked by (inst:sid): '||a.final_blocking_instance||':'||a.final_blocking_session),'ON CPU:SQL'),'ON CPU:PLSQL:'||o.object_name) as wait_or_cpu
FROM gv$session a
     LEFT OUTER JOIN dba_procedures sqla
	 ON sqla.object_id=a.plsql_object_id
	 --AND sqla.con_id = a.con_id
	 LEFT OUTER JOIN dba_procedures sqlb
	 ON sqlb.object_id = a.plsql_object_id
     and sqlb.subprogram_id = a.plsql_subprogram_id
	 --AND sqlb.con_id = a.con_id
	 LEFT OUTER JOIN dba_objects o
	 ON o.object_id=a.plsql_object_id
	 --AND o.con_id = a.con_id
     --LEFT OUTER JOIN v$containers c ON c.con_id = a.con_id
   , gv$sql b, gv$session_wait c, gv$process d
where a.status = 'ACTIVE'
and a.username is not null
and a.sql_id = b.sql_id
and a.inst_id = b.inst_id
--and a.con_id = b.con_id
and a.sid = c.sid
and a.inst_id = c.inst_id
and a.inst_id = d.inst_id
and a.paddr = d.addr
and a.sql_child_number = b.child_number
and sql_text not like 'select /*+ rule as.sql */%' /* dont show this query */
order by sql_id, sql_child_number

09:37:40 3h.279
Elapsed Hours so far:    0.138
Elapsed Hours so far: .138

Decorrido: 00:00:00.02

09:37:41 3h "00288_edb360_135990_3h_279_active_sessions_more_detail.html"
Elapsed Hours so far:    0.139

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:42 3h "Sessions"
09:37:42 Sessions Waiting

-- borrowed from orachk
SELECT /*+  NO_MERGE  */ /* 3h.280 */
       --x.con_id,
       --c.name con_name,
       x.inst_id, x.sid, x.event,
       ROUND(seconds_in_wait,2)  waiting_seconds,
       ROUND(wait_time/100,2)    waited_seconds,
       p1,p2,p3, BLOCKING_SESSION
FROM gv$session x
     --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
where event not in
(
  'SQL*Net message from client',
  'SQL*Net message to client',
  'rdbms ipc message'
)
and state = 'WAITING'
and username not in ('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')
and username not in ('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')
and (seconds_in_wait > 1 OR wait_time > 100)
order by
      --x.con_id,
      x.inst_id, x.sid

09:37:42 3h.280
Elapsed Hours so far:    0.139
Elapsed Hours so far: .139

Decorrido: 00:00:00.03

09:37:43 3h "00289_edb360_135990_3h_280_sessions_waiting.html"
Elapsed Hours so far:    0.139

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:44 3h "Sessions"
09:37:44 Session Blockers and Waiters

SELECT /*+  NO_MERGE  */ /* 3h.281 */
       b.inst_id b_inst_id,
       b.sql_id b_sql_id,
       b.sql_child_number b_child,
       b.sid b_sid,
       b.serial# b_serial#,
       b.process b_process,
       b.machine b_machine,
       b.program b_program,
       b.module b_module,
       b.client_info b_client_info,
       b.client_identifier b_client_identifier,
       b.event b_event,
       TO_CHAR(b.logon_time, 'DD-MON-YY HH24:MI:SS') b_logon_time,
       TO_CHAR(b.sql_exec_start, 'DD-MON-YY HH24:MI:SS') b_sql_exec_start,
       SUBSTR(bs.sql_text, 1, 500) b_sql_text,
       w.inst_id w_inst_id,
       w.sql_id w_sql_id,
       w.sql_child_number w_child,
       w.sid w_sid,
       w.serial# w_serial#,
       w.process w_process,
       w.machine w_machine,
       w.program w_program,
       w.module w_module,
       w.client_info w_client_info,
       w.client_identifier w_client_identifier,
       w.event w_event,
       TO_CHAR(w.logon_time, 'DD-MON-YY HH24:MI:SS') w_logon_time,
       TO_CHAR(w.sql_exec_start, 'DD-MON-YY HH24:MI:SS') w_sql_exec_start,
       SUBSTR(ws.sql_text, 1, 500) w_sql_text
  FROM gv$session_blockers sb,
       gv$session w,
       gv$session b,
       gv$sql ws,
       gv$sql bs
 WHERE w.inst_id = sb.inst_id
   AND w.sid = sb.sid
   AND w.serial# = sb.sess_serial#
   AND b.inst_id = sb.blocker_instance_id
   AND b.sid = sb.blocker_sid
   AND b.serial# = sb.blocker_sess_serial#
   AND ws.inst_id(+) = w.inst_id
   AND ws.sql_id(+) = w.sql_id
   AND ws.child_number(+) = w.sql_child_number
   --AND ws.con_id(+) = w.con_id
   AND bs.inst_id(+) = b.inst_id
   AND bs.sql_id(+) = b.sql_id
   AND bs.child_number(+) = b.sql_child_number
   --AND bs.con_id(+) = b.con_id
 ORDER BY
       b.inst_id,
       b.sql_id,
       b.sql_child_number,
       b.sid,
       b.serial#,
       w.inst_id,
       w.sql_id,
       w.sql_child_number,
       w.sid,
       w.serial#

09:37:44 3h.281
Elapsed Hours so far:    0.139
Elapsed Hours so far: .139

Decorrido: 00:00:00.02

09:37:44 3h "00290_edb360_135990_3h_281_session_blockers_and_waiters.html"
Elapsed Hours so far:    0.140

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:45 3h "Sessions"
09:37:45 Distributed Transactions awaiting Recovery

-- requested by Milton Quinteros
SELECT /*+  NO_MERGE  */ /* 3h.282 */
       a.*
       --,c.name con_name
  FROM dba_2pc_pending a
       --LEFT OUTER JOIN v$containers c ON c.con_id = a.con_id
 ORDER BY
       1, 2

09:37:45 3h.282
Elapsed Hours so far:    0.140
Elapsed Hours so far: .14

Decorrido: 00:00:00.01

09:37:46 3h "00291_edb360_135990_3h_282_distributed_transactions_awaiting_recovery.html"
Elapsed Hours so far:    0.140

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:46 3h "Sessions"
09:37:46 Connections for Pending Transactions

-- requested by Milton Quinteros
SELECT /*+  NO_MERGE  */ /* 3h.283 */
       a.*
       --,c.name con_name
  FROM dba_2pc_neighbors a
       --LEFT OUTER JOIN v$containers c ON c.con_id = a.con_id
 ORDER BY
       1

09:37:46 3h.283
Elapsed Hours so far:    0.140
Elapsed Hours so far: .14

Decorrido: 00:00:00.02

09:37:47 3h "00292_edb360_135990_3h_283_connections_for_pending_transactions.html"
Elapsed Hours so far:    0.141

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:48 3i "JDBC Sessions"
09:37:48 JDBC Connection usage per Module

-- from monitor_jdbc_conn.sql
WITH x AS (
SELECT COUNT(*) sessions, /* 3i.284 */
--con_id,
module,
SUM(CASE status WHEN 'ACTIVE' THEN 1 ELSE 0 END) active,
SUM(CASE status WHEN 'INACTIVE' THEN 1 ELSE 0 END) inactive,
SUM(CASE status WHEN 'KILLED' THEN 1 ELSE 0 END) killed,
SUM(CASE status WHEN 'CACHED' THEN 1 ELSE 0 END) cached,
SUM(CASE status WHEN 'SNIPED' THEN 1 ELSE 0 END) sniped,
MIN(last_call_et) min_last_call_secs,
MAX(last_call_et) max_last_call_secs,
MEDIAN(last_call_et) med_last_call_secs
FROM gv$session
where program like '%JDBC%'
GROUP BY --con_id,
module
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
ORDER BY x.sessions DESC, --x.con_id,
         x.module

09:37:48 3i.284
Elapsed Hours so far:    0.141
Elapsed Hours so far: .141

Decorrido: 00:00:00.02

09:37:49 3i "00293_edb360_135990_3i_284_jdbc_connection_usage_per_module.html"
Elapsed Hours so far:    0.141

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:49 3i "JDBC Sessions"
09:37:49 JDBC Connection usage per Process and Module

-- from monitor_jdbc_conn.sql
WITH x AS (
SELECT COUNT(*) sessions, /* 3i.285 */
--con_id,
process,
module,
SUM(CASE status WHEN 'ACTIVE' THEN 1 ELSE 0 END) active,
SUM(CASE status WHEN 'INACTIVE' THEN 1 ELSE 0 END) inactive,
SUM(CASE status WHEN 'KILLED' THEN 1 ELSE 0 END) killed,
SUM(CASE status WHEN 'CACHED' THEN 1 ELSE 0 END) cached,
SUM(CASE status WHEN 'SNIPED' THEN 1 ELSE 0 END) sniped,
MIN(last_call_et) min_last_call_secs,
MAX(last_call_et) max_last_call_secs,
MEDIAN(last_call_et) med_last_call_secs
FROM  gv$session
WHERE program LIKE '%JDBC%'
GROUP BY --con_id,
         process, module
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
ORDER BY x.sessions DESC, --x.con_id,
         x.process, x.module

09:37:49 3i.285
Elapsed Hours so far:    0.141
Elapsed Hours so far: .141

Decorrido: 00:00:00.01

09:37:50 3i "00294_edb360_135990_3i_285_jdbc_connection_usage_per_process_and_module.html"
Elapsed Hours so far:    0.141

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:51 3i "JDBC Sessions"
09:37:51 JDBC Connection usage per JVM

-- from monitor_jdbc_conn.sql
WITH x AS (
SELECT COUNT(*) sessions, /* 3i.286 */
--con_id,
machine,
SUM(CASE status WHEN 'ACTIVE' THEN 1 ELSE 0 END) active,
SUM(CASE status WHEN 'INACTIVE' THEN 1 ELSE 0 END) inactive,
SUM(CASE status WHEN 'KILLED' THEN 1 ELSE 0 END) killed,
SUM(CASE status WHEN 'CACHED' THEN 1 ELSE 0 END) cached,
SUM(CASE status WHEN 'SNIPED' THEN 1 ELSE 0 END) sniped,
MIN(last_call_et) min_last_call_secs,
MAX(last_call_et) max_last_call_secs,
MEDIAN(last_call_et) med_last_call_secs
FROM gv$session
where program like '%JDBC%'
GROUP BY --con_id,
         machine
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
ORDER BY x.sessions DESC, --x.con_id,
         x.machine

09:37:51 3i.286
Elapsed Hours so far:    0.141
Elapsed Hours so far: .141

Decorrido: 00:00:00.01

09:37:51 3i "00295_edb360_135990_3i_286_jdbc_connection_usage_per_jvm.html"
Elapsed Hours so far:    0.142

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:52 3i "JDBC Sessions"
09:37:52 JDBC Connection usage per JVM Process

-- from monitor_jdbc_conn.sql
WITH x AS (
SELECT COUNT(*) sessions, /* 3i.287 */
--con_id,
machine,
process,
SUM(CASE status WHEN 'ACTIVE' THEN 1 ELSE 0 END) active,
SUM(CASE status WHEN 'INACTIVE' THEN 1 ELSE 0 END) inactive,
SUM(CASE status WHEN 'KILLED' THEN 1 ELSE 0 END) killed,
SUM(CASE status WHEN 'CACHED' THEN 1 ELSE 0 END) cached,
SUM(CASE status WHEN 'SNIPED' THEN 1 ELSE 0 END) sniped,
MIN(last_call_et) min_last_call_secs,
MAX(last_call_et) max_last_call_secs,
MEDIAN(last_call_et) med_last_call_secs
FROM gv$session
where program like '%JDBC%'
GROUP BY --con_id,
         machine, process
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
ORDER BY x.sessions DESC, --x.con_id,
         x.machine, x.process

09:37:52 3i.287
Elapsed Hours so far:    0.142
Elapsed Hours so far: .142

Decorrido: 00:00:00.01

09:37:53 3i "00296_edb360_135990_3i_287_jdbc_connection_usage_per_jvm_process.html"
Elapsed Hours so far:    0.142

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:53 3i "JDBC Sessions"
09:37:53 JDBC Idle connections for more than N hours

-- from monitor_jdbc_conn.sql
WITH x AS (
SELECT --con_id,
TRUNC(last_call_et/3600) hours_idle,status, /* 3i.288 */
COUNT(*) sessions,
CASE TRUNC(last_call_et/3600) WHEN 0 THEN ROUND(AVG(last_call_et)) END avg_secs,
CASE TRUNC(last_call_et/3600) WHEN 0 THEN MEDIAN(last_call_et) END med_secs
FROM     gv$session
where    program like '%JDBC%'
AND      status <> 'ACTIVE'
GROUP BY --con_id,
         status,TRUNC(last_call_et/3600)
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
ORDER BY x.hours_idle, x.status

09:37:53 3i.288
Elapsed Hours so far:    0.142
Elapsed Hours so far: .142

Decorrido: 00:00:00.02

09:37:54 3i "00297_edb360_135990_3i_288_jdbc_idle_connections_for_more_than_n_hours.html"
Elapsed Hours so far:    0.142

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:55 3i "JDBC Sessions"
09:37:55 JDBC Idle connections per Status, JVM and Program

-- from monitor_jdbc_conn.sql
WITH x AS (
SELECT TRUNC(last_call_et/3600) hours_idle, /* 3i.289 */
status,
--con_id,
machine,
program,
COUNT(*) sessions,
CASE TRUNC(last_call_et/3600) WHEN 0 THEN ROUND(AVG(last_call_et)) END avg_secs,
CASE TRUNC(last_call_et/3600) WHEN 0 THEN MEDIAN(last_call_et) END med_secs
FROM gv$session
where program like '%JDBC%'
--and  last_call_et > 3600
and status <> 'ACTIVE'
GROUP BY TRUNC(last_call_et/3600), status,
         --con_id,
		 machine, program
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
ORDER BY x.hours_idle, x.status,
       --x.con_id,
	   x.machine, x.program

09:37:55 3i.289
Elapsed Hours so far:    0.142
Elapsed Hours so far: .142

Decorrido: 00:00:00.02

09:37:55 3i "00298_edb360_135990_3i_289_jdbc_idle_connections_per_status_jvm_and_program.html"
Elapsed Hours so far:    0.143

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:56 3i "JDBC Sessions"
09:37:56 JDBC Active connections

-- from monitor_jdbc_conn.sql
SELECT s.last_call_et last_call_et_secs,  /* 3i.290 */
s.*,  t.sql_text current_sql, t2.sql_text prev_sql
     --,c.name con_name
FROM gv$session s
     --LEFT OUTER JOIN v$containers c ON c.con_id = s.con_id
     LEFT OUTER JOIN gv$sql t
     ON s.inst_id =t.inst_id
     and s.sql_address =t.address
     and s.sql_hash_value =t.hash_value
     and s.sql_id = t.sql_id
     and s.sql_child_number = t.child_number
     --and s.con_id = t.con_id
	 LEFT OUTER JOIN gv$sql t2
     ON s.inst_id =t2.inst_id
     and s.prev_sql_addr =t2.address
     and s.prev_hash_value =t2.hash_value
     and s.prev_sql_id = t2.sql_id
     and s.prev_child_number = t2.child_number
     --and s.con_id = t2.con_id
WHERE s.program like '%JDBC%'
AND   s.status = 'ACTIVE'
ORDER BY last_call_et

09:37:56 3i.290
Elapsed Hours so far:    0.143
Elapsed Hours so far: .143

Decorrido: 00:00:00.02

09:37:57 3i "00299_edb360_135990_3i_290_jdbc_active_connections.html"
Elapsed Hours so far:    0.143

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:57 3i "JDBC Sessions"
09:37:57 JDBC Idle connections

-- from monitor_jdbc_conn.sql
SELECT s.last_call_et last_call_et_secs,  /* 3i.291 */
s.*,  t.sql_text current_sql, t2.sql_text prev_sql
     --,c.name con_name
FROM gv$session s
     --LEFT OUTER JOIN v$containers c ON c.con_id = s.con_id
     LEFT OUTER JOIN gv$sql t
     ON s.inst_id =t.inst_id
     and s.sql_address =t.address
     and s.sql_hash_value =t.hash_value
     and s.sql_id = t.sql_id
     and s.sql_child_number = t.child_number
     --and s.con_id = t.con_id
	 LEFT OUTER JOIN gv$sql t2
     ON s.inst_id =t2.inst_id
     and s.prev_sql_addr =t2.address
     and s.prev_hash_value =t2.hash_value
     and s.prev_sql_id = t2.sql_id
     and s.prev_child_number = t2.child_number
     --and s.con_id = t2.con_id
WHERE s.program like '%JDBC%'
and s.status <> 'ACTIVE'
ORDER BY last_call_et

09:37:57 3i.291
Elapsed Hours so far:    0.143
Elapsed Hours so far: .143

Decorrido: 00:00:00.01

09:37:58 3i "00300_edb360_135990_3i_291_jdbc_idle_connections.html"
Elapsed Hours so far:    0.144

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:37:59 3j "Non-JDBC Sessions"
09:37:59 Non-JDBC Connection usage per Module

-- from monitor_jdbc_conn.sql
WITH x AS (
SELECT count(*) sessions, /* 3j.292 */
--con_id,
type,
module,
SUM(CASE status WHEN 'ACTIVE' THEN 1 ELSE 0 END) active,
SUM(CASE status WHEN 'INACTIVE' THEN 1 ELSE 0 END) inactive,
SUM(CASE status WHEN 'KILLED' THEN 1 ELSE 0 END) killed,
SUM(CASE status WHEN 'CACHED' THEN 1 ELSE 0 END) cached,
SUM(CASE status WHEN 'SNIPED' THEN 1 ELSE 0 END) sniped,
MIN(last_call_et) min_last_call_secs,
MAX(last_call_et) max_last_call_secs,
MEDIAN(last_call_et) med_last_call_secs
FROM gv$session
where (program IS NULL OR program not like '%JDBC%')
GROUP BY --con_id,
         type,module
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
ORDER BY x.sessions DESC,
         --x.con_id,
		 x.type, x.module

09:37:59 3j.292
Elapsed Hours so far:    0.144
Elapsed Hours so far: .144

Decorrido: 00:00:00.02

09:38:00 3j "00301_edb360_135990_3j_292_nonjdbc_connection_usage_per_module.html"
Elapsed Hours so far:    0.144

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:00 3j "Non-JDBC Sessions"
09:38:00 Non-JDBC Connection usage per Process and Module

-- from monitor_jdbc_conn.sql
WITH x AS (
SELECT count(*) sessions, /* 3j.293 */
--con_id,
type,
process,
module,
SUM(CASE status WHEN 'ACTIVE' THEN 1 ELSE 0 END) active,
SUM(CASE status WHEN 'INACTIVE' THEN 1 ELSE 0 END) inactive,
SUM(CASE status WHEN 'KILLED' THEN 1 ELSE 0 END) killed,
SUM(CASE status WHEN 'CACHED' THEN 1 ELSE 0 END) cached,
SUM(CASE status WHEN 'SNIPED' THEN 1 ELSE 0 END) sniped,
MIN(last_call_et) min_last_call_secs,
MAX(last_call_et) max_last_call_secs,
MEDIAN(last_call_et) med_last_call_secs
FROM gv$session
where (program IS NULL OR program not like '%JDBC%')
GROUP BY --con_id,
         type,process, module
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
ORDER BY x.sessions DESC, --x.con_id,
         x.type, x.process, x.module

09:38:00 3j.293
Elapsed Hours so far:    0.144
Elapsed Hours so far: .144

Decorrido: 00:00:00.01

09:38:01 3j "00302_edb360_135990_3j_293_nonjdbc_connection_usage_per_process_and_module.html"
Elapsed Hours so far:    0.144

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:02 3j "Non-JDBC Sessions"
09:38:02 Non-JDBC Connection usage per JVM

-- from monitor_jdbc_conn.sql
WITH x AS (
SELECT count(*) sessions, /* 3j.294 */
--con_id,
type,
machine,
SUM(CASE status WHEN 'ACTIVE' THEN 1 ELSE 0 END) active,
SUM(CASE status WHEN 'INACTIVE' THEN 1 ELSE 0 END) inactive,
SUM(CASE status WHEN 'KILLED' THEN 1 ELSE 0 END) killed,
SUM(CASE status WHEN 'CACHED' THEN 1 ELSE 0 END) cached,
SUM(CASE status WHEN 'SNIPED' THEN 1 ELSE 0 END) sniped,
MIN(last_call_et) min_last_call_secs,
MAX(last_call_et) max_last_call_secs,
MEDIAN(last_call_et) med_last_call_secs
FROM gv$session
where (program IS NULL OR program not like '%JDBC%')
GROUP BY --con_id,
         type, machine
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
ORDER BY x.sessions DESC, --x.con_id,
         x.type, x.machine

09:38:02 3j.294
Elapsed Hours so far:    0.144
Elapsed Hours so far: .144

Decorrido: 00:00:00.01

09:38:02 3j "00303_edb360_135990_3j_294_nonjdbc_connection_usage_per_jvm.html"
Elapsed Hours so far:    0.145

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:03 3j "Non-JDBC Sessions"
09:38:03 Non-JDBC Connection usage per JVM Process

-- from monitor_jdbc_conn.sql
WITH x AS (
SELECT count(*) sessions, /* 3j.295 */
--con_id,
type,
machine,
process,
SUM(CASE status WHEN 'ACTIVE' THEN 1 ELSE 0 END) active,
SUM(CASE status WHEN 'INACTIVE' THEN 1 ELSE 0 END) inactive,
SUM(CASE status WHEN 'KILLED' THEN 1 ELSE 0 END) killed,
SUM(CASE status WHEN 'CACHED' THEN 1 ELSE 0 END) cached,
SUM(CASE status WHEN 'SNIPED' THEN 1 ELSE 0 END) sniped,
MIN(last_call_et) min_last_call_secs,
MAX(last_call_et) max_last_call_secs,
MEDIAN(last_call_et) med_last_call_secs
FROM gv$session
where (program IS NULL OR program not like '%JDBC%')
GROUP BY --con_id,
         type,machine, process
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
ORDER BY x.sessions DESC, --x.con_id,
         x.type, x.machine, x.process

09:38:03 3j.295
Elapsed Hours so far:    0.145
Elapsed Hours so far: .145

Decorrido: 00:00:00.02

09:38:04 3j "00304_edb360_135990_3j_295_nonjdbc_connection_usage_per_jvm_process.html"
Elapsed Hours so far:    0.145

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:04 3j "Non-JDBC Sessions"
09:38:04 Non-JDBC Idle connections for more than N hours

-- from monitor_jdbc_conn.sql
WITH x AS (
SELECT TRUNC(last_call_et/3600) hours_idle, /* 3j.296 */
type,
status,
--con_id,
count(*) sessions,
CASE TRUNC(last_call_et/3600) WHEN 0 THEN ROUND(AVG(last_call_et)) END avg_secs,
CASE TRUNC(last_call_et/3600) WHEN 0 THEN MEDIAN(last_call_et) END med_secs
FROM gv$session
where (program IS NULL OR program not like '%JDBC%')
and status <> 'ACTIVE'
GROUP BY --con_id,
         type,status,TRUNC(last_call_et/3600)
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
ORDER BY x.hours_idle, x.type, x.status --,x.con_id

09:38:04 3j.296
Elapsed Hours so far:    0.145
Elapsed Hours so far: .145

Decorrido: 00:00:00.02

09:38:05 3j "00305_edb360_135990_3j_296_nonjdbc_idle_connections_for_more_than_n_hours.html"
Elapsed Hours so far:    0.145

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:06 3j "Non-JDBC Sessions"
09:38:06 Non-JDBC Idle connections per Status, JVM and Program

-- from monitor_jdbc_conn.sql
WITH x AS (
SELECT TRUNC(last_call_et/3600) hours_idle, /* 3j.297 */
type,
status,
--con_id,
machine,
program,
count(*) sessions,
CASE TRUNC(last_call_et/3600) WHEN 0 THEN ROUND(AVG(last_call_et)) END avg_secs,
CASE TRUNC(last_call_et/3600) WHEN 0 THEN MEDIAN(last_call_et) END med_secs
FROM gv$session
where (program IS NULL OR program not like '%JDBC%')
--and  last_call_et > 3600
and status <> 'ACTIVE'
GROUP BY TRUNC(last_call_et/3600),type,status,
         --con_id,
		 machine, program
)
SELECT x.*
       --,c.name con_name
  FROM x
       --LEFT OUTER JOIN v$containers c ON c.con_id = x.con_id
ORDER BY x.hours_idle, x.type, x.status,
         --x.con_id,
         x.machine, x.program

09:38:06 3j.297
Elapsed Hours so far:    0.145
Elapsed Hours so far: .145

Decorrido: 00:00:00.01

09:38:06 3j "00306_edb360_135990_3j_297_nonjdbc_idle_connections_per_status_jvm_and_program.html"
Elapsed Hours so far:    0.146

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:07 3j "Non-JDBC Sessions"
09:38:07 Non-JDBC Active connections

-- from monitor_jdbc_conn.sql
SELECT s.last_call_et last_call_et_secs,  /* 3j.298 */
s.*,  t.sql_text current_sql, t2.sql_text prev_sql
     --,c.name con_name
FROM gv$session s
     --LEFT OUTER JOIN v$containers c ON c.con_id = s.con_id
     LEFT OUTER JOIN gv$sql t
     ON s.inst_id =t.inst_id
     and s.sql_address =t.address
     and s.sql_hash_value =t.hash_value
     and s.sql_id = t.sql_id
     and s.sql_child_number = t.child_number
     --and s.con_id = t.con_id
	 LEFT OUTER JOIN gv$sql t2
     ON s.inst_id =t2.inst_id
     and s.prev_sql_addr =t2.address
     and s.prev_hash_value =t2.hash_value
     and s.prev_sql_id = t2.sql_id
     and s.prev_child_number = t2.child_number
     --and s.con_id = t2.con_id
WHERE (s.program IS NULL OR s.program not like '%JDBC%')
and s.status = 'ACTIVE'
ORDER BY last_call_et

09:38:07 3j.298
Elapsed Hours so far:    0.146
Elapsed Hours so far: .146

Decorrido: 00:00:00.02

09:38:08 3j "00307_edb360_135990_3j_298_nonjdbc_active_connections.html"
Elapsed Hours so far:    0.146

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:09 3j "Non-JDBC Sessions"
09:38:09 Non-JDBC Idle connections

-- from monitor_jdbc_conn.sql
SELECT s.last_call_et last_call_et_secs,  /* 3j.299 */
s.*,  t.sql_text current_sql, t2.sql_text prev_sql
     --,c.name con_name
FROM gv$session s
     --LEFT OUTER JOIN v$containers c ON c.con_id = s.con_id
     LEFT OUTER JOIN gv$sql t
     ON s.inst_id =t.inst_id
     and s.sql_address =t.address
     and s.sql_hash_value =t.hash_value
     and s.sql_id = t.sql_id
     and s.sql_child_number = t.child_number
     --and s.con_id = t.con_id
	 LEFT OUTER JOIN gv$sql t2
     ON s.inst_id =t2.inst_id
     and s.prev_sql_addr =t2.address
     and s.prev_hash_value =t2.hash_value
     and s.prev_sql_id = t2.sql_id
     and s.prev_child_number = t2.child_number
     --and s.con_id = t2.con_id
WHERE (s.program IS NULL OR s.program not like '%JDBC%')
and s.status <> 'ACTIVE'
ORDER BY last_call_et

09:38:09 3j.299
Elapsed Hours so far:    0.146
Elapsed Hours so far: .146

Decorrido: 00:00:00.05

09:38:10 3j "00308_edb360_135990_3j_299_nonjdbc_idle_connections.html"
Elapsed Hours so far:    0.147

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:11 4j "Parallel Execution"
09:38:11 DOP Limit Method

SELECT /*+  NO_MERGE  */ /* 4j.300 */
       *
    FROM v$parallel_degree_limit_mth

09:38:11 4j.300
Elapsed Hours so far:    0.147
Elapsed Hours so far: .147

Decorrido: 00:00:00.01

09:38:12 4j "00309_edb360_135990_4j_300_dop_limit_method.html"
Elapsed Hours so far:    0.147

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:12 4j "Parallel Execution"
09:38:12 PX Buffer Advice

SELECT /*+  NO_MERGE  */ /* 4j.301 */
       *
  FROM gv$px_buffer_advice
 ORDER BY 1, 2

09:38:12 4j.301
Elapsed Hours so far:    0.147
Elapsed Hours so far: .147

Decorrido: 00:00:00.01

09:38:13 4j "00310_edb360_135990_4j_301_px_buffer_advice.html"
Elapsed Hours so far:    0.148

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:14 4j "Parallel Execution"
09:38:14 PQ System Stats

SELECT /*+  NO_MERGE  */ /* 4j.302 */
       *
  FROM gv$pq_sysstat
 ORDER BY 1, 2

09:38:14 4j.302
Elapsed Hours so far:    0.148
Elapsed Hours so far: .148

Decorrido: 00:00:00.02

09:38:14 4j "00311_edb360_135990_4j_302_pq_system_stats.html"
Elapsed Hours so far:    0.148

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:15 4j "Parallel Execution"
09:38:15 PX Process System Stats

SELECT /*+  NO_MERGE  */ /* 4j.303 */
       *
  FROM gv$px_process_sysstat
 ORDER BY 1, 2

09:38:15 4j.303
Elapsed Hours so far:    0.148
Elapsed Hours so far: .148

Decorrido: 00:00:00.02

09:38:16 4j "00312_edb360_135990_4j_303_px_process_system_stats.html"
Elapsed Hours so far:    0.148

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:16 4j "Parallel Execution"
09:38:16 System Stats

SELECT /*+  NO_MERGE  */ /* 4j.304 */
       *
  FROM gv$sysstat
 ORDER BY 1, UPPER(name)

09:38:16 4j.304
Elapsed Hours so far:    0.148
Elapsed Hours so far: .148

Decorrido: 00:00:00.01

09:38:17 4j "00313_edb360_135990_4j_304_system_stats.html"
Elapsed Hours so far:    0.149

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:18 4j "Parallel Execution"
09:38:18 PQ Slave

SELECT * FROM gv$pq_slave ORDER BY 1, 2

09:38:18 4j.305
Elapsed Hours so far:    0.149
Elapsed Hours so far: .149

Decorrido: 00:00:00.02

09:38:19 4j "00314_edb360_135990_4j_305_pq_slave.html"
Elapsed Hours so far:    0.149

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:19 4j "Parallel Execution"
09:38:19 PX Sessions

SELECT /*+  NO_MERGE  */ /* 4j.306 */
       pxs.inst_id,
       pxs.qcsid,
       NVL(pxp.server_name, 'QC') server_name,
       pxs.sid,
       pxs.serial#,
       NVL(pxp.pid, pro.pid) pid,
       NVL(pxp.spid, pro.spid) spid,
       pxs.server_group,
       pxs.server_set,
       pxs.server#,
       pxs.degree,
       pxs.req_degree,
       swt.event,
       ses.sql_id,
       ses.sql_child_number,
       ses.resource_consumer_group,
       ses.module,
       ses.action
  FROM gv$px_session pxs,
       gv$px_process pxp,
       gv$session ses,
       gv$process pro,
       gv$session_wait swt
 WHERE pxp.inst_id(+) = pxs.inst_id
   AND pxp.sid(+) = pxs.sid
   AND pxp.serial#(+) = pxs.serial#
   AND ses.inst_id(+) = pxs.inst_id
   AND ses.sid(+) = pxs.sid
   AND ses.serial#(+) = pxs.serial#
   AND ses.saddr(+) = pxs.saddr
   AND pro.inst_id(+) = ses.inst_id
   AND pro.addr(+) = ses.paddr
   AND swt.inst_id(+) = ses.inst_id
   AND swt.sid(+) = ses.sid
 ORDER BY
       pxs.inst_id,
       pxs.qcsid,
       pxs.qcserial# NULLS FIRST,
       pxp.server_name NULLS FIRST

09:38:19 4j.306
Elapsed Hours so far:    0.149
Elapsed Hours so far: .149

Decorrido: 00:00:00.02

09:38:20 4j "00315_edb360_135990_4j_306_px_sessions.html"
Elapsed Hours so far:    0.150

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:21 4j "Parallel Execution"
09:38:21 PX Sessions Stats

SELECT /*+  NO_MERGE  */ /* 4j.307 */
       s.*,
       n.name
  FROM gv$px_sesstat s,
       gv$sysstat n
 WHERE s.value > 0
   AND n.inst_id = s.inst_id
   AND n.statistic# = s.statistic#
 ORDER BY s.inst_id, s.qcsid NULLS FIRST, s.sid

09:38:21 4j.307
Elapsed Hours so far:    0.150
Elapsed Hours so far: .15

Decorrido: 00:00:00.02

09:38:21 4j "00316_edb360_135990_4j_307_px_sessions_stats.html"
Elapsed Hours so far:    0.150

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:22 4j "Parallel Execution"
09:38:22 PX Processes

SELECT /*+  NO_MERGE  */ /* 4j.308 */
       *
  FROM gv$px_process
 ORDER BY 1, 2

09:38:22 4j.308
Elapsed Hours so far:    0.150
Elapsed Hours so far: .15

Decorrido: 00:00:00.02

09:38:23 4j "00317_edb360_135990_4j_308_px_processes.html"
Elapsed Hours so far:    0.150

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:24 4j "Parallel Execution"
09:38:24 Services

SELECT /*+  NO_MERGE  */ /* 4j.309 */
       *
  FROM gv$services
 ORDER BY 1, 2

09:38:24 4j.309
Elapsed Hours so far:    0.150
Elapsed Hours so far: .15

Decorrido: 00:00:00.02

09:38:24 4j "00318_edb360_135990_4j_309_services.html"
Elapsed Hours so far:    0.151

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:25 4j "Parallel Execution"
09:38:25 IO Last Calibration Results

SELECT /*+  NO_MERGE  */ /* 4j.310 */
       *
  FROM dba_rsrc_io_calibrate
 ORDER BY
       1, 2

09:38:25 4j.310
Elapsed Hours so far:    0.151
Elapsed Hours so far: .151

Decorrido: 00:00:00.03

09:38:25 4j "00319_edb360_135990_4j_310_io_last_calibration_results.html"
Elapsed Hours so far:    0.151

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:26 4j "Parallel Execution"
09:38:26 Parallel Parameters

-- inspired on parmsd.sql (Kerry Osborne)
select name, description, value, isdefault, ismodified, isset
from
(
select flag,name,value,isdefault,ismodified,
case when isdefault||ismodified = 'TRUEFALSE' then 'FALSE' else 'TRUE' end isset ,
description
from
   (
       select
            decode(substr(i.ksppinm,1,1),'_',2,1) flag
            , i.ksppinm name
            , sv.ksppstvl value
            , sv.ksppstdf  isdefault
--            , decode(bitand(sv.ksppstvf,7),1,'MODIFIED',4,'SYSTEM_MOD','FALSE') ismodified
            , decode(bitand(sv.ksppstvf,7),1,'TRUE',4,'TRUE','FALSE') ismodified
, i.KSPPDESC description
         from sys.x$ksppi  i
            , sys.x$ksppsv sv
        where i.indx = sv.indx
   )
)
where name like nvl('%parallel%',name)
and flag != 3
order by flag,replace(name,'_','')

09:38:26 4j.311
Elapsed Hours so far:    0.151
Elapsed Hours so far: .151

Decorrido: 00:00:00.02

09:38:27 4j "00320_edb360_135990_4j_311_parallel_parameters.html"
Elapsed Hours so far:    0.152

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:28 4j "Parallel Execution"
09:38:28 Parallel Operations

WITH
selected_stat_name AS (
SELECT /*+  MATERIALIZE NO_MERGE   DYNAMIC_SAMPLING(4)  */ /* 4j.312 */
       h.snap_id,
       h.instance_number,
       s.begin_interval_time,
       s.end_interval_time,
       (s.startup_time - LAG(s.startup_time) OVER (PARTITION BY h.dbid, h.instance_number, h.stat_id ORDER BY h.snap_id)) startup_time_interval,
       h.stat_name,
       (h.value - LAG(h.value) OVER (PARTITION BY h.dbid, h.instance_number, h.stat_id ORDER BY h.snap_id)) value
       --h.value
  FROM DBA_HIST_sysstat h,
       DBA_HIST_snapshot s
 WHERE h.snap_id BETWEEN 0 AND 1
   AND h.dbid = 604135990
   AND h.stat_name IN ('queries parallelized', 'DML statements parallelized', 'DDL statements parallelized', 'Parallel operations not downgraded', 'Parallel operations downgraded to serial', 'Parallel operations downgraded 1 to 25 pct', 'Parallel operations downgraded 25 to 50 pct', 'Parallel operations downgraded 50 to 75 pct', 'Parallel operations downgraded 75 to 99 pct', 'DFO trees parallelized', '@stat_name_11@', '@stat_name_12@', '@stat_name_13@', '@stat_name_14@', '@stat_name_15@')
   AND s.snap_id = h.snap_id
   AND s.dbid = h.dbid
   AND s.instance_number = h.instance_number
   AND s.end_interval_time - s.begin_interval_time > TO_DSINTERVAL('+00 00:01:00.000000') -- exclude snaps less than 1m appart
),
stat_name_per_snap AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 4j.312 */
       snap_id,
       MIN(begin_interval_time) begin_interval_time,
       MIN(end_interval_time) end_interval_time,
       stat_name,
       SUM(value) value
  FROM selected_stat_name
 WHERE startup_time_interval = TO_DSINTERVAL('+00 00:00:00.000000') -- include only snaps from same startup
   AND value >= 0
 GROUP BY
       snap_id,
       stat_name
)
SELECT /*+  NO_MERGE  */ /* 4j.312 */
       snap_id,
       TO_CHAR(MIN(begin_interval_time), 'YYYY-MM-DD HH24:MI:SS') begin_time,
       TO_CHAR(MIN(end_interval_time), 'YYYY-MM-DD HH24:MI:SS') end_time,
       SUM(CASE stat_name WHEN 'queries parallelized' THEN value ELSE 0 END) "queries parallelized",
       SUM(CASE stat_name WHEN 'DML statements parallelized' THEN value ELSE 0 END) "DML statements parallelized",
       SUM(CASE stat_name WHEN 'DDL statements parallelized' THEN value ELSE 0 END) "DDL statements parallelized",
       SUM(CASE stat_name WHEN 'Parallel operations not downgraded' THEN value ELSE 0 END) " not downgraded",
       SUM(CASE stat_name WHEN 'Parallel operations downgraded to serial' THEN value ELSE 0 END) " downgraded to serial",
       SUM(CASE stat_name WHEN 'Parallel operations downgraded 1 to 25 pct' THEN value ELSE 0 END) " downgraded 1 to 25 pct",
       SUM(CASE stat_name WHEN 'Parallel operations downgraded 25 to 50 pct' THEN value ELSE 0 END) " downgraded 25 to 50 pct",
       SUM(CASE stat_name WHEN 'Parallel operations downgraded 50 to 75 pct' THEN value ELSE 0 END) " downgraded 50 to 75 pct",
       SUM(CASE stat_name WHEN 'Parallel operations downgraded 75 to 99 pct' THEN value ELSE 0 END) " downgraded 75 to 99 pct",
       SUM(CASE stat_name WHEN 'DFO trees parallelized' THEN value ELSE 0 END) "DFO trees parallelized",
       SUM(CASE stat_name WHEN '@stat_name_11@' THEN value ELSE 0 END) dummy_11,
       SUM(CASE stat_name WHEN '@stat_name_12@' THEN value ELSE 0 END) dummy_12,
       SUM(CASE stat_name WHEN '@stat_name_13@' THEN value ELSE 0 END) dummy_13,
       SUM(CASE stat_name WHEN '@stat_name_14@' THEN value ELSE 0 END) dummy_14,
       SUM(CASE stat_name WHEN '@stat_name_15@' THEN value ELSE 0 END) dummy_15
  FROM stat_name_per_snap
 GROUP BY
       snap_id
 ORDER BY
       snap_id

09:38:28 4j.312
Elapsed Hours so far:    0.152
Elapsed Hours so far: .152

Decorrido: 00:00:00.01

09:38:28 4j "00321_edb360_135990_4j_312_parallel_operations.html"
09:38:29 4j "00322_edb360_135990_4j_312_parallel_operations_line_chart.html"
Elapsed Hours so far:    0.152

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:30 4j "Parallel Execution"
09:38:30 Parallel Downgrade Perc

WITH
selected_stat_name AS (
SELECT /*+  MATERIALIZE NO_MERGE   DYNAMIC_SAMPLING(4)  */ /* 4j.313 */
       h.snap_id,
       h.instance_number,
       s.begin_interval_time,
       s.end_interval_time,
       (s.startup_time - LAG(s.startup_time) OVER (PARTITION BY h.dbid, h.instance_number, h.stat_id ORDER BY h.snap_id)) startup_time_interval,
       h.stat_name,
       (h.value - LAG(h.value) OVER (PARTITION BY h.dbid, h.instance_number, h.stat_id ORDER BY h.snap_id)) value
       --h.value
  FROM DBA_HIST_sysstat h,
       DBA_HIST_snapshot s
 WHERE h.snap_id BETWEEN 0 AND 1
   AND h.dbid = 604135990
   AND h.stat_name IN ('queries parallelized','DML statements parallelized','DDL statements parallelized',
                        'Parallel operations not downgraded','Parallel operations downgraded to serial',
                        'Parallel operations downgraded 1 to 25 pct','Parallel operations downgraded 25 to 50 pct',
                        'Parallel operations downgraded 50 to 75 pct','Parallel operations downgraded 75 to 99 pct'
                        ,'DFO trees parallelized')
   AND s.snap_id = h.snap_id
   AND s.dbid = h.dbid
   AND s.instance_number = h.instance_number
   AND s.end_interval_time - s.begin_interval_time > TO_DSINTERVAL('+00 00:01:00.000000') -- exclude snaps less than 1m appart
),
stat_name_per_snap AS (
SELECT /*+  MATERIALIZE NO_MERGE  */ /* 4j.313 */
       snap_id,
       MIN(begin_interval_time) begin_interval_time,
       MIN(end_interval_time) end_interval_time,
       stat_name,
       SUM(value) value
  FROM selected_stat_name
 WHERE startup_time_interval = TO_DSINTERVAL('+00 00:00:00.000000') -- include only snaps from same startup
   AND value >= 0
 GROUP BY
       snap_id,
       stat_name
), pxstats as (
SELECT /*+  NO_MERGE  */ /* 4j.313 */
       snap_id,
       TO_CHAR(MIN(begin_interval_time), 'YYYY-MM-DD HH24:MI:SS') begin_time,
       TO_CHAR(MIN(end_interval_time), 'YYYY-MM-DD HH24:MI:SS') end_time,
       SUM(CASE stat_name WHEN 'queries parallelized' THEN value ELSE 0 END) queries_px,
       SUM(CASE stat_name WHEN 'DML statements parallelized' THEN value ELSE 0 END) dml_px,
       SUM(CASE stat_name WHEN 'DDL statements parallelized' THEN value ELSE 0 END) ddl_px,
       SUM(CASE  WHEN stat_name in  ('queries parallelized','DML statements parallelized','DDL statements parallelized') THEN value ELSE 0 END) sql_px_total,
       SUM(CASE stat_name WHEN 'Parallel operations not downgraded' THEN value ELSE 0 END) no_downgrade,
       SUM(CASE stat_name WHEN 'Parallel operations downgraded to serial' THEN value ELSE 0 END) PX_SERIAL,
       SUM(CASE stat_name WHEN 'Parallel operations downgraded 1 to 25 pct' THEN value ELSE 0 END) PX1_25,
       SUM(CASE stat_name WHEN 'Parallel operations downgraded 25 to 50 pct' THEN value ELSE 0 END) PX25_50,
       SUM(CASE stat_name WHEN 'Parallel operations downgraded 50 to 75 pct' THEN value ELSE 0 END) PX50_75,
       SUM(CASE stat_name WHEN 'Parallel operations downgraded 75 to 99 pct' THEN value ELSE 0 END) PX77_99,
        SUM(CASE stat_name WHEN 'DFO trees parallelized' THEN value ELSE 0 END) DFO,
       SUM(CASE  WHEN stat_name like 'Parallel operations downgraded %' THEN value ELSE 0 END) total_downgrade,
       SUM(CASE  WHEN stat_name like 'Parallel operations downgraded % pct' THEN value ELSE 0 END) parcial_downgrade,
       SUM(CASE  WHEN stat_name in  ('queries parallelized','DML statements parallelized','DDL statements parallelized')
                 OR stat_name = 'Parallel operations downgraded to serial'
                        THEN value ELSE 0 END) TOTAL_SQL
  FROM stat_name_per_snap
 GROUP BY
       snap_id)
SELECT  snap_id
        ,begin_time
        ,end_time
        ,100*round(parcial_downgrade/decode(total_sql,0,1,total_sql),2) "Perc PX Partial Downgrade"
        ,100*round(no_downgrade/decode(total_sql,0,1,total_sql),2) "Perc PX No Downgrade"
        ,100*round(px_serial/decode(total_sql,0,1,total_sql),2) "Perc Serial"
       ,0 dummy_04
       ,0 dummy_05
       ,0 dummy_06
       ,0 dummy_07
       ,0 dummy_08
       ,0 dummy_09
       ,0 dummy_10
       ,0 dummy_11
       ,0 dummy_12
       ,0 dummy_13
       ,0 dummy_14
       ,0 dummy_15
from pxstats
 ORDER BY
       snap_id

09:38:30 4j.313
Elapsed Hours so far:    0.152
Elapsed Hours so far: .152

Decorrido: 00:00:00.02

09:38:30 4j "00323_edb360_135990_4j_313_parallel_downgrade_perc.html"
09:38:31 4j "00324_edb360_135990_4j_313_parallel_downgrade_perc_line_chart.html"
Elapsed Hours so far:    0.153

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:32 4j "Parallel Execution"
09:38:32 Active Parallel Sessions

WITH
per_instance AS (
SELECT /*+  MATERIALIZE NO_MERGE   DYNAMIC_SAMPLING(4)  */ /* 4j.314 */
       snap_id,
       instance_number,
       begin_time,
       end_time,
       maxval
  FROM DBA_HIST_sysmetric_summary
 WHERE snap_id BETWEEN 0 AND 1
   AND dbid = 604135990
   AND group_id =                    2 /* 1 minute intervals */
   AND metric_name = 'Active Parallel Sessions'
   AND maxval >= 0
)
SELECT /*+  NO_MERGE  */ /* 4j.314 */
       snap_id,
       TO_CHAR(MIN(begin_time), 'YYYY-MM-DD HH24:MI:SS') begin_time,
       TO_CHAR(MIN(end_time), 'YYYY-MM-DD HH24:MI:SS') end_time,
       ROUND(SUM(maxval), 1) "Max Value",
       0 dummy_02,
       0 dummy_03,
       0 dummy_04,
       0 dummy_05,
       0 dummy_06,
       0 dummy_07,
       0 dummy_08,
       0 dummy_09,
       0 dummy_10,
       0 dummy_11,
       0 dummy_12,
       0 dummy_13,
       0 dummy_14,
       0 dummy_15
  FROM per_instance
 GROUP BY
       snap_id
 ORDER BY
       snap_id

09:38:32 4j.314
Elapsed Hours so far:    0.153
Elapsed Hours so far: .153

Decorrido: 00:00:00.03

09:38:32 4j "00325_edb360_135990_4j_314_active_parallel_sessions.html"
09:38:33 4j "00326_edb360_135990_4j_314_active_parallel_sessions_line_chart.html"
Elapsed Hours so far:    0.153

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:33 4j "Parallel Execution"
09:38:33 PX downgraded 1 to 25% Per Sec

WITH
per_instance AS (
SELECT /*+  MATERIALIZE NO_MERGE   DYNAMIC_SAMPLING(4)  */ /* 4j.314 */
       snap_id,
       instance_number,
       begin_time,
       end_time,
       maxval
  FROM DBA_HIST_sysmetric_summary
 WHERE snap_id BETWEEN 0 AND 1
   AND dbid = 604135990
   AND group_id =                    2 /* 1 minute intervals */
   AND metric_name = 'PX downgraded 1 to 25% Per Sec'
   AND maxval >= 0
)
SELECT /*+  NO_MERGE  */ /* 4j.314 */
       snap_id,
       TO_CHAR(MIN(begin_time), 'YYYY-MM-DD HH24:MI:SS') begin_time,
       TO_CHAR(MIN(end_time), 'YYYY-MM-DD HH24:MI:SS') end_time,
       ROUND(SUM(maxval), 1) "Max Value",
       0 dummy_02,
       0 dummy_03,
       0 dummy_04,
       0 dummy_05,
       0 dummy_06,
       0 dummy_07,
       0 dummy_08,
       0 dummy_09,
       0 dummy_10,
       0 dummy_11,
       0 dummy_12,
       0 dummy_13,
       0 dummy_14,
       0 dummy_15
  FROM per_instance
 GROUP BY
       snap_id
 ORDER BY
       snap_id

09:38:33 4j.315
Elapsed Hours so far:    0.153
Elapsed Hours so far: .153

Decorrido: 00:00:00.02

09:38:34 4j "00327_edb360_135990_4j_315_px_downgraded_1_to_25_per_sec.html"
09:38:34 4j "00328_edb360_135990_4j_315_px_downgraded_1_to_25_per_sec_line_chart.html"
Elapsed Hours so far:    0.154

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:35 4j "Parallel Execution"
09:38:35 PX downgraded 25 to 50% Per Sec

WITH
per_instance AS (
SELECT /*+  MATERIALIZE NO_MERGE   DYNAMIC_SAMPLING(4)  */ /* 4j.314 */
       snap_id,
       instance_number,
       begin_time,
       end_time,
       maxval
  FROM DBA_HIST_sysmetric_summary
 WHERE snap_id BETWEEN 0 AND 1
   AND dbid = 604135990
   AND group_id =                    2 /* 1 minute intervals */
   AND metric_name = 'PX downgraded 25 to 50% Per Sec'
   AND maxval >= 0
)
SELECT /*+  NO_MERGE  */ /* 4j.314 */
       snap_id,
       TO_CHAR(MIN(begin_time), 'YYYY-MM-DD HH24:MI:SS') begin_time,
       TO_CHAR(MIN(end_time), 'YYYY-MM-DD HH24:MI:SS') end_time,
       ROUND(SUM(maxval), 1) "Max Value",
       0 dummy_02,
       0 dummy_03,
       0 dummy_04,
       0 dummy_05,
       0 dummy_06,
       0 dummy_07,
       0 dummy_08,
       0 dummy_09,
       0 dummy_10,
       0 dummy_11,
       0 dummy_12,
       0 dummy_13,
       0 dummy_14,
       0 dummy_15
  FROM per_instance
 GROUP BY
       snap_id
 ORDER BY
       snap_id

09:38:35 4j.316
Elapsed Hours so far:    0.154
Elapsed Hours so far: .154

Decorrido: 00:00:00.01

09:38:36 4j "00329_edb360_135990_4j_316_px_downgraded_25_to_50_per_sec.html"
09:38:36 4j "00330_edb360_135990_4j_316_px_downgraded_25_to_50_per_sec_line_chart.html"
Elapsed Hours so far:    0.154

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:37 4j "Parallel Execution"
09:38:37 PX downgraded 50 to 75% Per Sec

WITH
per_instance AS (
SELECT /*+  MATERIALIZE NO_MERGE   DYNAMIC_SAMPLING(4)  */ /* 4j.314 */
       snap_id,
       instance_number,
       begin_time,
       end_time,
       maxval
  FROM DBA_HIST_sysmetric_summary
 WHERE snap_id BETWEEN 0 AND 1
   AND dbid = 604135990
   AND group_id =                    2 /* 1 minute intervals */
   AND metric_name = 'PX downgraded 50 to 75% Per Sec'
   AND maxval >= 0
)
SELECT /*+  NO_MERGE  */ /* 4j.314 */
       snap_id,
       TO_CHAR(MIN(begin_time), 'YYYY-MM-DD HH24:MI:SS') begin_time,
       TO_CHAR(MIN(end_time), 'YYYY-MM-DD HH24:MI:SS') end_time,
       ROUND(SUM(maxval), 1) "Max Value",
       0 dummy_02,
       0 dummy_03,
       0 dummy_04,
       0 dummy_05,
       0 dummy_06,
       0 dummy_07,
       0 dummy_08,
       0 dummy_09,
       0 dummy_10,
       0 dummy_11,
       0 dummy_12,
       0 dummy_13,
       0 dummy_14,
       0 dummy_15
  FROM per_instance
 GROUP BY
       snap_id
 ORDER BY
       snap_id

09:38:37 4j.317
Elapsed Hours so far:    0.154
Elapsed Hours so far: .154

Decorrido: 00:00:00.01

09:38:37 4j "00331_edb360_135990_4j_317_px_downgraded_50_to_75_per_sec.html"
09:38:38 4j "00332_edb360_135990_4j_317_px_downgraded_50_to_75_per_sec_line_chart.html"
Elapsed Hours so far:    0.155

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:39 4j "Parallel Execution"
09:38:39 PX downgraded 75 to 99% Per Sec

WITH
per_instance AS (
SELECT /*+  MATERIALIZE NO_MERGE   DYNAMIC_SAMPLING(4)  */ /* 4j.314 */
       snap_id,
       instance_number,
       begin_time,
       end_time,
       maxval
  FROM DBA_HIST_sysmetric_summary
 WHERE snap_id BETWEEN 0 AND 1
   AND dbid = 604135990
   AND group_id =                    2 /* 1 minute intervals */
   AND metric_name = 'PX downgraded 75 to 99% Per Sec'
   AND maxval >= 0
)
SELECT /*+  NO_MERGE  */ /* 4j.314 */
       snap_id,
       TO_CHAR(MIN(begin_time), 'YYYY-MM-DD HH24:MI:SS') begin_time,
       TO_CHAR(MIN(end_time), 'YYYY-MM-DD HH24:MI:SS') end_time,
       ROUND(SUM(maxval), 1) "Max Value",
       0 dummy_02,
       0 dummy_03,
       0 dummy_04,
       0 dummy_05,
       0 dummy_06,
       0 dummy_07,
       0 dummy_08,
       0 dummy_09,
       0 dummy_10,
       0 dummy_11,
       0 dummy_12,
       0 dummy_13,
       0 dummy_14,
       0 dummy_15
  FROM per_instance
 GROUP BY
       snap_id
 ORDER BY
       snap_id

09:38:39 4j.318
Elapsed Hours so far:    0.155
Elapsed Hours so far: .155

Decorrido: 00:00:00.01

09:38:39 4j "00333_edb360_135990_4j_318_px_downgraded_75_to_99_per_sec.html"
09:38:39 4j "00334_edb360_135990_4j_318_px_downgraded_75_to_99_per_sec_line_chart.html"
Elapsed Hours so far:    0.155

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:40 4j "Parallel Execution"
09:38:40 PX downgraded to serial Per Sec

WITH
per_instance AS (
SELECT /*+  MATERIALIZE NO_MERGE   DYNAMIC_SAMPLING(4)  */ /* 4j.314 */
       snap_id,
       instance_number,
       begin_time,
       end_time,
       maxval
  FROM DBA_HIST_sysmetric_summary
 WHERE snap_id BETWEEN 0 AND 1
   AND dbid = 604135990
   AND group_id =                    2 /* 1 minute intervals */
   AND metric_name = 'PX downgraded to serial Per Sec'
   AND maxval >= 0
)
SELECT /*+  NO_MERGE  */ /* 4j.314 */
       snap_id,
       TO_CHAR(MIN(begin_time), 'YYYY-MM-DD HH24:MI:SS') begin_time,
       TO_CHAR(MIN(end_time), 'YYYY-MM-DD HH24:MI:SS') end_time,
       ROUND(SUM(maxval), 1) "Max Value",
       0 dummy_02,
       0 dummy_03,
       0 dummy_04,
       0 dummy_05,
       0 dummy_06,
       0 dummy_07,
       0 dummy_08,
       0 dummy_09,
       0 dummy_10,
       0 dummy_11,
       0 dummy_12,
       0 dummy_13,
       0 dummy_14,
       0 dummy_15
  FROM per_instance
 GROUP BY
       snap_id
 ORDER BY
       snap_id

09:38:40 4j.319
Elapsed Hours so far:    0.155
Elapsed Hours so far: .155

Decorrido: 00:00:00.02

09:38:41 4j "00335_edb360_135990_4j_319_px_downgraded_to_serial_per_sec.html"
09:38:41 4j "00336_edb360_135990_4j_319_px_downgraded_to_serial_per_sec_line_chart.html"
Elapsed Hours so far:    0.155

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:42 4j "Parallel Execution"
09:38:42 PX operations not downgraded Per Sec

WITH
per_instance AS (
SELECT /*+  MATERIALIZE NO_MERGE   DYNAMIC_SAMPLING(4)  */ /* 4j.314 */
       snap_id,
       instance_number,
       begin_time,
       end_time,
       maxval
  FROM DBA_HIST_sysmetric_summary
 WHERE snap_id BETWEEN 0 AND 1
   AND dbid = 604135990
   AND group_id =                    2 /* 1 minute intervals */
   AND metric_name = 'PX operations not downgraded Per Sec'
   AND maxval >= 0
)
SELECT /*+  NO_MERGE  */ /* 4j.314 */
       snap_id,
       TO_CHAR(MIN(begin_time), 'YYYY-MM-DD HH24:MI:SS') begin_time,
       TO_CHAR(MIN(end_time), 'YYYY-MM-DD HH24:MI:SS') end_time,
       ROUND(SUM(maxval), 1) "Max Value",
       0 dummy_02,
       0 dummy_03,
       0 dummy_04,
       0 dummy_05,
       0 dummy_06,
       0 dummy_07,
       0 dummy_08,
       0 dummy_09,
       0 dummy_10,
       0 dummy_11,
       0 dummy_12,
       0 dummy_13,
       0 dummy_14,
       0 dummy_15
  FROM per_instance
 GROUP BY
       snap_id
 ORDER BY
       snap_id

09:38:42 4j.320
Elapsed Hours so far:    0.155
Elapsed Hours so far: .156

Decorrido: 00:00:00.02

09:38:43 4j "00337_edb360_135990_4j_320_px_operations_not_downgraded_per_sec.html"
09:38:43 4j "00338_edb360_135990_4j_320_px_operations_not_downgraded_per_sec_line_chart.html"
Elapsed Hours so far:    0.156

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:44 4j "Parallel Execution"
09:38:44 Queries parallelized Per Sec

WITH
per_instance AS (
SELECT /*+  MATERIALIZE NO_MERGE   DYNAMIC_SAMPLING(4)  */ /* 4j.314 */
       snap_id,
       instance_number,
       begin_time,
       end_time,
       maxval
  FROM DBA_HIST_sysmetric_summary
 WHERE snap_id BETWEEN 0 AND 1
   AND dbid = 604135990
   AND group_id =                    2 /* 1 minute intervals */
   AND metric_name = 'Queries parallelized Per Sec'
   AND maxval >= 0
)
SELECT /*+  NO_MERGE  */ /* 4j.314 */
       snap_id,
       TO_CHAR(MIN(begin_time), 'YYYY-MM-DD HH24:MI:SS') begin_time,
       TO_CHAR(MIN(end_time), 'YYYY-MM-DD HH24:MI:SS') end_time,
       ROUND(SUM(maxval), 1) "Max Value",
       0 dummy_02,
       0 dummy_03,
       0 dummy_04,
       0 dummy_05,
       0 dummy_06,
       0 dummy_07,
       0 dummy_08,
       0 dummy_09,
       0 dummy_10,
       0 dummy_11,
       0 dummy_12,
       0 dummy_13,
       0 dummy_14,
       0 dummy_15
  FROM per_instance
 GROUP BY
       snap_id
 ORDER BY
       snap_id

09:38:44 4j.321
Elapsed Hours so far:    0.156
Elapsed Hours so far: .156

Decorrido: 00:00:00.02

09:38:45 4j "00339_edb360_135990_4j_321_queries_parallelized_per_sec.html"
09:38:45 4j "00340_edb360_135990_4j_321_queries_parallelized_per_sec_line_chart.html"
Elapsed Hours so far:    0.157

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:46 4j "Parallel Execution"
09:38:46 DML statements parallelized Per Sec

WITH
per_instance AS (
SELECT /*+  MATERIALIZE NO_MERGE   DYNAMIC_SAMPLING(4)  */ /* 4j.314 */
       snap_id,
       instance_number,
       begin_time,
       end_time,
       maxval
  FROM DBA_HIST_sysmetric_summary
 WHERE snap_id BETWEEN 0 AND 1
   AND dbid = 604135990
   AND group_id =                    2 /* 1 minute intervals */
   AND metric_name = 'DML statements parallelized Per Sec'
   AND maxval >= 0
)
SELECT /*+  NO_MERGE  */ /* 4j.314 */
       snap_id,
       TO_CHAR(MIN(begin_time), 'YYYY-MM-DD HH24:MI:SS') begin_time,
       TO_CHAR(MIN(end_time), 'YYYY-MM-DD HH24:MI:SS') end_time,
       ROUND(SUM(maxval), 1) "Max Value",
       0 dummy_02,
       0 dummy_03,
       0 dummy_04,
       0 dummy_05,
       0 dummy_06,
       0 dummy_07,
       0 dummy_08,
       0 dummy_09,
       0 dummy_10,
       0 dummy_11,
       0 dummy_12,
       0 dummy_13,
       0 dummy_14,
       0 dummy_15
  FROM per_instance
 GROUP BY
       snap_id
 ORDER BY
       snap_id

09:38:46 4j.322
Elapsed Hours so far:    0.157
Elapsed Hours so far: .157

Decorrido: 00:00:00.02

09:38:46 4j "00341_edb360_135990_4j_322_dml_statements_parallelized_per_sec.html"
09:38:47 4j "00342_edb360_135990_4j_322_dml_statements_parallelized_per_sec_line_chart.html"
Elapsed Hours so far:    0.157

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

09:38:48 4j "Parallel Execution"
09:38:48 DDL statements parallelized Per Sec

WITH
per_instance AS (
SELECT /*+  MATERIALIZE NO_MERGE   DYNAMIC_SAMPLING(4)  */ /* 4j.314 */
       snap_id,
       instance_number,
       begin_time,
       end_time,
       maxval
  FROM DBA_HIST_sysmetric_summary
 WHERE snap_id BETWEEN 0 AND 1
   AND dbid = 604135990
   AND group_id =                    2 /* 1 minute intervals */
   AND metric_name = 'DDL statements parallelized Per Sec'
   AND maxval >= 0
)
SELECT /*+  NO_MERGE  */ /* 4j.314 */
       snap_id,
       TO_CHAR(MIN(begin_time), 'YYYY-MM-DD HH24:MI:SS') begin_time,
       TO_CHAR(MIN(end_time), 'YYYY-MM-DD HH24:MI:SS') end_time,
       ROUND(SUM(maxval), 1) "Max Value",
       0 dummy_02,
       0 dummy_03,
       0 dummy_04,
       0 dummy_05,
       0 dummy_06,
       0 dummy_07,
       0 dummy_08,
       0 dummy_09,
       0 dummy_10,
       0 dummy_11,
       0 dummy_12,
       0 dummy_13,
       0 dummy_14,
       0 dummy_15
  FROM per_instance
 GROUP BY
       snap_id
 ORDER BY
       snap_id

09:38:48 4j.323
Elapsed Hours so far:    0.157
Elapsed Hours so far: .157

Decorrido: 00:00:00.02

09:38:48 4j "00343_edb360_135990_4j_323_ddl_statements_parallelized_per_sec.html"
09:38:49 4j "00344_edb360_135990_4j_323_ddl_statements_parallelized_per_sec_line_chart.html"

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

TOOL_EXEC_HOURS
---------------------------------------------------------------------
Tool Execution Hours so far: .158
DEFINE _DATE           = "2024-10-03T09:38:49" (CHAR)
DEFINE _CONNECT_IDENTIFIER = "db340" (CHAR)
DEFINE _USER           = "SYSTEM" (CHAR)
DEFINE _PRIVILEGE      = "" (CHAR)
DEFINE _SQLPLUS_RELEASE = "1903000000" (CHAR)
DEFINE _EDITOR         = "Notepad" (CHAR)
DEFINE _O_VERSION      = "Oracle Database 11g Release 11.2.0.4.0 - 64bit Production" (CHAR)
DEFINE _O_RELEASE      = "1102000400" (CHAR)
DEFINE ASH_VALIDATION  = "" (CHAR)
DEFINE V_DOLLAR        = "V$" (CHAR)
DEFINE MY_SID          = "209" (CHAR)
DEFINE LICENSE_PACK    = "N" (CHAR)
DEFINE DIAGNOSTICS_PACK = "N" (CHAR)
DEFINE SKIP_DIAGNOSTICS = "--" (CHAR)
DEFINE TUNING_PACK     = "N" (CHAR)
DEFINE SKIP_TUNING     = "--" (CHAR)
DEFINE CUSTOM_CONFIG_FILENAME = "null" (CHAR)
DEFINE EDB360_ESTIMATED_HRS = "0" (CHAR)
DEFINE _RC             = "0" (CHAR)
DEFINE EDB360_SECTIONS = "" (CHAR)
DEFINE SQL_TRACE_LEVEL = "1" (CHAR)
DEFINE EDB360_CONF_DAYS = "31" (CHAR)
DEFINE EDB360_CONF_DATE_FROM = "YYYY-MM-DD" (CHAR)
DEFINE EDB360_CONF_DATE_TO = "YYYY-MM-DD" (CHAR)
DEFINE EDB360_CONF_WORK_TIME_FROM = "0730" (CHAR)
DEFINE EDB360_CONF_WORK_TIME_TO = "1930" (CHAR)
DEFINE EDB360_CONF_WORK_DAY_FROM = "2" (CHAR)
DEFINE EDB360_CONF_WORK_DAY_TO = "6" (CHAR)
DEFINE EDB360_CONF_MAX_HOURS = "24" (CHAR)
DEFINE EDB360_CHART_WIDTH = "809px" (CHAR)
DEFINE EDB360_CONF_INCL_DBNAME_INDEX = "N" (CHAR)
DEFINE EDB360_CONF_INCL_DBNAME_FILE = "N" (CHAR)
DEFINE EDB360_CONF_INCL_ASH_MEM = "N" (CHAR)
DEFINE EDB360_CONF_INCL_SQL_MON = "N" (CHAR)
DEFINE EDB360_CONF_INCL_STAT_MEM = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_PX_MEM = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_SEGMENTS = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_SOURCE = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_METADATA = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_EADAM = "Y" (CHAR)
DEFINE EDB360_EADAM_ROW_LIMIT = "10000000" (CHAR)
DEFINE TOOL_REPO_USER  = "" (CHAR)
DEFINE EDB360_OUTPUT_DIRECTORY = "" (CHAR)
DEFINE EDB360_MOVE_DIRECTORY = "" (CHAR)
DEFINE SKIP_ESP_AND_ESCP = "" (CHAR)
DEFINE EDB360_CONFIG_DBID = "" (CHAR)
DEFINE EDB360_HOST_NAME_SEPARATOR = "" (CHAR)
DEFINE EDB360_HOST_NAME_POSITION = "" (CHAR)
DEFINE EDB360_HOST_NAME_OCCURRENCE = "" (CHAR)
DEFINE EDB360_CONF_INCL_HTML = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_XML = "N" (CHAR)
DEFINE EDB360_CONF_INCL_TEXT = "N" (CHAR)
DEFINE EDB360_CONF_INCL_CSV = "N" (CHAR)
DEFINE EDB360_CONF_INCL_LINE = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_PIE = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_BAR = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_PERFHUB = "N" (CHAR)
DEFINE EDB360_CONF_INCL_AWR_RPT = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_AWR_DIFF_RPT = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_AWR_RANGE_RPT = "N" (CHAR)
DEFINE EDB360_CONF_INCL_ADDM_RPT = "N" (CHAR)
DEFINE EDB360_CONF_INCL_ASH_RPT = "N" (CHAR)
DEFINE EDB360_CONF_INCL_ASH_ANALY_RPT = "N" (CHAR)
DEFINE EDB360_CONF_INCL_TKPROF = "Y" (CHAR)
DEFINE EDB360_CONF_INCL_PLOT_AWR = "N" (CHAR)
DEFINE EDB360_CONF_SERIES_SELECTION = "N" (CHAR)
DEFINE EDB360_MAX_WORK_DAYS_PEAKS = "3" (CHAR)
DEFINE EDB360_MIN_WORK_DAYS_PEAKS = "1" (CHAR)
DEFINE EDB360_MAX_HISTORY_PEAKS = "3" (CHAR)
DEFINE EDB360_MED_HISTORY = "1" (CHAR)
DEFINE EDB360_MAX_5WD_PEAKS = "3" (CHAR)
DEFINE EDB360_MIN_5WD_PEAKS = "1" (CHAR)
DEFINE EDB360_MAX_7D_PEAKS = "3" (CHAR)
DEFINE EDB360_MED_7D   = "1" (CHAR)
DEFINE EDB360_CONF_TOP_SQL = "16" (CHAR)
DEFINE EDB360_CONF_TOP_CUR = "2" (CHAR)
DEFINE EDB360_CONF_TOP_SIG = "2" (CHAR)
DEFINE EDB360_CONF_PLANX_TOP = "16" (CHAR)
DEFINE EDB360_CONF_SQLMON_TOP = "0" (CHAR)
DEFINE EDB360_CONF_SQLASH_TOP = "0" (CHAR)
DEFINE EDB360_CONF_SQLHC_TOP = "0" (CHAR)
DEFINE EDB360_CONF_SQLD360_TOP = "8" (CHAR)
DEFINE EDB360_CONF_SQLD360_TOP_TC = "0" (CHAR)
DEFINE EDB360_CONF_DD_MODE = "AUTO" (CHAR)
DEFINE EDB360_CONF_CON_OPTION = "A" (CHAR)
DEFINE EDB360_CONF_IS_CDB = "A" (CHAR)
DEFINE TOOL_PREFIX_1   = "dba_hist#" (CHAR)
DEFINE TOOL_PREFIX_2   = "dba#" (CHAR)
DEFINE TOOL_PREFIX_3   = "gv#" (CHAR)
DEFINE TOOL_PREFIX_4   = "v#" (CHAR)
DEFINE EDB360_CONF_TOOL_PAGE = "<a href="http://carlos-sierra.net/edb360-an-oracle-database-360-degree-view/" target="_blank">" (CHAR)
DEFINE EDB360_CONF_ALL_PAGES_ICON = "<a href="http://carlos-sierra.net/edb360-an-oracle-database-360-degree-view/" target="_blank"><img src="database.jpg" alt="eDB360" height="33" width="52" /></a>" (CHAR)
DEFINE EDB360_CONF_ALL_PAGES_LOGO = "" (CHAR)
DEFINE EDB360_CONF_GOOGLE_CHARTS = "<script type="text/javascript" src="https://www.google.com/jsapi"></script>" (CHAR)
DEFINE EDB360_VYYNN    = "v241" (CHAR)
DEFINE EDB360_VRSN     = "v241 (2024-03-07)" (CHAR)
DEFINE EDB360_COPYRIGHT = "Enkitec (c) 2024" (CHAR)
DEFINE EDB360_BYPASS   = "" (CHAR)
DEFINE IS_VER_EQ_9_1   = "N" (CHAR)
DEFINE IS_VER_EQ_9_2   = "N" (CHAR)
DEFINE IS_VER_EQ_9     = "N" (CHAR)
DEFINE IS_VER_EQ_10_1  = "N" (CHAR)
DEFINE IS_VER_EQ_10_2  = "N" (CHAR)
DEFINE IS_VER_EQ_10    = "N" (CHAR)
DEFINE IS_VER_EQ_11_1  = "N" (CHAR)
DEFINE IS_VER_EQ_11_2  = "Y" (CHAR)
DEFINE IS_VER_EQ_11_201 = "N" (CHAR)
DEFINE IS_VER_EQ_11_203 = "N" (CHAR)
DEFINE IS_VER_EQ_11    = "Y" (CHAR)
DEFINE IS_VER_EQ_12_1  = "N" (CHAR)
DEFINE IS_VER_EQ_12_101 = "N" (CHAR)
DEFINE IS_VER_EQ_12_2  = "N" (CHAR)
DEFINE IS_VER_EQ_12    = "N" (CHAR)
DEFINE IS_VER_EQ_18    = "N" (CHAR)
DEFINE IS_VER_EQ_19    = "N" (CHAR)
DEFINE IS_VER_EQ_20    = "N" (CHAR)
DEFINE IS_VER_LE_9_1   = "N" (CHAR)
DEFINE IS_VER_LE_9_2   = "N" (CHAR)
DEFINE IS_VER_LE_9     = "N" (CHAR)
DEFINE IS_VER_LE_10_1  = "N" (CHAR)
DEFINE IS_VER_LE_10_2  = "N" (CHAR)
DEFINE IS_VER_LE_10    = "N" (CHAR)
DEFINE IS_VER_LE_11_1  = "N" (CHAR)
DEFINE IS_VER_LE_11_2  = "Y" (CHAR)
DEFINE IS_VER_LE_11_201 = "Y" (CHAR)
DEFINE IS_VER_LE_11_203 = "Y" (CHAR)
DEFINE IS_VER_LE_11    = "Y" (CHAR)
DEFINE IS_VER_LE_12_1  = "Y" (CHAR)
DEFINE IS_VER_LE_12_101 = "Y" (CHAR)
DEFINE IS_VER_LE_12_2  = "Y" (CHAR)
DEFINE IS_VER_LE_12    = "Y" (CHAR)
DEFINE IS_VER_LE_18    = "Y" (CHAR)
DEFINE IS_VER_LE_19    = "Y" (CHAR)
DEFINE IS_VER_LE_20    = "Y" (CHAR)
DEFINE IS_VER_GE_9_1   = "Y" (CHAR)
DEFINE IS_VER_GE_9_2   = "Y" (CHAR)
DEFINE IS_VER_GE_9     = "Y" (CHAR)
DEFINE IS_VER_GE_10_1  = "Y" (CHAR)
DEFINE IS_VER_GE_10_2  = "Y" (CHAR)
DEFINE IS_VER_GE_10    = "Y" (CHAR)
DEFINE IS_VER_GE_11_1  = "Y" (CHAR)
DEFINE IS_VER_GE_11_2  = "Y" (CHAR)
DEFINE IS_VER_GE_11    = "Y" (CHAR)
DEFINE IS_VER_GE_12_1  = "N" (CHAR)
DEFINE IS_VER_GE_12_2  = "N" (CHAR)
DEFINE IS_VER_GE_12    = "N" (CHAR)
DEFINE IS_VER_GE_18    = "N" (CHAR)
DEFINE IS_VER_GE_19    = "N" (CHAR)
DEFINE IS_VER_GE_20    = "N" (CHAR)
DEFINE SKIP_VER_EQ_9_1 = "" (CHAR)
DEFINE SKIP_VER_EQ_9_2 = "" (CHAR)
DEFINE SKIP_VER_EQ_9   = "" (CHAR)
DEFINE SKIP_VER_EQ_10_1 = "" (CHAR)
DEFINE SKIP_VER_EQ_10_2 = "" (CHAR)
DEFINE SKIP_VER_EQ_10  = "" (CHAR)
DEFINE SKIP_VER_EQ_11_1 = "" (CHAR)
DEFINE SKIP_VER_EQ_11_2 = "--" (CHAR)
DEFINE SKIP_VER_EQ_11_201 = "" (CHAR)
DEFINE SKIP_VER_EQ_11_203 = "" (CHAR)
DEFINE SKIP_VER_EQ_11  = "--" (CHAR)
DEFINE SKIP_VER_EQ_12_101 = "" (CHAR)
DEFINE SKIP_VER_EQ_12_1 = "" (CHAR)
DEFINE SKIP_VER_EQ_12_2 = "" (CHAR)
DEFINE SKIP_VER_EQ_12  = "" (CHAR)
DEFINE SKIP_VER_EQ_18  = "" (CHAR)
DEFINE SKIP_VER_EQ_19  = "" (CHAR)
DEFINE SKIP_VER_EQ_20  = "" (CHAR)
DEFINE SKIP_VER_LE_9_1 = "" (CHAR)
DEFINE SKIP_VER_LE_9_2 = "" (CHAR)
DEFINE SKIP_VER_LE_9   = "" (CHAR)
DEFINE SKIP_VER_LE_10_1 = "" (CHAR)
DEFINE SKIP_VER_LE_10_2 = "" (CHAR)
DEFINE SKIP_VER_LE_10  = "" (CHAR)
DEFINE SKIP_VER_LE_11_1 = "" (CHAR)
DEFINE SKIP_VER_LE_11_2 = "--" (CHAR)
DEFINE SKIP_VER_LE_11_201 = "--" (CHAR)
DEFINE SKIP_VER_LE_11_203 = "--" (CHAR)
DEFINE SKIP_VER_LE_11  = "--" (CHAR)
DEFINE SKIP_VER_LE_12_1 = "--" (CHAR)
DEFINE SKIP_VER_LE_12_101 = "--" (CHAR)
DEFINE SKIP_VER_LE_12_2 = "--" (CHAR)
DEFINE SKIP_VER_LE_12  = "--" (CHAR)
DEFINE SKIP_VER_LE_18  = "--" (CHAR)
DEFINE SKIP_VER_LE_19  = "--" (CHAR)
DEFINE SKIP_VER_LE_20  = "--" (CHAR)
DEFINE SKIP_VER_GE_9_1 = "--" (CHAR)
DEFINE SKIP_VER_GE_9_2 = "--" (CHAR)
DEFINE SKIP_VER_GE_9   = "--" (CHAR)
DEFINE SKIP_VER_GE_10_1 = "--" (CHAR)
DEFINE SKIP_VER_GE_10_2 = "--" (CHAR)
DEFINE SKIP_VER_GE_10  = "--" (CHAR)
DEFINE SKIP_VER_GE_11_1 = "--" (CHAR)
DEFINE SKIP_VER_GE_11_2 = "--" (CHAR)
DEFINE SKIP_VER_GE_11  = "--" (CHAR)
DEFINE SKIP_VER_GE_12_1 = "" (CHAR)
DEFINE SKIP_VER_GE_12_2 = "" (CHAR)
DEFINE SKIP_VER_GE_12  = "" (CHAR)
DEFINE SKIP_VER_GE_18  = "" (CHAR)
DEFINE SKIP_VER_GE_19  = "" (CHAR)
DEFINE SKIP_VER_GE_20  = "" (CHAR)
DEFINE IS_CDB          = "N" (CHAR)
DEFINE SKIP_NONCDB     = "--" (CHAR)
DEFINE SKIP_CDB        = "" (CHAR)
DEFINE ENV_DIAGNOSTICS_PACK = "N" (CHAR)
DEFINE ENV_CONF_DBID   = "" (CHAR)
DEFINE ENV_CONF_DATE_FROM = "YYYY-MM-DD" (CHAR)
DEFINE ENV_CONF_DATE_TO = "YYYY-MM-DD" (CHAR)
DEFINE ENV_CONF_DAYS   = "31" (CHAR)
DEFINE ENV_CONF_DD_MODE = "AUTO" (CHAR)
DEFINE ENV_CONF_CON_OPTION = "A" (CHAR)
DEFINE ENV_CONF_IS_CDB = "A" (CHAR)
DEFINE ENV_IS_CDB      = "N" (CHAR)
DEFINE ENV_CON_ID      = "-1" (CHAR)
DEFINE ENV_PDB_NAME    = "NONE" (CHAR)
DEFINE ENV_DD_MODE     = "DBA_HIST" (CHAR)
DEFINE ENV_AWR_CON_OPTION = "" (CHAR)
DEFINE ENV_AWR_HIST_PREFIX = "DBA_HIST_" (CHAR)
DEFINE ENV_AWR_OBJECT_PREFIX = "dba_" (CHAR)
DEFINE ENV_DBID        = "604135990" (CHAR)
DEFINE ENV_HISTORY_DAYS = "31" (CHAR)
DEFINE ENV_DATE_FORMAT = "YYYY-MM-DD"T"HH24:MI:SS" (CHAR)
DEFINE ENV_DATE_FROM   = "2024-09-02T09:29:23" (CHAR)
DEFINE ENV_DATE_TO     = "2024-10-03T09:29:23" (CHAR)
DEFINE ENV_MINIMUM_SNAP_ID = "0" (CHAR)
DEFINE ENV_MAXIMUM_SNAP_ID = "1" (CHAR)
DEFINE EDB360_CON_ID   = "-1" (CHAR)
DEFINE EDB360_PDB_NAME = "NONE" (CHAR)
DEFINE CDB_AWR_CON_OPTION = "" (CHAR)
DEFINE CDB_AWR_HIST_PREFIX = "DBA_HIST_" (CHAR)
DEFINE CDB_AWR_OBJECT_PREFIX = "dba_" (CHAR)
DEFINE EDB360_DBID     = "604135990" (CHAR)
DEFINE HISTORY_DAYS    = "31" (CHAR)
DEFINE EDB360_DATE_FORMAT = "YYYY-MM-DD"T"HH24:MI:SS" (CHAR)
DEFINE EDB360_DATE_FROM = "2024-09-02T09:29:23" (CHAR)
DEFINE EDB360_DATE_TO  = "2024-10-03T09:29:23" (CHAR)
DEFINE MINIMUM_SNAP_ID = "0" (CHAR)
DEFINE MAXIMUM_SNAP_ID = "1" (CHAR)
DEFINE EDB360_TIMESTAMP_FORMAT = "YYYY-MM-DD"T"HH24:MI:SS.FF" (CHAR)
DEFINE EDB360_TIMESTAMP_TZ_FORMAT = "YYYY-MM-DD"T"HH24:MI:SS.FFTZH:TZM" (CHAR)
DEFINE AWR_HIST_PREFIX = "DBA_HIST_" (CHAR)
DEFINE AWR_OBJECT_PREFIX = "dba_" (CHAR)
DEFINE DVA_VIEW_PREFIX = "DBA_" (CHAR)
DEFINE DVA_OBJECT_PREFIX = "dba_" (CHAR)
DEFINE GV_VIEW_PREFIX  = "GV$" (CHAR)
DEFINE GV_OBJECT_PREFIX = "gv$" (CHAR)
DEFINE V_VIEW_PREFIX   = "V$" (CHAR)
DEFINE V_OBJECT_PREFIX = "v$" (CHAR)
DEFINE CDB_VIEW_PREFIX = "DBA_" (CHAR)
DEFINE CDB_OBJECT_PREFIX = "dba_" (CHAR)
DEFINE EDB360_SYSMETRIC_HISTORY = "DBA_HIST_sysmetric_history" (CHAR)
DEFINE EDB360_SYSMETRIC_SUMMARY = "DBA_HIST_sysmetric_summary" (CHAR)
DEFINE EDB360_SYSMETRIC_GROUP =                    2 (NUMBER)
DEFINE TOOL_SYSDATE    = "20241003092923" (CHAR)
DEFINE BETWEEN_DATES   = ", between 2024-09-02T09:29:23 and 2024-10-03T09:29:23" (CHAR)
DEFINE HIST_WORK_DAYS  = "23" (CHAR)
DEFINE SKIP_EXTRAS     = "" (CHAR)
DEFINE EDB360_0G       = "edb360_0g_" (CHAR)
DEFINE EDB360_1A       = "edb360_1a_" (CHAR)
DEFINE EDB360_1B       = "edb360_1b_" (CHAR)
DEFINE EDB360_1C       = "edb360_1c_" (CHAR)
DEFINE EDB360_1D       = "edb360_1d_" (CHAR)
DEFINE EDB360_1E       = "edb360_1e_" (CHAR)
DEFINE EDB360_1F       = "edb360_1f_" (CHAR)
DEFINE EDB360_1G       = "edb360_1g_" (CHAR)
DEFINE EDB360_2A       = "edb360_2a_" (CHAR)
DEFINE EDB360_2B       = "edb360_2b_" (CHAR)
DEFINE EDB360_2C       = "edb360_2c_" (CHAR)
DEFINE EDB360_2D       = "edb360_2d_" (CHAR)
DEFINE EDB360_2E       = "edb360_2e_" (CHAR)
DEFINE EDB360_3A       = "edb360_3a_" (CHAR)
DEFINE EDB360_3B       = "edb360_3b_" (CHAR)
DEFINE EDB360_3C       = "edb360_3c_" (CHAR)
DEFINE EDB360_3D       = "edb360_3d_" (CHAR)
DEFINE EDB360_3E       = "edb360_3e_" (CHAR)
DEFINE EDB360_3F       = "edb360_3f_" (CHAR)
DEFINE EDB360_3G       = "edb360_3g_" (CHAR)
DEFINE EDB360_3H       = "edb360_3h_" (CHAR)
DEFINE EDB360_3I       = "edb360_3i_" (CHAR)
DEFINE EDB360_3J       = "edb360_3j_" (CHAR)
DEFINE EDB360_4A       = "edb360_4a_" (CHAR)
DEFINE EDB360_4B       = "edb360_4b_" (CHAR)
DEFINE EDB360_4C       = "edb360_4c_" (CHAR)
DEFINE EDB360_4D       = "edb360_4d_" (CHAR)
DEFINE EDB360_4E       = "edb360_4e_" (CHAR)
DEFINE EDB360_4F       = "edb360_4f_" (CHAR)
DEFINE EDB360_4G       = "edb360_4g_" (CHAR)
DEFINE EDB360_4H       = "edb360_4h_" (CHAR)
DEFINE EDB360_4I       = "edb360_4i_" (CHAR)
DEFINE EDB360_4J       = "edb360_4j_" (CHAR)
DEFINE EDB360_4K       = "edb360_4k_" (CHAR)
DEFINE EDB360_4L       = "edb360_4l_" (CHAR)
DEFINE EDB360_5A       = "edb360_5a_" (CHAR)
DEFINE EDB360_5B       = "edb360_5b_" (CHAR)
DEFINE EDB360_5C       = "edb360_5c_" (CHAR)
DEFINE EDB360_5D       = "edb360_5d_" (CHAR)
DEFINE EDB360_5E       = "edb360_5e_" (CHAR)
DEFINE EDB360_5F       = "edb360_5f_" (CHAR)
DEFINE EDB360_5G       = "edb360_5g_" (CHAR)
DEFINE EDB360_6A       = "edb360_6a_" (CHAR)
DEFINE EDB360_6B       = "edb360_6b_" (CHAR)
DEFINE EDB360_6C       = "edb360_6c_" (CHAR)
DEFINE EDB360_6D       = "edb360_6d_" (CHAR)
DEFINE EDB360_6E       = "edb360_6e_" (CHAR)
DEFINE EDB360_6F       = "edb360_6f_" (CHAR)
DEFINE EDB360_6G       = "edb360_6g_" (CHAR)
DEFINE EDB360_6H       = "edb360_6h_" (CHAR)
DEFINE EDB360_6I       = "edb360_6i_" (CHAR)
DEFINE EDB360_6J       = "edb360_6j_" (CHAR)
DEFINE EDB360_6K       = "edb360_6k_" (CHAR)
DEFINE EDB360_6L       = "edb360_6l_" (CHAR)
DEFINE EDB360_6M       = "edb360_6m_" (CHAR)
DEFINE EDB360_6N       = "edb360_6n_" (CHAR)
DEFINE EDB360_6O       = "edb360_6o_" (CHAR)
DEFINE EDB360_7A       = "edb360_7a_" (CHAR)
DEFINE EDB360_7B       = "edb360_7b_" (CHAR)
DEFINE EDB360_7C       = "edb360_7c_" (CHAR)
DEFINE EDB360_5W       = "edb360_5w_" (CHAR)
DEFINE EDB360_PREFIX   = "edb360" (CHAR)
DEFINE ECR_COLLECTION_KEY = "" (CHAR)
DEFINE SKIP_SCRIPT     = "sql/edb360_0f_skip_script.sql " (CHAR)
DEFINE EDB360_DBMOD    = "135990" (CHAR)
DEFINE CONNECT_INSTANCE_NUMBER = "1" (CHAR)
DEFINE DATABASE_NAME_SHORT = "db340" (CHAR)
DEFINE HOST_NAME_SHORT = "db340" (CHAR)
DEFINE HOST_NAME_SUFFIX = "" (CHAR)
DEFINE ESP_HOST_NAME_SHORT = "db340" (CHAR)
DEFINE HOST_HASH       = "269584" (CHAR)
DEFINE ESP_COLLECTION_YYYYMMDD = "20241003" (CHAR)
DEFINE MIN_WAIT_TIME_MILLI =         .00009765625 (NUMBER)
DEFINE MAX_WAIT_TIME_MILLI =             16777216 (NUMBER)
DEFINE MAIN_TABLE      = "DBA_HIST_sysmetric_summary" (CHAR)
DEFINE TITLE           = "DDL statements parallelized Per Sec" (CHAR)
DEFINE TITLE_NO_SPACES = "ddl_statements_parallelized_per_sec" (CHAR)
DEFINE TITLE_SUFFIX    = "" (CHAR)
DEFINE EDB360_FILE_TIME = "20241003_0929" (CHAR)
DEFINE COMMON_EDB360_PREFIX = "edb360_135990" (CHAR)
DEFINE EDB360_MAIN_REPORT = "00001_edb360_135990_index" (CHAR)
DEFINE EDB360_LOG      = "00002_edb360_135990_log" (CHAR)
DEFINE EDB360_LOG2     = "00003_edb360_135990_log2" (CHAR)
DEFINE EDB360_LOG3     = "00004_edb360_135990_log3" (CHAR)
DEFINE EDB360_TKPROF   = "00005_edb360_135990_tkprof" (CHAR)
DEFINE EDB360_MAIN_FILENAME = "edb360_135990_269584" (CHAR)
DEFINE EDB360_ZIP_FILENAME = "edb360_135990_269584_20241003_0929" (CHAR)
DEFINE EDB360_TRACEFILE_IDENTIFIER = "edb360_135990" (CHAR)
DEFINE EDB360_TAR_FILENAME = "00008_edb360_135990_269584_20241003_0929" (CHAR)
DEFINE EDB360_MV_HOST_COMMAND = "" (CHAR)
DEFINE DB_VERS_OFE     = "11.2.0.4" (CHAR)
DEFINE DB_VERSION      = "11.2.0.4.0" (CHAR)
DEFINE SKIP_NON_REPO_COLUMN = "" (CHAR)
DEFINE SKIP_NON_REPO_SCRIPT = "" (CHAR)
DEFINE AVG_CPU_COUNT   = "4" (CHAR)
DEFINE SUM_CPU_COUNT   = "4" (CHAR)
DEFINE AVG_CORE_COUNT  = "4" (CHAR)
DEFINE AVG_THREAD_COUNT = "4" (CHAR)
DEFINE CPU_LOAD_THRESHOLD = "8" (CHAR)
DEFINE HOSTS_COUNT     = "" (CHAR)
DEFINE CORES_THREADS_HOSTS = "cores:4(avg) threads:4(avg) hosts:(avg)" (CHAR)
DEFINE DATABASE_BLOCK_SIZE = "8192" (CHAR)
DEFINE INST1_PRESENT   = "" (CHAR)
DEFINE INST2_PRESENT   = "" (CHAR)
DEFINE INST3_PRESENT   = "" (CHAR)
DEFINE INST4_PRESENT   = "" (CHAR)
DEFINE INST5_PRESENT   = "" (CHAR)
DEFINE INST6_PRESENT   = "" (CHAR)
DEFINE INST7_PRESENT   = "" (CHAR)
DEFINE INST8_PRESENT   = "" (CHAR)
DEFINE IS_SINGLE_INSTANCE = "" (CHAR)
DEFINE SKIP_INST1      = "-- skip inst1" (CHAR)
DEFINE SKIP_INST2      = "-- skip inst2" (CHAR)
DEFINE SKIP_INST3      = "-- skip inst3" (CHAR)
DEFINE SKIP_INST4      = "-- skip inst4" (CHAR)
DEFINE SKIP_INST5      = "-- skip inst5" (CHAR)
DEFINE SKIP_INST6      = "-- skip inst6" (CHAR)
DEFINE SKIP_INST7      = "-- skip inst7" (CHAR)
DEFINE SKIP_INST8      = "-- skip inst8" (CHAR)
DEFINE CHART_SETUP_DRIVER = "99800_edb360_135990_chart_setup_driver1.sql" (CHAR)
DEFINE EDB360_EADAM_SNAPS = "-666" (CHAR)
DEFINE EBS_RELEASE     = "" (CHAR)
DEFINE EBS_SYSTEM_NAME = "" (CHAR)
DEFINE SIEBEL_SCHEMA   = "NOT_A_SIEBEL_DB" (CHAR)
DEFINE SIEBEL_APP_VER  = "" (CHAR)
DEFINE PSFT_SCHEMA     = "NOT_A_PSFT_DB" (CHAR)
DEFINE PSFT_TOOLS_REL  = "" (CHAR)
DEFINE PSFT_SKIP       = "" (CHAR)
DEFINE EDB360_SKIP_HTML = "" (CHAR)
DEFINE EDB360_SKIP_XML = " echo skip xml " (CHAR)
DEFINE EDB360_SKIP_TEXT = " echo skip text " (CHAR)
DEFINE EDB360_SKIP_CSV = " echo skip csv " (CHAR)
DEFINE EDB360_SKIP_LINE = "" (CHAR)
DEFINE EDB360_SKIP_PIE = "" (CHAR)
DEFINE EDB360_SKIP_BAR = "" (CHAR)
DEFINE EDB360_SKIP_METADATA = "" (CHAR)
DEFINE EDB360_SKIP_ASH_MEM = " echo skip ash mem " (CHAR)
DEFINE EDB360_SKIP_SQL_MON = " echo skip sql mon " (CHAR)
DEFINE EDB360_SKIP_STAT_MEM = "" (CHAR)
DEFINE EDB360_SKIP_PX_MEM = "" (CHAR)
DEFINE TOP_LEVEL_HINTS = " NO_MERGE " (CHAR)
DEFINE SQ_FACT_HINTS   = " MATERIALIZE NO_MERGE " (CHAR)
DEFINE DS_HINT         = " DYNAMIC_SAMPLING(4) " (CHAR)
DEFINE ASH_HINTS1      = " FULL(h.ash) FULL(h.evt) FULL(h.sn) USE_HASH(h.sn h.ash h.evt) " (CHAR)
DEFINE ASH_HINTS2      = " FULL(h.INT$DBA_HIST_ACT_SESS_HISTORY.sn) FULL(h.INT$DBA_HIST_ACT_SESS_HISTORY.ash) FULL(h.INT$DBA_HIST_ACT_SESS_HISTORY.evt) " (CHAR)
DEFINE ASH_HINTS3      = " USE_HASH(h.INT$DBA_HIST_ACT_SESS_HISTORY.sn h.INT$DBA_HIST_ACT_SESS_HISTORY.ash h.INT$DBA_HIST_ACT_SESS_HISTORY.evt) " (CHAR)
DEFINE DEF_MAX_ROWS    = "10000" (CHAR)
DEFINE MAX_ROWS        = "10000" (CHAR)
DEFINE EXCLUSION_LIST  = "('ANONYMOUS','APEX_030200','APEX_040000','APEX_040200','APEX_180200','APEX_SSO','APPQOSSYS','CTXSYS','DBSNMP','DIP','EXFSYS','FLOWS_FILES','MDSYS','OLAPSYS','ORACLE_OCM','ORDDATA','ORDPLUGINS','ORDSYS','OUTLN','OWBSYS')" (CHAR)
DEFINE EXCLUSION_LIST2 = "('SI_INFORMTN_SCHEMA','SQLTXADMIN','SQLTXPLAIN','SYS','SYSMAN','SYSTEM','TRCANLZR','WMSYS','XDB','XS$NULL','PERFSTAT','STDBYPERF','MGDSYS','OJVMSYS','GSMADMIN_INTERNAL')" (CHAR)
DEFINE SKIP_HTML       = "" (CHAR)
DEFINE SKIP_TEXT       = "" (CHAR)
DEFINE SKIP_CSV        = "" (CHAR)
DEFINE SKIP_LCH        = "--skip--" (CHAR)
DEFINE SKIP_LCH2       = "--skip--" (CHAR)
DEFINE SKIP_PCH        = "--skip--" (CHAR)
DEFINE SKIP_BCH        = "--skip--" (CHAR)
DEFINE SKIP_ALL        = "" (CHAR)
DEFINE ABSTRACT        = "" (CHAR)
DEFINE ABSTRACT2       = "" (CHAR)
DEFINE FOOT            = "" (CHAR)
DEFINE ABSTRACT_UOM    = "Memory is accounted as power of two (binary) while storage and network traffic as power of ten (decimal). <br />" (CHAR)
DEFINE CHARTYPE        = "LineChart" (CHAR)
DEFINE STACKED         = "" (CHAR)
DEFINE HAXIS           = " 11.2.0.4.0 cores:4(avg) threads:4(avg) hosts:(avg)" (CHAR)
DEFINE VAXIS           = "DDL Per Second" (CHAR)
DEFINE VBASELINE       = "" (CHAR)
DEFINE BAR_HEIGHT      = "65%" (CHAR)
DEFINE TIT_01          = "Max Value" (CHAR)
DEFINE TIT_02          = "" (CHAR)
DEFINE TIT_03          = "" (CHAR)
DEFINE TIT_04          = "" (CHAR)
DEFINE TIT_05          = "" (CHAR)
DEFINE TIT_06          = "" (CHAR)
DEFINE TIT_07          = "" (CHAR)
DEFINE TIT_08          = "" (CHAR)
DEFINE TIT_09          = "" (CHAR)
DEFINE TIT_10          = "" (CHAR)
DEFINE TIT_11          = "" (CHAR)
DEFINE TIT_12          = "" (CHAR)
DEFINE TIT_13          = "" (CHAR)
DEFINE TIT_14          = "" (CHAR)
DEFINE TIT_15          = "" (CHAR)
DEFINE CONT_01         = "-1" (CHAR)
DEFINE CONT_02         = "-1" (CHAR)
DEFINE CONT_03         = "-1" (CHAR)
DEFINE CONT_04         = "-1" (CHAR)
DEFINE CONT_05         = "-1" (CHAR)
DEFINE CONT_06         = "-1" (CHAR)
DEFINE CONT_07         = "-1" (CHAR)
DEFINE CONT_08         = "-1" (CHAR)
DEFINE CONT_09         = "-1" (CHAR)
DEFINE CONT_10         = "-1" (CHAR)
DEFINE CONT_11         = "-1" (CHAR)
DEFINE CONT_12         = "-1" (CHAR)
DEFINE CONT_13         = "-1" (CHAR)
DEFINE CONT_14         = "-1" (CHAR)
DEFINE CONT_15         = "-1" (CHAR)
DEFINE WAIT_CLASS_01   = "" (CHAR)
DEFINE EVENT_NAME_01   = "" (CHAR)
DEFINE WAIT_CLASS_02   = "" (CHAR)
DEFINE EVENT_NAME_02   = "" (CHAR)
DEFINE WAIT_CLASS_03   = "" (CHAR)
DEFINE EVENT_NAME_03   = "" (CHAR)
DEFINE WAIT_CLASS_04   = "" (CHAR)
DEFINE EVENT_NAME_04   = "" (CHAR)
DEFINE WAIT_CLASS_05   = "" (CHAR)
DEFINE EVENT_NAME_05   = "" (CHAR)
DEFINE WAIT_CLASS_06   = "" (CHAR)
DEFINE EVENT_NAME_06   = "" (CHAR)
DEFINE WAIT_CLASS_07   = "" (CHAR)
DEFINE EVENT_NAME_07   = "" (CHAR)
DEFINE WAIT_CLASS_08   = "" (CHAR)
DEFINE EVENT_NAME_08   = "" (CHAR)
DEFINE WAIT_CLASS_09   = "" (CHAR)
DEFINE EVENT_NAME_09   = "" (CHAR)
DEFINE WAIT_CLASS_10   = "" (CHAR)
DEFINE EVENT_NAME_10   = "" (CHAR)
DEFINE WAIT_CLASS_11   = "" (CHAR)
DEFINE EVENT_NAME_11   = "" (CHAR)
DEFINE WAIT_CLASS_12   = "" (CHAR)
DEFINE EVENT_NAME_12   = "" (CHAR)
DEFINE EXADATA         = "" (CHAR)
DEFINE MAX_COL_NUMBER  = "7" (CHAR)
DEFINE COLUMN_NUMBER   = "7" (CHAR)
DEFINE RECOVERY        = "& recovery" (CHAR)
DEFINE TOTAL_HOURS     = "" (CHAR)
DEFINE EDB360_TIME_STAMP = "2024-10-03T09:38:48" (CHAR)
DEFINE REPORT_SEQUENCE = "324" (CHAR)
DEFINE CURRENT_TIME    = "" (CHAR)
DEFINE EXACT_MATCHING_SIGNATURE = "" (CHAR)
DEFINE FORCE_MATCHING_SIGNATURE = "" (CHAR)
DEFINE WAIT_CLASS_COLORS = " CASE wait_class WHEN 'ON CPU' THEN '34CF27' WHEN 'Scheduler' THEN '9FFA9D' WHEN 'User I/O' THEN '0252D7' WHEN 'System I/O' THEN '1E96DD' " (CHAR)
DEFINE WAIT_CLASS_COLORS2 = " WHEN 'Concurrency' THEN '871C12' WHEN 'Application' THEN 'C42A05' WHEN 'Commit' THEN 'EA6A05' WHEN 'Configuration' THEN '594611'  " (CHAR)
DEFINE WAIT_CLASS_COLORS3 = " WHEN 'Administrative' THEN '75763E'  WHEN 'Network' THEN '989779' WHEN 'Other' THEN 'F571A0' " (CHAR)
DEFINE WAIT_CLASS_COLORS4 = " WHEN 'Cluster' THEN 'CEC3B5' WHEN 'Queueing' THEN 'C6BAA5' ELSE '000000' END " (CHAR)
DEFINE SERIES_01       = "" (CHAR)
DEFINE SERIES_02       = "" (CHAR)
DEFINE SERIES_03       = "" (CHAR)
DEFINE SERIES_04       = "" (CHAR)
DEFINE SERIES_05       = "" (CHAR)
DEFINE SERIES_06       = "" (CHAR)
DEFINE SERIES_07       = "" (CHAR)
DEFINE SERIES_08       = "" (CHAR)
DEFINE SERIES_09       = "" (CHAR)
DEFINE SERIES_10       = "" (CHAR)
DEFINE SERIES_11       = "" (CHAR)
DEFINE SERIES_12       = "" (CHAR)
DEFINE SERIES_13       = "" (CHAR)
DEFINE SERIES_14       = "" (CHAR)
DEFINE SERIES_15       = "" (CHAR)
DEFINE SKIP_LCHP       = "--skip--" (CHAR)
DEFINE EDB360_UDUMP_PATH = "/fs3/app/oracle/diag/rdbms/db340/db340/trace/" (CHAR)
DEFINE EDB360_SPID     = "17699" (CHAR)
DEFINE REPORT_DBNAME   = "" (CHAR)
DEFINE SECTION_ID      = "4j" (CHAR)
DEFINE SECTION_NAME    = "Parallel Execution" (CHAR)
DEFINE PROCESSOR_MODEL = "" (CHAR)
DEFINE EXA_CELLS       =                    0 (NUMBER)
DEFINE EXA_STORAGE     = "" (CHAR)
DEFINE EXA_STORAGE_VER = "" (CHAR)
DEFINE HH_MM_SS        = "09:38:49" (CHAR)
DEFINE SPOOL_FILENAME  = "edb360_135990_4j_323_ddl_statements_parallelized_per_sec" (CHAR)
DEFINE ROW_NUM         = "0" (CHAR)
DEFINE EDB360_PREV_SQL_ID = "4jz8rk87tv345" (CHAR)
DEFINE EDB360_PREV_CHILD_NUMBER = "0" (CHAR)
DEFINE ONE_SPOOL_FILENAME = "00344_edb360_135990_4j_323_ddl_statements_parallelized_per_sec" (CHAR)
DEFINE 1               = "echo" (CHAR)
DEFINE 2               = "skip" (CHAR)
DEFINE 3               = "sqlmonsqlmon.sql" (CHAR)
DEFINE EDB360_TUNING_PACK_FOR_SQLMON = "N" (CHAR)
DEFINE SKIP_SQLMON_EXEC = " echo skip sqlmon" (CHAR)
DEFINE EDB360_SQL_TEXT_100 = "" (CHAR)
DEFINE 4               = "N" (CHAR)
DEFINE 5               = "4jz8rk87tv345" (CHAR)
DEFINE STATSPACK_USER  = "perfstat" (CHAR)
DEFINE SP_MINIMUM_SNAP_ID = "-1" (CHAR)
DEFINE SP_MAXIMUM_SNAP_ID = "-1" (CHAR)
DEFINE SKIP_IF_MISSING = " echo skip " (CHAR)
DEFINE TOTAL_BUFFER_GETS =            244058022 (NUMBER)
DEFINE TOTAL_DISK_READS =             32113569 (NUMBER)
DEFINE REPORT_DATE     = "2024-10-03T09:34:00" (CHAR)
DEFINE DAYS_OF_HISTORY_ACCESSED = "31" (CHAR)
DEFINE CAPTURED_AT_LEAST_X_TIMES = "10" (CHAR)
DEFINE CAPTURED_AT_LEAST_X_DAYS_APART = "5" (CHAR)
DEFINE MED_ELAP_MICROSECS_THRESHOLD = "1e4" (CHAR)
DEFINE MIN_SLOPE_THRESHOLD = "0.1" (CHAR)
DEFINE MAX_NUM_ROWS_X  = "20" (CHAR)
Parameters
SID                                      NAME                                     TYPE        VALUE                                              DISPLAY_VALUE                                      ISSPEC              ORDINAL
---------------------------------------- ---------------------------------------- ----------- -------------------------------------------------- -------------------------------------------------- ------ --------------------
*                                        audit_file_dest                          string      /fs3/app/oracle/admin/db340/adump                  /fs3/app/oracle/admin/db340/adump                  TRUE                      1
*                                        audit_trail                              string      db                                                 db                                                 TRUE                      1
*                                        compatible                               string      11.2.0.4.0                                         11.2.0.4.0                                         TRUE                      1
*                                        control_files                            string      /fs200/oradata/db340/control01.ctl                 /fs200/oradata/db340/control01.ctl                 TRUE                      1
*                                        control_files                            string      /fs201/oradata/db340/control02.ctl                 /fs201/oradata/db340/control02.ctl                 TRUE                      2
*                                        control_files                            string      /fs205/oradata/db340/control03.ctl                 /fs205/oradata/db340/control03.ctl                 TRUE                      3
*                                        db_block_size                            integer     8192                                               8192                                               TRUE                      1
*                                        db_domain                                string      br-atacadao.corp                                   br-atacadao.corp                                   TRUE                      1
*                                        db_name                                  string      db340                                              db340                                              TRUE                      1
*                                        diagnostic_dest                          string      /fs3/app/oracle                                    /fs3/app/oracle                                    TRUE                      1
*                                        dispatchers                              string      (PROTOCOL=TCP) (SERVICE=db340XDB)                  (PROTOCOL=TCP) (SERVICE=db340XDB)                  TRUE                      1
*                                        local_listener                           string      (ADDRESS = (PROTOCOL = IPC)(KEY = db340))          (ADDRESS = (PROTOCOL = IPC)(KEY = db340))          TRUE                      1
*                                        log_archive_dest_1                       string      LOCATION=/fs205/oradata/db340/archive              LOCATION=/fs205/oradata/db340/archive              TRUE                      1
*                                        log_archive_format                       string      arch_%t_%s_%r.dbf                                  arch_%t_%s_%r.dbf                                  TRUE                      1
*                                        memory_max_target                        big integer 10737418240                                        10G                                                TRUE                      1
*                                        memory_target                            big integer 10737418240                                        10G                                                TRUE                      1
*                                        nls_language                             string      BRAZILIAN PORTUGUESE                               BRAZILIAN PORTUGUESE                               TRUE                      1
*                                        nls_territory                            string      BRAZIL                                             BRAZIL                                             TRUE                      1
*                                        open_cursors                             integer     300                                                300                                                TRUE                      1
*                                        processes                                integer     150                                                150                                                TRUE                      1
*                                        remote_login_passwordfile                string      EXCLUSIVE                                          EXCLUSIVE                                          TRUE                      1
*                                        sga_max_size                             big integer 0                                                  0                                                  TRUE                      1
*                                        undo_tablespace                          string      UNDOTBS1                                           UNDOTBS1                                           TRUE                      1
NAME                                 TYPE        VALUE
------------------------------------ ----------- ------------------------------
O7_DICTIONARY_ACCESSIBILITY          boolean     FALSE
_always_semi_join                    string      CHOOSE
_and_pruning_enabled                 boolean     TRUE
_gby_hash_aggregation_enabled        boolean     FALSE
_hash_join_enabled                   boolean     TRUE
_optim_peek_user_binds               boolean     TRUE
_optimizer_order_by_elimination_enab boolean     FALSE
led
_optimizer_skip_scan_enabled         boolean     TRUE
_optimizer_sortmerge_join_enabled    boolean     TRUE
_serial_direct_read                  string      ALWAYS
_small_table_threshold               integer     1001
_subquery_pruning_enabled            boolean     TRUE
active_instance_count                integer
aq_tm_processes                      integer     1
archive_lag_target                   integer     0
asm_diskgroups                       string
asm_diskstring                       string
asm_power_limit                      integer     1
asm_preferred_read_failure_groups    string
audit_file_dest                      string      /fs3/app/oracle/admin/db340/ad
                                                 ump
audit_sys_operations                 boolean     FALSE
audit_syslog_level                   string
audit_trail                          string      DB
awr_snapshot_time_offset             integer     0
background_core_dump                 string      partial
background_dump_dest                 string      /fs3/app/oracle/diag/rdbms/db3
                                                 40/db340/trace
backup_tape_io_slaves                boolean     FALSE
bitmap_merge_area_size               integer     1048576
blank_trimming                       boolean     FALSE
buffer_pool_keep                     string
buffer_pool_recycle                  string
cell_offload_compaction              string      ADAPTIVE
cell_offload_decryption              boolean     TRUE
cell_offload_parameters              string
cell_offload_plan_display            string      AUTO
cell_offload_processing              boolean     TRUE
cell_offloadgroup_name               string
circuits                             integer
client_result_cache_lag              big integer 3000
client_result_cache_size             big integer 0
clonedb                              boolean     FALSE
cluster_database                     boolean     FALSE
cluster_database_instances           integer     1
cluster_interconnects                string
commit_logging                       string
commit_point_strength                integer     1
commit_wait                          string
commit_write                         string
compatible                           string      11.2.0.4.0
control_file_record_keep_time        integer     7
control_files                        string      /fs200/oradata/db340/control01
                                                 .ctl, /fs201/oradata/db340/con
                                                 trol02.ctl, /fs205/oradata/db3
                                                 40/control03.ctl
control_management_pack_access       string      NONE
core_dump_dest                       string      /fs3/app/oracle/diag/rdbms/db3
                                                 40/db340/cdump
cpu_count                            integer     4
create_bitmap_area_size              integer     8388608
create_stored_outlines               string
cursor_bind_capture_destination      string      memory+disk
cursor_sharing                       string      EXACT
cursor_space_for_time                boolean     FALSE
db_16k_cache_size                    big integer 0
db_2k_cache_size                     big integer 0
db_32k_cache_size                    big integer 0
db_4k_cache_size                     big integer 0
db_8k_cache_size                     big integer 0
db_block_buffers                     integer     0
db_block_checking                    string      FALSE
db_block_checksum                    string      TYPICAL
db_block_size                        integer     8192
db_cache_advice                      string      ON
db_cache_size                        big integer 0
db_create_file_dest                  string
db_create_online_log_dest_1          string
db_create_online_log_dest_2          string
db_create_online_log_dest_3          string
db_create_online_log_dest_4          string
db_create_online_log_dest_5          string
db_domain                            string      br-atacadao.corp
db_file_multiblock_read_count        integer     128
db_file_name_convert                 string
db_files                             integer     200
db_flash_cache_file                  string
db_flash_cache_size                  big integer 0
db_flashback_retention_target        integer     1440
db_keep_cache_size                   big integer 0
db_lost_write_protect                string      NONE
db_name                              string      db340
db_recovery_file_dest                string
db_recovery_file_dest_size           big integer 0
db_recycle_cache_size                big integer 0
db_securefile                        string      PERMITTED
db_ultra_safe                        string      OFF
db_unique_name                       string      db340
db_unrecoverable_scn_tracking        boolean     TRUE
db_writer_processes                  integer     1
dbwr_io_slaves                       integer     0
ddl_lock_timeout                     integer     0
deferred_segment_creation            boolean     TRUE
dg_broker_config_file1               string      /fs3/app/oracle/product/11.2.0
                                                 /dbs/dr1db340.dat
dg_broker_config_file2               string      /fs3/app/oracle/product/11.2.0
                                                 /dbs/dr2db340.dat
dg_broker_start                      boolean     FALSE
diagnostic_dest                      string      /fs3/app/oracle
disk_asynch_io                       boolean     TRUE
dispatchers                          string      (PROTOCOL=TCP) (SERVICE=db340X
                                                 DB)
distributed_lock_timeout             integer     60
dml_locks                            integer     1088
dnfs_batch_size                      integer     4096
dst_upgrade_insert_conv              boolean     TRUE
enable_ddl_logging                   boolean     FALSE
enable_goldengate_replication        boolean     FALSE
event                                string
fal_client                           string
fal_server                           string
fast_start_io_target                 integer     0
fast_start_mttr_target               integer     0
fast_start_parallel_rollback         string      LOW
file_mapping                         boolean     FALSE
fileio_network_adapters              string
filesystemio_options                 string      none
fixed_date                           string
gcs_server_processes                 integer     0
global_context_pool_size             string
global_names                         boolean     FALSE
global_txn_processes                 integer     1
hash_area_size                       integer     131072
hi_shared_memory_address             integer     0
hs_autoregister                      boolean     TRUE
ifile                                file
instance_groups                      string
instance_name                        string      db340
instance_number                      integer     0
instance_type                        string      RDBMS
instant_restore                      boolean     FALSE
java_jit_enabled                     boolean     TRUE
java_max_sessionspace_size           integer     0
java_pool_size                       big integer 0
java_restrict                        string      none
java_soft_sessionspace_limit         integer     0
job_queue_processes                  integer     1000
large_pool_size                      big integer 0
ldap_directory_access                string      NONE
ldap_directory_sysauth               string      no
license_max_sessions                 integer     0
license_max_users                    integer     0
license_sessions_warning             integer     0
listener_networks                    string
local_listener                       string      (ADDRESS = (PROTOCOL = IPC)(KE
                                                 Y = db340))
lock_name_space                      string
lock_sga                             boolean     FALSE
log_archive_config                   string
log_archive_dest                     string
log_archive_dest_1                   string      LOCATION=/fs205/oradata/db340/
                                                 archive
log_archive_dest_10                  string
log_archive_dest_11                  string
log_archive_dest_12                  string
log_archive_dest_13                  string
log_archive_dest_14                  string
log_archive_dest_15                  string
log_archive_dest_16                  string
log_archive_dest_17                  string
log_archive_dest_18                  string
log_archive_dest_19                  string
log_archive_dest_2                   string
log_archive_dest_20                  string
log_archive_dest_21                  string
log_archive_dest_22                  string
log_archive_dest_23                  string
log_archive_dest_24                  string
log_archive_dest_25                  string
log_archive_dest_26                  string
log_archive_dest_27                  string
log_archive_dest_28                  string
log_archive_dest_29                  string
log_archive_dest_3                   string
log_archive_dest_30                  string
log_archive_dest_31                  string
log_archive_dest_4                   string
log_archive_dest_5                   string
log_archive_dest_6                   string
log_archive_dest_7                   string
log_archive_dest_8                   string
log_archive_dest_9                   string
log_archive_dest_state_1             string      enable
log_archive_dest_state_10            string      enable
log_archive_dest_state_11            string      enable
log_archive_dest_state_12            string      enable
log_archive_dest_state_13            string      enable
log_archive_dest_state_14            string      enable
log_archive_dest_state_15            string      enable
log_archive_dest_state_16            string      enable
log_archive_dest_state_17            string      enable
log_archive_dest_state_18            string      enable
log_archive_dest_state_19            string      enable
log_archive_dest_state_2             string      enable
log_archive_dest_state_20            string      enable
log_archive_dest_state_21            string      enable
log_archive_dest_state_22            string      enable
log_archive_dest_state_23            string      enable
log_archive_dest_state_24            string      enable
log_archive_dest_state_25            string      enable
log_archive_dest_state_26            string      enable
log_archive_dest_state_27            string      enable
log_archive_dest_state_28            string      enable
log_archive_dest_state_29            string      enable
log_archive_dest_state_3             string      enable
log_archive_dest_state_30            string      enable
log_archive_dest_state_31            string      enable
log_archive_dest_state_4             string      enable
log_archive_dest_state_5             string      enable
log_archive_dest_state_6             string      enable
log_archive_dest_state_7             string      enable
log_archive_dest_state_8             string      enable
log_archive_dest_state_9             string      enable
log_archive_duplex_dest              string
log_archive_format                   string      arch_%t_%s_%r.dbf
log_archive_local_first              boolean     TRUE
log_archive_max_processes            integer     4
log_archive_min_succeed_dest         integer     1
log_archive_start                    boolean     FALSE
log_archive_trace                    integer     0
log_buffer                           integer     5308416
log_checkpoint_interval              integer     0
log_checkpoint_timeout               integer     1800
log_checkpoints_to_alert             boolean     FALSE
log_file_name_convert                string
max_dispatchers                      integer
max_dump_file_size                   string      1G
max_enabled_roles                    integer     150
max_shared_servers                   integer
memory_max_target                    big integer 10G
memory_target                        big integer 10G
nls_calendar                         string      GREGORIAN
nls_comp                             string      BINARY
nls_currency                         string      R$
nls_date_format                      string      YYYY-MM-DD"T"HH24:MI:SS
nls_date_language                    string      BRAZILIAN PORTUGUESE
nls_dual_currency                    string      Cr$
nls_iso_currency                     string      BRAZIL
nls_language                         string      BRAZILIAN PORTUGUESE
nls_length_semantics                 string      BYTE
nls_nchar_conv_excp                  string      FALSE
nls_numeric_characters               string      .,
nls_sort                             string      BINARY
nls_territory                        string      BRAZIL
nls_time_format                      string      HH24:MI:SSXFF
nls_time_tz_format                   string      HH24:MI:SSXFF TZR
nls_timestamp_format                 string      YYYY-MM-DD"T"HH24:MI:SS.FF
nls_timestamp_tz_format              string      YYYY-MM-DD"T"HH24:MI:SS.FFTZH:
                                                 TZM
object_cache_max_size_percent        integer     10
object_cache_optimal_size            integer     102400
olap_page_pool_size                  big integer 0
open_cursors                         integer     300
open_links                           integer     4
open_links_per_instance              integer     4
optimizer_capture_sql_plan_baselines boolean     FALSE
optimizer_dynamic_sampling           integer     0
optimizer_features_enable            string      11.2.0.4
optimizer_index_caching              integer     0
optimizer_index_cost_adj             integer     100
optimizer_mode                       string      ALL_ROWS
optimizer_secure_view_merging        boolean     TRUE
optimizer_use_invisible_indexes      boolean     FALSE
optimizer_use_pending_statistics     boolean     FALSE
optimizer_use_sql_plan_baselines     boolean     TRUE
os_authent_prefix                    string      ops$
os_roles                             boolean     FALSE
parallel_adaptive_multi_user         boolean     TRUE
parallel_automatic_tuning            boolean     FALSE
parallel_degree_limit                string      CPU
parallel_degree_policy               string      MANUAL
parallel_execution_message_size      integer     16384
parallel_force_local                 boolean     FALSE
parallel_instance_group              string
parallel_io_cap_enabled              boolean     FALSE
parallel_max_servers                 integer     0
parallel_min_percent                 integer     0
parallel_min_servers                 integer     0
parallel_min_time_threshold          string      AUTO
parallel_server                      boolean     FALSE
parallel_server_instances            integer     1
parallel_servers_target              integer     64
parallel_threads_per_cpu             integer     2
permit_92_wrap_format                boolean     TRUE
pga_aggregate_target                 big integer 0
plscope_settings                     string      IDENTIFIERS:NONE
plsql_ccflags                        string
plsql_code_type                      string      INTERPRETED
plsql_debug                          boolean     FALSE
plsql_optimize_level                 integer     2
plsql_v2_compatibility               boolean     FALSE
plsql_warnings                       string      DISABLE:ALL
pre_page_sga                         boolean     FALSE
processes                            integer     150
processor_group_name                 string
query_rewrite_enabled                string      TRUE
query_rewrite_integrity              string      enforced
rdbms_server_dn                      string
read_only_open_delayed               boolean     FALSE
recovery_parallelism                 integer     0
recyclebin                           string      on
redo_transport_user                  string
remote_dependencies_mode             string      TIMESTAMP
remote_listener                      string
remote_login_passwordfile            string      EXCLUSIVE
remote_os_authent                    boolean     FALSE
remote_os_roles                      boolean     FALSE
replication_dependency_tracking      boolean     TRUE
resource_limit                       boolean     FALSE
resource_manager_cpu_allocation      integer     4
resource_manager_plan                string
result_cache_max_result              integer     5
result_cache_max_size                big integer 0
result_cache_mode                    string      MANUAL
result_cache_remote_expiration       integer     0
resumable_timeout                    integer     0
rollback_segments                    string
sec_case_sensitive_logon             boolean     TRUE
sec_max_failed_login_attempts        integer     10
sec_protocol_error_further_action    string      CONTINUE
sec_protocol_error_trace_action      string      TRACE
sec_return_server_release_banner     boolean     FALSE
serial_reuse                         string      disable
service_names                        string      db340.br-atacadao.corp
session_cached_cursors               integer     50
session_max_open_files               integer     10
sessions                             integer     248
sga_max_size                         big integer 1920M
sga_target                           big integer 0
shadow_core_dump                     string      partial
shared_memory_address                integer     0
shared_pool_reserved_size            big integer 21390950
shared_pool_size                     big integer 0
shared_server_sessions               integer
shared_servers                       integer     1
skip_unusable_indexes                boolean     TRUE
smtp_out_server                      string
sort_area_retained_size              integer     0
sort_area_size                       integer     65536
spfile                               string      /fs3/app/oracle/product/11.2.0
                                                 /dbs/spfiledb340.ora
sql92_security                       boolean     FALSE
sql_trace                            boolean     FALSE
sqltune_category                     string      DEFAULT
standby_archive_dest                 string      ?/dbs/arch
standby_file_management              string      MANUAL
star_transformation_enabled          string      FALSE
statistics_level                     string      TYPICAL
streams_pool_size                    big integer 0
tape_asynch_io                       boolean     TRUE
thread                               integer     0
timed_os_statistics                  integer     0
timed_statistics                     boolean     TRUE
trace_enabled                        boolean     TRUE
tracefile_identifier                 string      edb360_135990
transactions                         integer     272
transactions_per_rollback_segment    integer     5
undo_management                      string      AUTO
undo_retention                       integer     900
undo_tablespace                      string      UNDOTBS1
use_indirect_data_buffers            boolean     FALSE
use_large_pages                      string      TRUE
user_dump_dest                       string      /fs3/app/oracle/diag/rdbms/db3
                                                 40/db340/trace
utl_file_dir                         string
workarea_size_policy                 string      AUTO
xml_db_events                        string      enable

       ELAPSED_HOURS
--------------------
                .158

TOOL_EXEC_HOURS
---------------------------------------------------------------------
Tool Execution Hours so far: .158
end log
